var UE=Object.defineProperty;var WE=(Fr,rr,zr)=>rr in Fr?UE(Fr,rr,{enumerable:!0,configurable:!0,writable:!0,value:zr}):Fr[rr]=zr;var fr=(Fr,rr,zr)=>WE(Fr,typeof rr!="symbol"?rr+"":rr,zr);(function(){"use strict";var Fr=document.createElement("style");Fr.textContent=`/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */.xterm{cursor:text;position:relative;-moz-user-select:none;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent;pointer-events:none}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{-webkit-text-decoration:overline double underline;text-decoration:overline double underline}.xterm-overline.xterm-underline-3{-webkit-text-decoration:overline wavy underline;text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{-webkit-text-decoration:overline dotted underline;text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{-webkit-text-decoration:overline dashed underline;text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/*! tailwindcss v3.4.18 | MIT License | https://tailwindcss.com
 */*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media(min-width:640px){.container{max-width:640px}}@media(min-width:768px){.container{max-width:768px}}@media(min-width:1024px){.container{max-width:1024px}}@media(min-width:1280px){.container{max-width:1280px}}@media(min-width:1536px){.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.collapse{visibility:collapse}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.right-0{right:0}.z-50{z-index:50}.z-\\[1100\\]{z-index:1100}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-6{margin-left:1.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.h-0\\.5{height:.125rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-3{height:.75rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.max-h-60{max-height:15rem}.max-h-96{max-height:24rem}.max-h-\\[90vh\\]{max-height:90vh}.min-h-0{min-height:0px}.w-11{width:2.75rem}.w-12{width:3rem}.w-2{width:.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-80{width:20rem}.w-full{width:100%}.min-w-0{min-width:0px}.max-w-2xl{max-width:42rem}.max-w-\\[300px\\]{max-width:300px}.max-w-full{max-width:100%}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}.animate-spin{animation:spin 1s linear infinite}.cursor-move{cursor:move}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.cursor-se-resize{cursor:se-resize}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize{resize:both}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.content-start{align-content:flex-start}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.self-start{align-self:flex-start}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-l-2{border-left-width:2px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-none{border-style:none}.border-\\[\\#3e3e3e\\]{--tw-border-opacity: 1;border-color:rgb(62 62 62 / var(--tw-border-opacity, 1))}.border-\\[color-mix\\(in_srgb\\,var\\(--accent-warning\\)_30\\%\\,var\\(--border-color\\)\\)\\]{border-color:color-mix(in srgb,var(--accent-warning) 30%,var(--border-color))}.border-\\[var\\(--accent-primary\\)\\]{border-color:var(--accent-primary)}.border-\\[var\\(--border-color\\)\\]{border-color:var(--border-color)}.border-\\[var\\(--border-primary\\)\\]{border-color:var(--border-primary)}.border-\\[var\\(--border-subtle\\)\\]{border-color:var(--border-subtle)}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-800\\/50{border-color:#1e40af80}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-gray-800{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-green-800{--tw-border-opacity: 1;border-color:rgb(22 101 52 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-red-800{--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.border-yellow-800{--tw-border-opacity: 1;border-color:rgb(133 77 14 / var(--tw-border-opacity, 1))}.border-yellow-800\\/50{border-color:#854d0e80}.bg-\\[\\#1e1e1e\\]{--tw-bg-opacity: 1;background-color:rgb(30 30 30 / var(--tw-bg-opacity, 1))}.bg-\\[\\#2d2d2d\\]{--tw-bg-opacity: 1;background-color:rgb(45 45 45 / var(--tw-bg-opacity, 1))}.bg-\\[color-mix\\(in_srgb\\,var\\(--accent-warning\\)_10\\%\\,transparent\\)\\]{background-color:color-mix(in srgb,var(--accent-warning) 10%,transparent)}.bg-\\[var\\(--accent-error\\)\\]{background-color:var(--accent-error)}.bg-\\[var\\(--accent-primary\\)\\]{background-color:var(--accent-primary)}.bg-\\[var\\(--accent-success\\)\\]{background-color:var(--accent-success)}.bg-\\[var\\(--accent-warning\\)\\]{background-color:var(--accent-warning)}.bg-\\[var\\(--bg-base\\)\\]{background-color:var(--bg-base)}.bg-\\[var\\(--bg-elevated\\)\\]{background-color:var(--bg-elevated)}.bg-\\[var\\(--bg-secondary\\)\\]{background-color:var(--bg-secondary)}.bg-\\[var\\(--bg-subtle\\)\\]{background-color:var(--bg-subtle)}.bg-\\[var\\(--bg-tertiary\\)\\]{background-color:var(--bg-tertiary)}.bg-\\[var\\(--border-color\\)\\]{background-color:var(--border-color)}.bg-\\[var\\(--status-completed-bg\\)\\]{background-color:var(--status-completed-bg)}.bg-\\[var\\(--status-running-bg\\)\\]{background-color:var(--status-running-bg)}.bg-\\[var\\(--text-muted\\)\\]{background-color:var(--text-muted)}.bg-amber-500{--tw-bg-opacity: 1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.bg-black\\/10{background-color:#0000001a}.bg-black\\/5{background-color:#0000000d}.bg-black\\/50{background-color:#00000080}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-blue-900\\/20{background-color:#1e3a8a33}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-800\\/50{background-color:#1f293780}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-500\\/20{background-color:#22c55e33}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-green-900\\/30{background-color:#14532d4d}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-900\\/30{background-color:#7f1d1d4d}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-yellow-900\\/20{background-color:#713f1233}.bg-yellow-900\\/30{background-color:#713f124d}.fill-current{fill:currentColor}.p-0{padding:0}.p-1{padding:.25rem}.p-1\\.5{padding:.375rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\\.5{padding-left:.375rem;padding-right:.375rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-4{padding-bottom:1rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.font-sans{font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-\\[10px\\]{font-size:10px}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.capitalize{text-transform:capitalize}.italic{font-style:italic}.leading-relaxed{line-height:1.625}.text-\\[\\#d4d4d4\\]{--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity, 1))}.text-\\[var\\(--accent-error\\)\\]{color:var(--accent-error)}.text-\\[var\\(--accent-info\\)\\]{color:var(--accent-info)}.text-\\[var\\(--accent-primary\\)\\]{color:var(--accent-primary)}.text-\\[var\\(--accent-success\\)\\]{color:var(--accent-success)}.text-\\[var\\(--accent-warning\\)\\]{color:var(--accent-warning)}.text-\\[var\\(--text-error\\)\\]{color:var(--text-error)}.text-\\[var\\(--text-muted\\)\\]{color:var(--text-muted)}.text-\\[var\\(--text-primary\\)\\]{color:var(--text-primary)}.text-\\[var\\(--text-secondary\\)\\]{color:var(--text-secondary)}.text-blue-300{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-blue-900{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.text-cyan-400{--tw-text-opacity: 1;color:rgb(34 211 238 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-green-300{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-orange-400{--tw-text-opacity: 1;color:rgb(251 146 60 / var(--tw-text-opacity, 1))}.text-pink-400{--tw-text-opacity: 1;color:rgb(244 114 182 / var(--tw-text-opacity, 1))}.text-purple-400{--tw-text-opacity: 1;color:rgb(192 132 252 / var(--tw-text-opacity, 1))}.text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-300{--tw-text-opacity: 1;color:rgb(253 224 71 / var(--tw-text-opacity, 1))}.text-yellow-400{--tw-text-opacity: 1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.text-yellow-700{--tw-text-opacity: 1;color:rgb(161 98 7 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.placeholder-\\[var\\(--text-muted\\)\\]::-moz-placeholder{color:var(--text-muted)}.placeholder-\\[var\\(--text-muted\\)\\]::placeholder{color:var(--text-muted)}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-40{opacity:.4}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[height\\]{transition-property:height;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}:root{--bg-primary: #000000;--bg-secondary: #0A0A0A;--bg-tertiary: #1A1A1A;--bg-card: #0A0A0A;--bg-base: #0A0A0A;--bg-subtle: #1A1A1A;--text-primary: #FFFFFF;--text-secondary: #ADADAD;--text-muted: #888888;--text-link: #EDEDED;--text-on-accent: #0A0A0A;--accent-primary: #EDEDED;--accent-secondary: #FFFFFF;--accent-muted: #888888;--accent-success: #3fb950;--accent-warning: #d29922;--accent-error: #f85149;--border-color: #1A1A1A;--border-muted: #0A0A0A;--border-primary: #EDEDED;--shadow-color: rgba(0, 0, 0, .6);--status-running-bg: rgba(210, 153, 34, .15);--status-completed-bg: rgba(63, 185, 80, .15);--status-error-bg: rgba(248, 81, 73, .15);--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 16px;--spacing-lg: 24px;--spacing-xl: 32px;--spacing-2xl: 48px;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--font-scale: 1;--font-size-xs: calc(11px * var(--font-scale));--font-size-sm: calc(12px * var(--font-scale));--font-size-base: calc(13px * var(--font-scale));--font-size-md: calc(14px * var(--font-scale));--font-size-lg: calc(16px * var(--font-scale));--font-size-xl: calc(18px * var(--font-scale));--font-size-2xl: calc(24px * var(--font-scale));--font-family: "Geist Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Noto Sans SC", sans-serif;--font-mono: "Geist Mono", "SF Mono", Monaco, "Cascadia Code", Consolas, monospace;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-bold: 600;--transition-fast: .15s ease;--transition-normal: .2s ease;--transition-slow: .3s ease;--bottom-nav-height: 48px;--status-height: 28px;--sidebar-width: 240px;--sidebar-collapsed-width: 56px}[data-theme=light]{--bg-primary: #FFFFFF;--bg-secondary: #FAFAFA;--bg-tertiary: #F5F5F5;--bg-card: #FFFFFF;--bg-base: #FFFFFF;--bg-subtle: #E5E5E5;--text-primary: #0A0A0A;--text-secondary: #666666;--text-muted: #888888;--text-link: #0A0A0A;--text-on-accent: #FFFFFF;--accent-primary: #0A0A0A;--accent-secondary: #000000;--accent-muted: #888888;--accent-success: #1a7f37;--accent-warning: #9a6700;--accent-error: #cf222e;--border-color: #E5E5E5;--border-muted: #EBEBEB;--border-primary: #0A0A0A;--shadow-color: rgba(0, 0, 0, .1);--status-running-bg: rgba(154, 103, 0, .12);--status-completed-bg: rgba(26, 127, 55, .12);--status-error-bg: rgba(207, 34, 46, .12)}[data-theme=light] .task-input-wrapper{box-shadow:0 -4px 20px #00000014,0 -1px 3px #0000000d}[data-theme=light] .task-input-wrapper:focus-within{box-shadow:0 -4px 24px #0000001f,0 -1px 3px #00000014}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;overflow:hidden}body{font-family:var(--font-family);font-size:var(--font-size-base);background-color:var(--bg-primary);color:var(--text-primary);line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[data-platform=windows],[data-platform=linux]{-webkit-font-smoothing:subpixel-antialiased}#root{height:100%;display:flex;flex-direction:column}::-webkit-scrollbar{width:2px;height:2px}::-webkit-scrollbar:hover{width:6px;height:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--text-muted);border-radius:1px}::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.font-mono{font-family:var(--font-mono)}a:not(.btn):not(.nav-tab){color:var(--text-link);text-decoration:none;text-underline-offset:4px;transition:-webkit-text-decoration var(--transition-normal);transition:text-decoration var(--transition-normal);transition:text-decoration var(--transition-normal),-webkit-text-decoration var(--transition-normal)}a:not(.btn):not(.nav-tab):hover{text-decoration:underline}.icon-sm{width:16px;height:16px}.icon-md{width:20px;height:20px}.icon-lg{width:24px;height:24px}.status-running{color:var(--accent-warning)}.status-completed{color:var(--accent-success)}.status-error,.status-cancelled{color:var(--accent-error)}.bottom-nav{height:var(--bottom-nav-height);padding-top:6px;background:var(--bg-secondary);display:flex;border-top:1px solid var(--border-color);flex-shrink:0}.bottom-nav-item{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;border:none;background:transparent;color:var(--text-muted);font-size:var(--font-size-xs);cursor:pointer;transition:color var(--transition-fast)}.bottom-nav-item:hover{color:var(--text-secondary)}.bottom-nav-item.active{color:var(--accent-primary)}.bottom-nav-item svg{width:20px;height:20px}.main-layout{display:flex;height:100%;width:100%;overflow:hidden}.content-area{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0}.main-content{flex:1;overflow:hidden;display:flex;flex-direction:column;background:var(--bg-primary)}.sidebar{width:var(--sidebar-width);min-width:var(--sidebar-width);height:100%;background:var(--bg-secondary);border-right:1px solid var(--border-color);display:flex;flex-direction:column;transition:width .2s ease,min-width .2s ease;overflow:hidden}.sidebar.collapsed{width:var(--sidebar-collapsed-width);min-width:var(--sidebar-collapsed-width)}.sidebar-header{padding:16px 20px;border-bottom:1px solid var(--border-color);display:flex;align-items:center;gap:12px;min-height:56px}.sidebar.collapsed .sidebar-header{padding:16px 12px}.sidebar-logo{width:32px;height:32px;background:var(--accent-primary);border-radius:8px;display:flex;align-items:center;justify-content:center;color:var(--text-on-accent);font-weight:700;font-size:var(--font-size-md);flex-shrink:0}.sidebar-title{font-weight:600;font-size:var(--font-size-lg);color:var(--text-primary);white-space:nowrap}.sidebar-nav{flex:1;padding:12px 8px;display:flex;flex-direction:column;gap:4px}.sidebar-menu-item{display:flex;align-items:center;gap:12px;padding:12px 16px;justify-content:flex-start;background:transparent;border:none;border-radius:8px;color:var(--text-secondary);cursor:pointer;transition:all .15s ease;width:100%}.sidebar.collapsed .sidebar-menu-item{padding:12px;justify-content:center}.sidebar-menu-item:hover,.sidebar-menu-item.active{background:var(--bg-tertiary);color:var(--text-primary)}.sidebar-menu-icon{flex-shrink:0}.sidebar-menu-label{font-size:var(--font-size-md);font-weight:400;white-space:nowrap}.sidebar-menu-item.active .sidebar-menu-label{font-weight:500}.sidebar-footer{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-top:1px solid var(--border-color)}.sidebar.collapsed .sidebar-footer{flex-direction:column;gap:8px;padding:12px 8px}.sidebar-footer-btn{display:flex;align-items:center;justify-content:center;padding:8px;background:transparent;border:none;border-radius:6px;color:var(--text-muted);cursor:pointer;transition:all .15s ease}.sidebar-footer-btn:hover{background:var(--bg-tertiary);color:var(--text-secondary)}.collapse-icon{transition:transform .2s ease}.collapse-icon.collapsed{transform:rotate(180deg)}.dashboard-container{display:flex;flex-direction:column;gap:24px}.dashboard-header h1{font-size:var(--font-size-2xl);font-weight:600;color:var(--text-primary);margin-bottom:8px}.dashboard-header p{font-size:var(--font-size-md);color:var(--text-secondary)}.dashboard-stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:16px}.dashboard-card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:12px;padding:20px}.dashboard-card.clickable{cursor:pointer}.dashboard-card-icon-wrapper{display:flex;align-items:center;gap:12px;margin-bottom:12px}.dashboard-card-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center}.dashboard-card-icon.success{background:#3fb95026}.dashboard-card-icon.error{background:#f8514926}.dashboard-card-icon.info{background:#58a6ff26}.dashboard-card-icon.warning{background:#d2992226}.dashboard-card-icon.purple{background:#8b5cf626}.dashboard-card-icon-label{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary)}.dashboard-card-value{font-size:var(--font-size-2xl);font-weight:600;color:var(--text-primary);margin-bottom:4px}.dashboard-card-label{font-size:var(--font-size-base);color:var(--text-muted);display:flex;align-items:center;gap:4px}.dashboard-row{display:grid;grid-template-columns:1fr 300px;gap:16px}.dashboard-section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.dashboard-section-title{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary);display:flex;align-items:center;gap:8px}.dashboard-section-title-only{font-size:var(--font-size-lg);font-weight:600;color:var(--text-primary);margin-bottom:16px}.dashboard-view-all-btn{background:transparent;border:none;color:var(--text-muted);cursor:pointer;display:flex;align-items:center;gap:4px;font-size:var(--font-size-base)}.dashboard-activity-list{display:flex;flex-direction:column;gap:8px}.dashboard-activity-item{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-tertiary);border-radius:8px;cursor:pointer}.dashboard-activity-dot{width:8px;height:8px;border-radius:50%}.dashboard-activity-dot.completed{background:var(--accent-success)}.dashboard-activity-dot.running{background:var(--accent-warning)}.dashboard-activity-dot.error{background:var(--accent-error)}.dashboard-activity-dot.default{background:var(--text-muted)}.dashboard-activity-content{flex:1;min-width:0}.dashboard-activity-title{font-size:var(--font-size-base);color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dashboard-activity-time{font-size:var(--font-size-sm);color:var(--text-muted)}.dashboard-empty{text-align:center;padding:32px;color:var(--text-muted)}.dashboard-card-full{grid-column:1 / -1}.activity-chart-container{width:100%;margin-bottom:24px}.activity-line-chart{display:block;width:100%;height:auto}.chart-grid-line{stroke:var(--border-color);stroke-width:1;stroke-dasharray:4 4}.chart-axis-line{stroke:var(--text-muted);stroke-width:1}.chart-line{stroke:var(--accent-primary);stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round}.chart-area{fill:var(--accent-primary);opacity:.15}.chart-point{fill:var(--accent-primary);stroke:var(--bg-primary);stroke-width:2;transition:r .2s ease}.chart-point:hover{r:6}.chart-axis-label{fill:var(--text-muted);font-size:11px;font-family:inherit}.chart-axis-title{fill:var(--text-secondary);font-size:12px;font-family:inherit}.activity-stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:16px}.activity-stat{display:flex;flex-direction:column;align-items:center;gap:6px;padding:16px 12px;background:var(--bg-tertiary);border-radius:12px}.activity-stat-value{font-size:var(--font-size-xl);font-weight:600;color:var(--text-primary)}.activity-stat-label{font-size:var(--font-size-sm);color:var(--text-muted)}.dashboard-action-btn{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-tertiary);border:none;border-radius:8px;cursor:pointer;color:var(--text-primary);text-align:left}.dashboard-action-label{font-size:var(--font-size-md)}.dashboard-loading{display:flex;align-items:center;justify-content:center}.text-success{color:var(--accent-success)}.text-error{color:var(--accent-error)}.text-warning{color:var(--accent-warning)}.text-info{color:#58a6ff}.text-purple{color:#8b5cf6}.text-muted{color:var(--text-muted)}.text-accent{color:var(--accent-primary)}.page-scroll{flex:1;overflow-x:hidden;overflow-y:auto;min-height:0;padding:var(--spacing-md)}.status-bar{height:var(--status-height);background:var(--bg-secondary);display:flex;align-items:center;padding:0 var(--spacing-md);border-top:1px solid var(--border-color);font-size:var(--font-size-sm);color:var(--text-muted);flex-shrink:0}.card{background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-md);transition:border-color var(--transition-fast)}.card:hover{border-color:var(--accent-primary)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:8px 16px;height:32px;border:none;border-radius:var(--radius-sm);font-size:var(--font-size-base);font-weight:var(--font-weight-medium);cursor:pointer;transition:all var(--transition-normal);-webkit-app-region:no-drag}.btn-primary{background:var(--accent-primary);color:var(--text-on-accent)}.btn-primary:hover{background:var(--accent-secondary)}.btn-secondary{background:var(--bg-subtle);color:var(--text-primary)}.btn-secondary:hover{background:var(--bg-tertiary)}.btn-ghost{background:transparent;color:var(--text-secondary)}.btn-ghost:hover{background:var(--bg-subtle);color:var(--text-primary)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--text-muted);text-align:center;padding:var(--spacing-2xl)}.empty-state-icon{font-size:var(--font-size-2xl);margin-bottom:var(--spacing-md);opacity:.5}.empty-state-title{font-size:var(--font-size-xl);font-weight:var(--font-weight-medium);color:var(--text-secondary);margin-bottom:var(--spacing-sm)}.empty-state-description{font-size:var(--font-size-base);max-width:300px}.toast-container{position:fixed;bottom:calc(var(--status-height) + var(--bottom-nav-height) + var(--spacing-md));right:var(--spacing-md);display:flex;flex-direction:column;gap:var(--spacing-sm);z-index:1000}.toast{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--text-primary);font-size:var(--font-size-base);box-shadow:0 4px 12px var(--shadow-color);animation:slideIn .2s ease}.toast-success{border-left:3px solid var(--accent-success)}.toast-error{border-left:3px solid var(--accent-error)}.toast-warning{border-left:3px solid var(--accent-warning)}.toast-info{border-left:3px solid var(--accent-primary)}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.spinner{width:24px;height:24px;border:2px solid var(--border-color);border-top-color:var(--accent-primary);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.task-card-v2{display:flex;align-items:stretch;gap:var(--spacing-md);padding:var(--spacing-md);background:var(--bg-card);border:1px solid var(--border-color);border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast)}.task-card-v2:hover{border-color:var(--accent-primary);background:var(--bg-tertiary)}.task-card-v2:hover .task-arrow{color:var(--accent-primary)}.task-status-badge{width:28px;height:28px;border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:var(--font-size-base)}.task-status-badge.running{background:var(--status-running-bg);color:var(--accent-warning);animation:badge-pulse 2s infinite}.task-status-badge.completed{background:var(--status-completed-bg);color:var(--accent-success)}.task-status-badge.error{background:var(--status-error-bg);color:var(--accent-error)}.task-status-badge.cancelled{background:var(--bg-subtle);color:var(--text-muted)}@keyframes badge-pulse{0%,to{opacity:1}50%{opacity:.6}}.task-main{flex:1;min-width:0;display:flex;flex-direction:column;gap:var(--spacing-xs)}.task-header{display:flex;justify-content:space-between;align-items:flex-start;gap:var(--spacing-sm)}.task-title{font-weight:var(--font-weight-medium);font-size:var(--font-size-sm);color:var(--text-primary);line-height:1.4;flex:1;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.task-time{font-size:var(--font-size-sm);color:var(--text-muted);white-space:nowrap;flex-shrink:0}.task-progress{padding:var(--spacing-xs) 0}.task-progress-bar{height:3px;background:var(--bg-subtle);border-radius:2px;overflow:hidden}.task-progress-fill{height:100%;width:30%;background:var(--accent-warning);border-radius:2px;animation:progress-slide 1.5s ease-in-out infinite}@keyframes progress-slide{0%{transform:translate(-100%);width:30%}50%{width:50%}to{transform:translate(400%);width:30%}}.task-footer{display:flex;align-items:center;gap:var(--spacing-sm);font-size:var(--font-size-xs)}.task-status-label{font-weight:var(--font-weight-medium);font-size:var(--font-size-xs)}.task-stat{display:flex;align-items:center;gap:3px;color:var(--text-muted);font-size:var(--font-size-xs)}.task-stat-icon{font-size:var(--font-size-xs)}.task-arrow{display:flex;align-items:center;color:var(--text-muted);font-size:var(--font-size-md);font-weight:300;transition:color var(--transition-fast)}.step-list{display:flex;flex-direction:column;gap:var(--spacing-sm)}.step-item-new{padding:var(--spacing-sm) var(--spacing-md);background:var(--bg-tertiary);border-radius:var(--radius-sm);border-left:3px solid var(--border-primary)}.step-item-new:hover{background:var(--bg-secondary)}.step-item{display:flex;gap:var(--spacing-sm);padding:var(--spacing-sm);background:var(--bg-tertiary);border-radius:var(--radius-sm);font-size:var(--font-size-sm)}.step-icon{width:18px;height:18px;display:flex;align-items:center;justify-content:center;flex-shrink:0;border-radius:4px;font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);font-family:var(--font-mono)}.step-icon.user{background:var(--accent-primary);color:var(--text-on-accent)}.step-icon.assistant{background:var(--accent-success);color:var(--text-on-accent)}.step-icon.tool{background:var(--accent-warning);color:var(--text-on-accent)}.step-content{flex:1;min-width:0;color:var(--text-secondary);word-break:break-word;line-height:1.5}.step-tool-name{margin-right:var(--spacing-sm);padding:2px 6px;background:var(--bg-secondary);border-radius:3px;font-size:var(--font-size-sm)}.step-content code{font-family:var(--font-mono);font-size:var(--font-size-sm);background:var(--bg-subtle);padding:2px 6px;border-radius:3px}.search-box{position:relative;display:flex;align-items:center;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:var(--radius-md);margin:var(--spacing-md);margin-bottom:0;transition:border-color var(--transition-fast)}.search-box:focus-within{border-color:var(--accent-primary)}.search-icon{position:absolute;left:12px;color:var(--text-muted);pointer-events:none}.search-input{flex:1;padding:10px 12px 10px 36px;background:transparent;border:none;outline:none;font-size:var(--font-size-base);color:var(--text-primary)}.search-input::-moz-placeholder{color:var(--text-muted)}.search-input::placeholder{color:var(--text-muted)}.search-clear{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:6px;border:none;background:transparent;color:var(--text-muted);cursor:pointer;border-radius:var(--radius-sm);transition:all var(--transition-fast)}.search-clear:hover{background:var(--bg-subtle);color:var(--text-primary)}.task-input-area{flex-shrink:0;background:transparent;margin-top:auto;padding:var(--spacing-md)}.task-input-wrapper{position:relative;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:var(--radius-lg);transition:border-color var(--transition-fast),box-shadow var(--transition-fast);box-shadow:0 -4px 20px #0000004d,0 -1px 3px #0003}.task-input-wrapper:focus-within{border-color:var(--accent-primary);box-shadow:0 -4px 24px #0006,0 -1px 3px #0003}.task-input{width:100%;min-height:120px;max-height:200px;padding:var(--spacing-md);padding-right:48px;background:transparent;border:none;outline:none;resize:none;font-family:var(--font-family);font-size:var(--font-size-base);color:var(--text-primary);line-height:1.5}.task-input::-moz-placeholder{color:var(--text-muted)}.task-input::placeholder{color:var(--text-muted)}.task-input-btn{position:absolute;right:8px;bottom:8px;width:32px;height:32px;border-radius:50%;border:none;background:var(--accent-primary);color:var(--text-on-accent);cursor:pointer;display:flex;align-items:center;justify-content:center;opacity:0;transform:scale(.8);transition:opacity var(--transition-fast),transform var(--transition-fast),background var(--transition-fast)}.task-input-btn.visible{opacity:1;transform:scale(1)}.task-input-btn:hover{background:var(--accent-secondary)}.task-input-btn:disabled{cursor:not-allowed}.task-input-btn:disabled.visible{opacity:.5}.task-input-btn .spinner{width:14px;height:14px;border-width:2px}.text-scaled-xs{font-size:var(--font-size-xs)!important}.text-scaled-sm{font-size:var(--font-size-sm)!important}.text-scaled-base{font-size:var(--font-size-base)!important}.text-scaled-lg{font-size:var(--font-size-lg)!important}.text-scaled-xl{font-size:var(--font-size-xl)!important}.gap-scaled-1{gap:4px!important}.gap-scaled-2{gap:8px!important}.gap-scaled-3{gap:12px!important}.gap-scaled-4{gap:16px!important}.p-scaled-2{padding:8px!important}.p-scaled-3{padding:12px!important}.p-scaled-4{padding:16px!important}.py-scaled-2{padding-top:8px!important;padding-bottom:8px!important}.py-scaled-4{padding-top:16px!important;padding-bottom:16px!important}.py-scaled-8{padding-top:32px!important;padding-bottom:32px!important}.px-scaled-2{padding-left:8px!important;padding-right:8px!important}.px-scaled-3{padding-left:12px!important;padding-right:12px!important}.mb-scaled-1{margin-bottom:4px!important}.mb-scaled-2{margin-bottom:8px!important}.mb-scaled-3{margin-bottom:12px!important}.mb-scaled-4{margin-bottom:16px!important}.mt-scaled-1{margin-top:4px!important}.mt-scaled-2{margin-top:8px!important}.mt-scaled-4{margin-top:16px!important}.ml-scaled-1{margin-left:4px!important}.ml-scaled-2{margin-left:8px!important}.ml-scaled-4{margin-left:16px!important}.pl-scaled-5{padding-left:20px!important}.icon-scaled-sm{width:14px;height:14px}.icon-scaled-md{width:16px;height:16px}.markdown-content{line-height:1.6;word-wrap:break-word}.markdown-content p{margin-bottom:.5em}.markdown-content p:last-child{margin-bottom:0}.markdown-content h1,.markdown-content h2,.markdown-content h3,.markdown-content h4,.markdown-content h5,.markdown-content h6{font-weight:var(--font-weight-bold);margin-top:1em;margin-bottom:.5em;color:var(--text-primary)}.markdown-content h1{font-size:1.5em}.markdown-content h2{font-size:1.3em}.markdown-content h3{font-size:1.1em}.markdown-content ul,.markdown-content ol{margin:.5em 0;padding-left:1.5em}.markdown-content li{margin:.25em 0}.markdown-content blockquote{margin:.5em 0;padding-left:1em;border-left:3px solid var(--border-primary);color:var(--text-muted)}.markdown-content .inline-code{font-family:var(--font-mono);font-size:.9em;padding:.15em .4em;background:var(--bg-subtle);border-radius:3px;color:var(--text-primary)}.markdown-content .code-block{margin:.5em 0;padding:.75em 1em;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-sm);overflow-x:auto}.markdown-content .code-block code{font-family:var(--font-mono);font-size:.9em;color:var(--text-primary);white-space:pre}.markdown-content a{color:var(--accent-primary);text-decoration:underline;text-underline-offset:2px}.markdown-content a:hover{color:var(--accent-secondary)}.markdown-content hr{margin:1em 0;border:none;border-top:1px solid var(--border-color)}.markdown-content table{width:100%;margin:.5em 0;border-collapse:collapse}.markdown-content th,.markdown-content td{padding:.5em;border:1px solid var(--border-color);text-align:left}.markdown-content th{background:var(--bg-subtle);font-weight:var(--font-weight-medium)}.markdown-content strong{font-weight:var(--font-weight-bold)}.markdown-content em{font-style:italic}.step-content-pre{font-family:var(--font-mono);font-size:var(--font-size-sm);line-height:1.5;white-space:pre-wrap;word-break:break-word;margin:0;padding:0;background:transparent;color:var(--text-secondary)}.collapsible-content{position:relative}.collapsible-collapsed{max-height:6em;overflow:hidden;position:relative}.collapsible-collapsed:after{content:"";position:absolute;bottom:0;left:0;right:0;height:2em;background:linear-gradient(transparent,var(--bg-tertiary));pointer-events:none}.step-item-new:hover .collapsible-collapsed:after{background:linear-gradient(transparent,var(--bg-secondary))}.collapsible-toggle{display:inline-flex;align-items:center;margin-top:var(--spacing-xs);padding:2px 0;font-size:var(--font-size-xs);color:var(--accent-primary);background:none;border:none;cursor:pointer;transition:color var(--transition-fast)}.collapsible-toggle:hover{color:var(--accent-secondary)}.icon-scaled-xs{width:12px;height:12px}.bash-content{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-sm);overflow:hidden}.bash-content-header{display:flex;justify-content:space-between;align-items:center;padding:4px 8px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.bash-content-label{font-size:var(--font-size-xs);color:var(--text-muted);font-family:var(--font-mono)}.bash-content-copy{display:flex;align-items:center;justify-content:center;padding:4px;background:transparent;border:none;color:var(--text-muted);cursor:pointer;border-radius:3px;transition:all var(--transition-fast)}.bash-content-copy:hover{background:var(--bg-subtle);color:var(--text-primary)}.bash-content-code{margin:0;padding:8px 12px;font-family:var(--font-mono);font-size:var(--font-size-sm);line-height:1.5;white-space:pre-wrap;word-break:break-word;color:var(--text-primary)}.bash-prompt{color:var(--accent-success);-webkit-user-select:none;-moz-user-select:none;user-select:none;margin-right:6px}.file-content{display:flex;flex-direction:column;gap:4px}.file-content-path{display:flex;align-items:center;gap:6px}.file-content-icon{color:var(--accent-warning);flex-shrink:0}.file-path-text{font-family:var(--font-mono);font-size:var(--font-size-sm);color:var(--accent-primary);background:var(--bg-secondary);padding:2px 6px;border-radius:3px;word-break:break-all}.file-content-detail{margin:0;padding-left:20px;font-family:var(--font-mono);font-size:var(--font-size-sm);color:var(--text-secondary);white-space:pre-wrap;word-break:break-word}.json-content{display:flex;flex-direction:column}.json-content-toggle{display:inline-flex;align-items:center;gap:4px;padding:2px 0;background:none;border:none;color:var(--text-secondary);cursor:pointer;font-family:var(--font-mono);font-size:var(--font-size-sm);text-align:left;transition:color var(--transition-fast)}.json-content-toggle:hover{color:var(--text-primary)}.json-preview{color:var(--accent-primary)}.json-content-code{margin:4px 0 0;padding:8px 12px;background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--radius-sm);font-family:var(--font-mono);font-size:var(--font-size-sm);line-height:1.5;white-space:pre-wrap;word-break:break-word;color:var(--text-primary);overflow-x:auto}.paired-tool-step{border:1px solid var(--border-color);border-radius:var(--radius-md);overflow:hidden;background:var(--bg-tertiary)}.paired-step-call{padding:var(--spacing-sm) var(--spacing-md);border-bottom:1px solid var(--border-color)}.paired-step-result{padding:var(--spacing-sm) var(--spacing-md);background:var(--bg-secondary)}.paired-step-header{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.paired-step-label{font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);color:var(--text-muted)}.paired-step-tool-name{font-family:var(--font-mono);font-size:var(--font-size-xs);padding:2px 6px;background:var(--bg-secondary);border-radius:3px;color:var(--text-primary)}.paired-step-content{padding-left:20px;font-size:var(--font-size-sm);color:var(--text-secondary)}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:left-\\[2px\\]:after{content:var(--tw-content);left:2px}.after\\:top-\\[2px\\]:after{content:var(--tw-content);top:2px}.after\\:h-5:after{content:var(--tw-content);height:1.25rem}.after\\:w-5:after{content:var(--tw-content);width:1.25rem}.after\\:rounded-full:after{content:var(--tw-content);border-radius:9999px}.after\\:bg-white:after{content:var(--tw-content);--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.after\\:transition-all:after{content:var(--tw-content);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.after\\:content-\\[\\'\\'\\]:after{--tw-content: "";content:var(--tw-content)}.last\\:border-0:last-child{border-width:0px}.hover\\:border-\\[var\\(--accent-primary\\)\\]:hover{border-color:var(--accent-primary)}.hover\\:bg-\\[\\#3e3e3e\\]:hover{--tw-bg-opacity: 1;background-color:rgb(62 62 62 / var(--tw-bg-opacity, 1))}.hover\\:bg-\\[\\#e81123\\]:hover{--tw-bg-opacity: 1;background-color:rgb(232 17 35 / var(--tw-bg-opacity, 1))}.hover\\:bg-\\[var\\(--bg-elevated\\)\\]:hover{background-color:var(--bg-elevated)}.hover\\:bg-\\[var\\(--bg-hover\\)\\]:hover{background-color:var(--bg-hover)}.hover\\:bg-\\[var\\(--bg-secondary\\)\\]:hover{background-color:var(--bg-secondary)}.hover\\:bg-\\[var\\(--bg-subtle\\)\\]:hover{background-color:var(--bg-subtle)}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-600:hover{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-800:hover{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-50:hover{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.hover\\:text-\\[var\\(--accent-primary\\)\\]:hover{color:var(--accent-primary)}.hover\\:text-\\[var\\(--text-primary\\)\\]:hover{color:var(--text-primary)}.hover\\:text-\\[var\\(--text-secondary\\)\\]:hover{color:var(--text-secondary)}.hover\\:text-blue-600:hover{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.hover\\:text-gray-300:hover{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.hover\\:text-red-600:hover{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-\\[var\\(--accent-primary\\)\\]:focus{--tw-ring-color: var(--accent-primary)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\\:opacity-100{opacity:1}.peer:checked~.peer-checked\\:bg-\\[var\\(--accent-primary\\)\\]{background-color:var(--accent-primary)}.peer:checked~.peer-checked\\:after\\:translate-x-full:after{content:var(--tw-content);--tw-translate-x: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.peer:checked~.peer-checked\\:after\\:border-white:after{content:var(--tw-content);--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.peer:focus~.peer-focus\\:outline-none{outline:2px solid transparent;outline-offset:2px}@media(min-width:768px){.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media(min-width:1280px){.xl\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media(prefers-color-scheme:dark){.dark\\:border-blue-800{--tw-border-opacity: 1;border-color:rgb(30 64 175 / var(--tw-border-opacity, 1))}.dark\\:border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.dark\\:border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\\:border-green-800{--tw-border-opacity: 1;border-color:rgb(22 101 52 / var(--tw-border-opacity, 1))}.dark\\:border-red-800{--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity, 1))}.dark\\:border-yellow-800{--tw-border-opacity: 1;border-color:rgb(133 77 14 / var(--tw-border-opacity, 1))}.dark\\:bg-blue-900\\/20{background-color:#1e3a8a33}.dark\\:bg-blue-900\\/40{background-color:#1e3a8a66}.dark\\:bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-900\\/20{background-color:#14532d33}.dark\\:bg-green-900\\/30{background-color:#14532d4d}.dark\\:bg-red-900\\/20{background-color:#7f1d1d33}.dark\\:bg-white\\/10{background-color:#ffffff1a}.dark\\:bg-white\\/5{background-color:#ffffff0d}.dark\\:bg-yellow-900\\/20{background-color:#713f1233}.dark\\:bg-yellow-900\\/30{background-color:#713f124d}.dark\\:text-blue-200{--tw-text-opacity: 1;color:rgb(191 219 254 / var(--tw-text-opacity, 1))}.dark\\:text-blue-300{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.dark\\:text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.dark\\:text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\\:text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\\:text-green-200{--tw-text-opacity: 1;color:rgb(187 247 208 / var(--tw-text-opacity, 1))}.dark\\:text-green-300{--tw-text-opacity: 1;color:rgb(134 239 172 / var(--tw-text-opacity, 1))}.dark\\:text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.dark\\:text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\\:text-yellow-200{--tw-text-opacity: 1;color:rgb(254 240 138 / var(--tw-text-opacity, 1))}.dark\\:text-yellow-300{--tw-text-opacity: 1;color:rgb(253 224 71 / var(--tw-text-opacity, 1))}.dark\\:text-yellow-400{--tw-text-opacity: 1;color:rgb(250 204 21 / var(--tw-text-opacity, 1))}.dark\\:hover\\:bg-gray-800:hover{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-red-900\\/20:hover{background-color:#7f1d1d33}.dark\\:hover\\:text-blue-400:hover{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}}
/*$vite$:1*/`,document.head.appendChild(Fr);function rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zr={exports:{}},fi={},oa={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu;function yg(){if(pu)return Pe;pu=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),d=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=d&&M[d]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function m(M,K,z){this.props=M,this.context=K,this.refs=C,this.updater=z||w}m.prototype.isReactComponent={},m.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},m.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function x(){}x.prototype=m.prototype;function _(M,K,z){this.props=M,this.context=K,this.refs=C,this.updater=z||w}var y=_.prototype=new x;y.constructor=_,k(y,m.prototype),y.isPureReactComponent=!0;var E=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function L(M,K,z){var oe,ae={},pe=null,B=null;if(K!=null)for(oe in K.ref!==void 0&&(B=K.ref),K.key!==void 0&&(pe=""+K.key),K)j.call(K,oe)&&!D.hasOwnProperty(oe)&&(ae[oe]=K[oe]);var Z=arguments.length-2;if(Z===1)ae.children=z;else if(1<Z){for(var Y=Array(Z),ie=0;ie<Z;ie++)Y[ie]=arguments[ie+2];ae.children=Y}if(M&&M.defaultProps)for(oe in Z=M.defaultProps,Z)ae[oe]===void 0&&(ae[oe]=Z[oe]);return{$$typeof:e,type:M,key:pe,ref:B,props:ae,_owner:N.current}}function A(M,K){return{$$typeof:e,type:M.type,key:K,ref:M.ref,props:M.props,_owner:M._owner}}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function U(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(z){return K[z]})}var F=/\/+/g;function $(M,K){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):K.toString(36)}function W(M,K,z,oe,ae){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var B=!1;if(M===null)B=!0;else switch(pe){case"string":case"number":B=!0;break;case"object":switch(M.$$typeof){case e:case r:B=!0}}if(B)return B=M,ae=ae(B),M=oe===""?"."+$(B,0):oe,E(ae)?(z="",M!=null&&(z=M.replace(F,"$&/")+"/"),W(ae,K,z,"",function(ie){return ie})):ae!=null&&(P(ae)&&(ae=A(ae,z+(!ae.key||B&&B.key===ae.key?"":(""+ae.key).replace(F,"$&/")+"/")+M)),K.push(ae)),1;if(B=0,oe=oe===""?".":oe+":",E(M))for(var Z=0;Z<M.length;Z++){pe=M[Z];var Y=oe+$(pe,Z);B+=W(pe,K,z,Y,ae)}else if(Y=b(M),typeof Y=="function")for(M=Y.call(M),Z=0;!(pe=M.next()).done;)pe=pe.value,Y=oe+$(pe,Z++),B+=W(pe,K,z,Y,ae);else if(pe==="object")throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return B}function q(M,K,z){if(M==null)return M;var oe=[],ae=0;return W(M,oe,"","",function(pe){return K.call(z,pe,ae++)}),oe}function ee(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(z){(M._status===0||M._status===-1)&&(M._status=1,M._result=z)},function(z){(M._status===0||M._status===-1)&&(M._status=2,M._result=z)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var G={current:null},I={transition:null},H={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:I,ReactCurrentOwner:N};function T(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:q,forEach:function(M,K,z){q(M,function(){K.apply(this,arguments)},z)},count:function(M){var K=0;return q(M,function(){K++}),K},toArray:function(M){return q(M,function(K){return K})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Pe.Component=m,Pe.Fragment=n,Pe.Profiler=a,Pe.PureComponent=_,Pe.StrictMode=s,Pe.Suspense=u,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Pe.act=T,Pe.cloneElement=function(M,K,z){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var oe=k({},M.props),ae=M.key,pe=M.ref,B=M._owner;if(K!=null){if(K.ref!==void 0&&(pe=K.ref,B=N.current),K.key!==void 0&&(ae=""+K.key),M.type&&M.type.defaultProps)var Z=M.type.defaultProps;for(Y in K)j.call(K,Y)&&!D.hasOwnProperty(Y)&&(oe[Y]=K[Y]===void 0&&Z!==void 0?Z[Y]:K[Y])}var Y=arguments.length-2;if(Y===1)oe.children=z;else if(1<Y){Z=Array(Y);for(var ie=0;ie<Y;ie++)Z[ie]=arguments[ie+2];oe.children=Z}return{$$typeof:e,type:M.type,key:ae,ref:pe,props:oe,_owner:B}},Pe.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:h,_context:M},M.Consumer=M},Pe.createElement=L,Pe.createFactory=function(M){var K=L.bind(null,M);return K.type=M,K},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(M){return{$$typeof:o,render:M}},Pe.isValidElement=P,Pe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ee}},Pe.memo=function(M,K){return{$$typeof:p,type:M,compare:K===void 0?null:K}},Pe.startTransition=function(M){var K=I.transition;I.transition={};try{M()}finally{I.transition=K}},Pe.unstable_act=T,Pe.useCallback=function(M,K){return G.current.useCallback(M,K)},Pe.useContext=function(M){return G.current.useContext(M)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(M){return G.current.useDeferredValue(M)},Pe.useEffect=function(M,K){return G.current.useEffect(M,K)},Pe.useId=function(){return G.current.useId()},Pe.useImperativeHandle=function(M,K,z){return G.current.useImperativeHandle(M,K,z)},Pe.useInsertionEffect=function(M,K){return G.current.useInsertionEffect(M,K)},Pe.useLayoutEffect=function(M,K){return G.current.useLayoutEffect(M,K)},Pe.useMemo=function(M,K){return G.current.useMemo(M,K)},Pe.useReducer=function(M,K,z){return G.current.useReducer(M,K,z)},Pe.useRef=function(M){return G.current.useRef(M)},Pe.useState=function(M){return G.current.useState(M)},Pe.useSyncExternalStore=function(M,K,z){return G.current.useSyncExternalStore(M,K,z)},Pe.useTransition=function(){return G.current.useTransition()},Pe.version="18.3.1",Pe}var mu;function xs(){return mu||(mu=1,oa.exports=yg()),oa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu;function _g(){if(gu)return fi;gu=1;var e=xs(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function f(o,u,p){var v,d={},b=null,w=null;p!==void 0&&(b=""+p),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(w=u.ref);for(v in u)s.call(u,v)&&!h.hasOwnProperty(v)&&(d[v]=u[v]);if(o&&o.defaultProps)for(v in u=o.defaultProps,u)d[v]===void 0&&(d[v]=u[v]);return{$$typeof:r,type:o,key:b,ref:w,props:d,_owner:a.current}}return fi.Fragment=n,fi.jsx=f,fi.jsxs=f,fi}var vu;function bg(){return vu||(vu=1,zr.exports=_g()),zr.exports}var c=bg(),J=xs();const ys=rr(J);var _s={},aa={exports:{}},jt={},la={exports:{}},ca={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu;function wg(){return xu||(xu=1,(function(e){function r(I,H){var T=I.length;I.push(H);e:for(;0<T;){var M=T-1>>>1,K=I[M];if(0<a(K,H))I[M]=H,I[T]=K,T=M;else break e}}function n(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var H=I[0],T=I.pop();if(T!==H){I[0]=T;e:for(var M=0,K=I.length,z=K>>>1;M<z;){var oe=2*(M+1)-1,ae=I[oe],pe=oe+1,B=I[pe];if(0>a(ae,T))pe<K&&0>a(B,ae)?(I[M]=B,I[pe]=T,M=pe):(I[M]=ae,I[oe]=T,M=oe);else if(pe<K&&0>a(B,T))I[M]=B,I[pe]=T,M=pe;else break e}}return H}function a(I,H){var T=I.sortIndex-H.sortIndex;return T!==0?T:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var f=Date,o=f.now();e.unstable_now=function(){return f.now()-o}}var u=[],p=[],v=1,d=null,b=3,w=!1,k=!1,C=!1,m=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var H=n(p);H!==null;){if(H.callback===null)s(p);else if(H.startTime<=I)s(p),H.sortIndex=H.expirationTime,r(u,H);else break;H=n(p)}}function E(I){if(C=!1,y(I),!k)if(n(u)!==null)k=!0,ee(j);else{var H=n(p);H!==null&&G(E,H.startTime-I)}}function j(I,H){k=!1,C&&(C=!1,x(L),L=-1),w=!0;var T=b;try{for(y(H),d=n(u);d!==null&&(!(d.expirationTime>H)||I&&!U());){var M=d.callback;if(typeof M=="function"){d.callback=null,b=d.priorityLevel;var K=M(d.expirationTime<=H);H=e.unstable_now(),typeof K=="function"?d.callback=K:d===n(u)&&s(u),y(H)}else s(u);d=n(u)}if(d!==null)var z=!0;else{var oe=n(p);oe!==null&&G(E,oe.startTime-H),z=!1}return z}finally{d=null,b=T,w=!1}}var N=!1,D=null,L=-1,A=5,P=-1;function U(){return!(e.unstable_now()-P<A)}function F(){if(D!==null){var I=e.unstable_now();P=I;var H=!0;try{H=D(!0,I)}finally{H?$():(N=!1,D=null)}}else N=!1}var $;if(typeof _=="function")$=function(){_(F)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=F,$=function(){q.postMessage(null)}}else $=function(){m(F,0)};function ee(I){D=I,N||(N=!0,$())}function G(I,H){L=m(function(){I(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){k||w||(k=!0,ee(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var T=b;b=H;try{return I()}finally{b=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var T=b;b=I;try{return H()}finally{b=T}},e.unstable_scheduleCallback=function(I,H,T){var M=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?M+T:M):T=M,I){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=T+K,I={id:v++,callback:H,priorityLevel:I,startTime:T,expirationTime:K,sortIndex:-1},T>M?(I.sortIndex=T,r(p,I),n(u)===null&&I===n(p)&&(C?(x(L),L=-1):C=!0,G(E,T-M))):(I.sortIndex=K,r(u,I),k||w||(k=!0,ee(j))),I},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(I){var H=b;return function(){var T=b;b=H;try{return I.apply(this,arguments)}finally{b=T}}}})(ca)),ca}var yu;function Sg(){return yu||(yu=1,la.exports=wg()),la.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u;function kg(){if(_u)return jt;_u=1;var e=xs(),r=Sg();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function h(t,i){f(t,i),f(t+"Capture",i)}function f(t,i){for(a[t]=i,t=0;t<i.length;t++)s.add(i[t])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},d={};function b(t){return u.call(d,t)?!0:u.call(v,t)?!1:p.test(t)?d[t]=!0:(v[t]=!0,!1)}function w(t,i,l,g){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return g?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,i,l,g){if(i===null||typeof i>"u"||w(t,i,l,g))return!0;if(g)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function C(t,i,l,g,S,R,O){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=g,this.attributeNamespace=S,this.mustUseProperty=l,this.propertyName=t,this.type=i,this.sanitizeURL=R,this.removeEmptyString=O}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){m[t]=new C(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];m[i]=new C(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){m[t]=new C(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){m[t]=new C(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){m[t]=new C(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){m[t]=new C(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){m[t]=new C(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){m[t]=new C(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){m[t]=new C(t,5,!1,t.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(x,_);m[i]=new C(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(x,_);m[i]=new C(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(x,_);m[i]=new C(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){m[t]=new C(t,1,!1,t.toLowerCase(),null,!1,!1)}),m.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){m[t]=new C(t,1,!1,t.toLowerCase(),null,!0,!0)});function y(t,i,l,g){var S=m.hasOwnProperty(i)?m[i]:null;(S!==null?S.type!==0:g||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,l,S,g)&&(l=null),g||S===null?b(i)&&(l===null?t.removeAttribute(i):t.setAttribute(i,""+l)):S.mustUseProperty?t[S.propertyName]=l===null?S.type===3?!1:"":l:(i=S.attributeName,g=S.attributeNamespace,l===null?t.removeAttribute(i):(S=S.type,l=S===3||S===4&&l===!0?"":""+l,g?t.setAttributeNS(g,i,l):t.setAttribute(i,l))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),I=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var T=Object.assign,M;function K(t){if(M===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+t}var z=!1;function oe(t,i){if(!t||z)return"";z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ne){var g=ne}Reflect.construct(t,[],i)}else{try{i.call()}catch(ne){g=ne}t.call(i.prototype)}else{try{throw Error()}catch(ne){g=ne}t()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var S=ne.stack.split(`
`),R=g.stack.split(`
`),O=S.length-1,V=R.length-1;1<=O&&0<=V&&S[O]!==R[V];)V--;for(;1<=O&&0<=V;O--,V--)if(S[O]!==R[V]){if(O!==1||V!==1)do if(O--,V--,0>V||S[O]!==R[V]){var X=`
`+S[O].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=O&&0<=V);break}}}finally{z=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?K(t):""}function ae(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case N:return"Portal";case A:return"Profiler";case L:return"StrictMode";case $:return"Suspense";case W:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case F:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return i=t.displayName||null,i!==null?i:pe(t.type)||"Memo";case ee:i=t._payload,t=t._init;try{return pe(t(i))}catch{}}return null}function B(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(i);case 8:return i===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Z(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Y(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ie(t){var i=Y(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),g=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var S=l.get,R=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return S.call(this)},set:function(O){g=""+O,R.call(this,O)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function we(t){t._valueTracker||(t._valueTracker=ie(t))}function me(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),g="";return t&&(g=Y(t)?t.checked?"true":"false":t.value),t=g,t!==l?(i.setValue(t),!0):!1}function Oe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qe(t,i){var l=i.checked;return T({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function ot(t,i){var l=i.defaultValue==null?"":i.defaultValue,g=i.checked!=null?i.checked:i.defaultChecked;l=Z(i.value!=null?i.value:l),t._wrapperState={initialChecked:g,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function qt(t,i){i=i.checked,i!=null&&y(t,"checked",i,!1)}function Re(t,i){qt(t,i);var l=Z(i.value),g=i.type;if(l!=null)g==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(g==="submit"||g==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?yr(t,i.type,l):i.hasOwnProperty("defaultValue")&&yr(t,i.type,Z(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function xr(t,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var g=i.type;if(!(g!=="submit"&&g!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,l||i===t.value||(t.value=i),t.defaultValue=i}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function yr(t,i,l){(i!=="number"||Oe(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var Gt=Array.isArray;function Yt(t,i,l,g){if(t=t.options,i){i={};for(var S=0;S<l.length;S++)i["$"+l[S]]=!0;for(l=0;l<t.length;l++)S=i.hasOwnProperty("$"+t[l].value),t[l].selected!==S&&(t[l].selected=S),S&&g&&(t[l].defaultSelected=!0)}else{for(l=""+Z(l),i=null,S=0;S<t.length;S++){if(t[S].value===l){t[S].selected=!0,g&&(t[S].defaultSelected=!0);return}i!==null||t[S].disabled||(i=t[S])}i!==null&&(i.selected=!0)}}function _r(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return T({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pt(t,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Gt(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}t._wrapperState={initialValue:Z(l)}}function br(t,i){var l=Z(i.value),g=Z(i.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),i.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),g!=null&&(t.defaultValue=""+g)}function Ct(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function se(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?se(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Se,De=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,g,S){MSApp.execUnsafeLocalFunction(function(){return t(i,l,g,S)})}:t})(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Se=Se||document.createElement("div"),Se.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Se.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Ae(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var Ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fe=["Webkit","ms","Moz","O"];Object.keys(Ze).forEach(function(t){Fe.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Ze[i]=Ze[t]})});function Tt(t,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Ze.hasOwnProperty(t)&&Ze[t]?(""+i).trim():i+"px"}function Ur(t,i){t=t.style;for(var l in i)if(i.hasOwnProperty(l)){var g=l.indexOf("--")===0,S=Tt(l,i[l],g);l==="float"&&(l="cssFloat"),g?t.setProperty(l,S):t[l]=S}}var vn=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mt(t,i){if(i){if(vn[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function wr(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ht=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rl=null,Un=null,Wn=null;function Pf(t){if(t=ns(t)){if(typeof Rl!="function")throw Error(n(280));var i=t.stateNode;i&&(i=bo(i),Rl(t.stateNode,t.type,i))}}function Mf(t){Un?Wn?Wn.push(t):Wn=[t]:Un=t}function Of(){if(Un){var t=Un,i=Wn;if(Wn=Un=null,Pf(t),i)for(t=0;t<i.length;t++)Pf(i[t])}}function Bf(t,i){return t(i)}function Ff(){}var Tl=!1;function zf(t,i,l){if(Tl)return t(i,l);Tl=!0;try{return Bf(t,i,l)}finally{Tl=!1,(Un!==null||Wn!==null)&&(Ff(),Of())}}function Mi(t,i){var l=t.stateNode;if(l===null)return null;var g=bo(l);if(g===null)return null;l=g[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(t=t.type,g=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!g;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Dl=!1;if(o)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Dl=!1}function Y2(t,i,l,g,S,R,O,V,X){var ne=Array.prototype.slice.call(arguments,3);try{i.apply(l,ne)}catch(ce){this.onError(ce)}}var Bi=!1,Qs=null,Zs=!1,Al=null,X2={onError:function(t){Bi=!0,Qs=t}};function J2(t,i,l,g,S,R,O,V,X){Bi=!1,Qs=null,Y2.apply(X2,arguments)}function Q2(t,i,l,g,S,R,O,V,X){if(J2.apply(this,arguments),Bi){if(Bi){var ne=Qs;Bi=!1,Qs=null}else throw Error(n(198));Zs||(Zs=!0,Al=ne)}}function xn(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function Hf(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function $f(t){if(xn(t)!==t)throw Error(n(188))}function Z2(t){var i=t.alternate;if(!i){if(i=xn(t),i===null)throw Error(n(188));return i!==t?null:t}for(var l=t,g=i;;){var S=l.return;if(S===null)break;var R=S.alternate;if(R===null){if(g=S.return,g!==null){l=g;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===l)return $f(S),t;if(R===g)return $f(S),i;R=R.sibling}throw Error(n(188))}if(l.return!==g.return)l=S,g=R;else{for(var O=!1,V=S.child;V;){if(V===l){O=!0,l=S,g=R;break}if(V===g){O=!0,g=S,l=R;break}V=V.sibling}if(!O){for(V=R.child;V;){if(V===l){O=!0,l=R,g=S;break}if(V===g){O=!0,g=R,l=S;break}V=V.sibling}if(!O)throw Error(n(189))}}if(l.alternate!==g)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?t:i}function Uf(t){return t=Z2(t),t!==null?Wf(t):null}function Wf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Wf(t);if(i!==null)return i;t=t.sibling}return null}var Vf=r.unstable_scheduleCallback,Kf=r.unstable_cancelCallback,eC=r.unstable_shouldYield,tC=r.unstable_requestPaint,nt=r.unstable_now,rC=r.unstable_getCurrentPriorityLevel,Il=r.unstable_ImmediatePriority,qf=r.unstable_UserBlockingPriority,eo=r.unstable_NormalPriority,nC=r.unstable_LowPriority,Gf=r.unstable_IdlePriority,to=null,Sr=null;function iC(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(to,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:aC,sC=Math.log,oC=Math.LN2;function aC(t){return t>>>=0,t===0?32:31-(sC(t)/oC|0)|0}var ro=64,no=4194304;function Fi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function io(t,i){var l=t.pendingLanes;if(l===0)return 0;var g=0,S=t.suspendedLanes,R=t.pingedLanes,O=l&268435455;if(O!==0){var V=O&~S;V!==0?g=Fi(V):(R&=O,R!==0&&(g=Fi(R)))}else O=l&~S,O!==0?g=Fi(O):R!==0&&(g=Fi(R));if(g===0)return 0;if(i!==0&&i!==g&&(i&S)===0&&(S=g&-g,R=i&-i,S>=R||S===16&&(R&4194240)!==0))return i;if((g&4)!==0&&(g|=l&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=g;0<i;)l=31-or(i),S=1<<l,g|=t[l],i&=~S;return g}function lC(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cC(t,i){for(var l=t.suspendedLanes,g=t.pingedLanes,S=t.expirationTimes,R=t.pendingLanes;0<R;){var O=31-or(R),V=1<<O,X=S[O];X===-1?((V&l)===0||(V&g)!==0)&&(S[O]=lC(V,i)):X<=i&&(t.expiredLanes|=V),R&=~V}}function Pl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yf(){var t=ro;return ro<<=1,(ro&4194240)===0&&(ro=64),t}function Ml(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function zi(t,i,l){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-or(i),t[i]=l}function uC(t,i){var l=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var g=t.eventTimes;for(t=t.expirationTimes;0<l;){var S=31-or(l),R=1<<S;i[S]=0,g[S]=-1,t[S]=-1,l&=~R}}function Ol(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var g=31-or(l),S=1<<g;S&i|t[g]&i&&(t[g]|=i),l&=~S}}var $e=0;function Xf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Jf,Bl,Qf,Zf,ep,Fl=!1,so=[],Wr=null,Vr=null,Kr=null,Hi=new Map,$i=new Map,qr=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(t,i){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Hi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(i.pointerId)}}function Ui(t,i,l,g,S,R){return t===null||t.nativeEvent!==R?(t={blockedOn:i,domEventName:l,eventSystemFlags:g,nativeEvent:R,targetContainers:[S]},i!==null&&(i=ns(i),i!==null&&Bl(i)),t):(t.eventSystemFlags|=g,i=t.targetContainers,S!==null&&i.indexOf(S)===-1&&i.push(S),t)}function hC(t,i,l,g,S){switch(i){case"focusin":return Wr=Ui(Wr,t,i,l,g,S),!0;case"dragenter":return Vr=Ui(Vr,t,i,l,g,S),!0;case"mouseover":return Kr=Ui(Kr,t,i,l,g,S),!0;case"pointerover":var R=S.pointerId;return Hi.set(R,Ui(Hi.get(R)||null,t,i,l,g,S)),!0;case"gotpointercapture":return R=S.pointerId,$i.set(R,Ui($i.get(R)||null,t,i,l,g,S)),!0}return!1}function rp(t){var i=yn(t.target);if(i!==null){var l=xn(i);if(l!==null){if(i=l.tag,i===13){if(i=Hf(l),i!==null){t.blockedOn=i,ep(t.priority,function(){Qf(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oo(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=Hl(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var g=new l.constructor(l.type,l);Ht=g,l.target.dispatchEvent(g),Ht=null}else return i=ns(l),i!==null&&Bl(i),t.blockedOn=l,!1;i.shift()}return!0}function np(t,i,l){oo(t)&&l.delete(i)}function fC(){Fl=!1,Wr!==null&&oo(Wr)&&(Wr=null),Vr!==null&&oo(Vr)&&(Vr=null),Kr!==null&&oo(Kr)&&(Kr=null),Hi.forEach(np),$i.forEach(np)}function Wi(t,i){t.blockedOn===i&&(t.blockedOn=null,Fl||(Fl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fC)))}function Vi(t){function i(S){return Wi(S,t)}if(0<so.length){Wi(so[0],t);for(var l=1;l<so.length;l++){var g=so[l];g.blockedOn===t&&(g.blockedOn=null)}}for(Wr!==null&&Wi(Wr,t),Vr!==null&&Wi(Vr,t),Kr!==null&&Wi(Kr,t),Hi.forEach(i),$i.forEach(i),l=0;l<qr.length;l++)g=qr[l],g.blockedOn===t&&(g.blockedOn=null);for(;0<qr.length&&(l=qr[0],l.blockedOn===null);)rp(l),l.blockedOn===null&&qr.shift()}var Vn=E.ReactCurrentBatchConfig,ao=!0;function pC(t,i,l,g){var S=$e,R=Vn.transition;Vn.transition=null;try{$e=1,zl(t,i,l,g)}finally{$e=S,Vn.transition=R}}function mC(t,i,l,g){var S=$e,R=Vn.transition;Vn.transition=null;try{$e=4,zl(t,i,l,g)}finally{$e=S,Vn.transition=R}}function zl(t,i,l,g){if(ao){var S=Hl(t,i,l,g);if(S===null)ic(t,i,g,lo,l),tp(t,g);else if(hC(S,t,i,l,g))g.stopPropagation();else if(tp(t,g),i&4&&-1<dC.indexOf(t)){for(;S!==null;){var R=ns(S);if(R!==null&&Jf(R),R=Hl(t,i,l,g),R===null&&ic(t,i,g,lo,l),R===S)break;S=R}S!==null&&g.stopPropagation()}else ic(t,i,g,null,l)}}var lo=null;function Hl(t,i,l,g){if(lo=null,t=Ll(g),t=yn(t),t!==null)if(i=xn(t),i===null)t=null;else if(l=i.tag,l===13){if(t=Hf(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return lo=t,null}function ip(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rC()){case Il:return 1;case qf:return 4;case eo:case nC:return 16;case Gf:return 536870912;default:return 16}default:return 16}}var Gr=null,$l=null,co=null;function sp(){if(co)return co;var t,i=$l,l=i.length,g,S="value"in Gr?Gr.value:Gr.textContent,R=S.length;for(t=0;t<l&&i[t]===S[t];t++);var O=l-t;for(g=1;g<=O&&i[l-g]===S[R-g];g++);return co=S.slice(t,1<g?1-g:void 0)}function uo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ho(){return!0}function op(){return!1}function $t(t){function i(l,g,S,R,O){this._reactName=l,this._targetInst=S,this.type=g,this.nativeEvent=R,this.target=O,this.currentTarget=null;for(var V in t)t.hasOwnProperty(V)&&(l=t[V],this[V]=l?l(R):R[V]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?ho:op,this.isPropagationStopped=op,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),i}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=$t(Kn),Ki=T({},Kn,{view:0,detail:0}),gC=$t(Ki),Wl,Vl,qi,fo=T({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qi&&(qi&&t.type==="mousemove"?(Wl=t.screenX-qi.screenX,Vl=t.screenY-qi.screenY):Vl=Wl=0,qi=t),Wl)},movementY:function(t){return"movementY"in t?t.movementY:Vl}}),ap=$t(fo),vC=T({},fo,{dataTransfer:0}),xC=$t(vC),yC=T({},Ki,{relatedTarget:0}),Kl=$t(yC),_C=T({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),bC=$t(_C),wC=T({},Kn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SC=$t(wC),kC=T({},Kn,{data:0}),lp=$t(kC),CC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jC(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=NC[t])?!!i[t]:!1}function ql(){return jC}var LC=T({},Ki,{key:function(t){if(t.key){var i=CC[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RC=$t(LC),TC=T({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=$t(TC),DC=T({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),AC=$t(DC),IC=T({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=$t(IC),MC=T({},fo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OC=$t(MC),BC=[9,13,27,32],Gl=o&&"CompositionEvent"in window,Gi=null;o&&"documentMode"in document&&(Gi=document.documentMode);var FC=o&&"TextEvent"in window&&!Gi,up=o&&(!Gl||Gi&&8<Gi&&11>=Gi),dp=" ",hp=!1;function fp(t,i){switch(t){case"keyup":return BC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qn=!1;function zC(t,i){switch(t){case"compositionend":return pp(i);case"keypress":return i.which!==32?null:(hp=!0,dp);case"textInput":return t=i.data,t===dp&&hp?null:t;default:return null}}function HC(t,i){if(qn)return t==="compositionend"||!Gl&&fp(t,i)?(t=sp(),co=$l=Gr=null,qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return up&&i.locale!=="ko"?null:i.data;default:return null}}var $C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$C[t.type]:i==="textarea"}function gp(t,i,l,g){Mf(g),i=xo(i,"onChange"),0<i.length&&(l=new Ul("onChange","change",null,l,g),t.push({event:l,listeners:i}))}var Yi=null,Xi=null;function UC(t){Ip(t,0)}function po(t){var i=Qn(t);if(me(i))return t}function WC(t,i){if(t==="change")return i}var vp=!1;if(o){var Yl;if(o){var Xl="oninput"in document;if(!Xl){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),Xl=typeof xp.oninput=="function"}Yl=Xl}else Yl=!1;vp=Yl&&(!document.documentMode||9<document.documentMode)}function yp(){Yi&&(Yi.detachEvent("onpropertychange",_p),Xi=Yi=null)}function _p(t){if(t.propertyName==="value"&&po(Xi)){var i=[];gp(i,Xi,t,Ll(t)),zf(UC,i)}}function VC(t,i,l){t==="focusin"?(yp(),Yi=i,Xi=l,Yi.attachEvent("onpropertychange",_p)):t==="focusout"&&yp()}function KC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return po(Xi)}function qC(t,i){if(t==="click")return po(i)}function GC(t,i){if(t==="input"||t==="change")return po(i)}function YC(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ar=typeof Object.is=="function"?Object.is:YC;function Ji(t,i){if(ar(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),g=Object.keys(i);if(l.length!==g.length)return!1;for(g=0;g<l.length;g++){var S=l[g];if(!u.call(i,S)||!ar(t[S],i[S]))return!1}return!0}function bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,i){var l=bp(t);t=0;for(var g;l;){if(l.nodeType===3){if(g=t+l.textContent.length,t<=i&&g>=i)return{node:l,offset:i-t};t=g}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bp(l)}}function Sp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kp(){for(var t=window,i=Oe();i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=Oe(t.document)}return i}function Jl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function XC(t){var i=kp(),l=t.focusedElem,g=t.selectionRange;if(i!==l&&l&&l.ownerDocument&&Sp(l.ownerDocument.documentElement,l)){if(g!==null&&Jl(l)){if(i=g.start,t=g.end,t===void 0&&(t=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(t,l.value.length);else if(t=(i=l.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var S=l.textContent.length,R=Math.min(g.start,S);g=g.end===void 0?R:Math.min(g.end,S),!t.extend&&R>g&&(S=g,g=R,R=S),S=wp(l,R);var O=wp(l,g);S&&O&&(t.rangeCount!==1||t.anchorNode!==S.node||t.anchorOffset!==S.offset||t.focusNode!==O.node||t.focusOffset!==O.offset)&&(i=i.createRange(),i.setStart(S.node,S.offset),t.removeAllRanges(),R>g?(t.addRange(i),t.extend(O.node,O.offset)):(i.setEnd(O.node,O.offset),t.addRange(i)))}}for(i=[],t=l;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)t=i[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JC=o&&"documentMode"in document&&11>=document.documentMode,Gn=null,Ql=null,Qi=null,Zl=!1;function Cp(t,i,l){var g=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zl||Gn==null||Gn!==Oe(g)||(g=Gn,"selectionStart"in g&&Jl(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Qi&&Ji(Qi,g)||(Qi=g,g=xo(Ql,"onSelect"),0<g.length&&(i=new Ul("onSelect","select",null,i,l),t.push({event:i,listeners:g}),i.target=Gn)))}function mo(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var Yn={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},ec={},Ep={};o&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function go(t){if(ec[t])return ec[t];if(!Yn[t])return t;var i=Yn[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in Ep)return ec[t]=i[l];return t}var Np=go("animationend"),jp=go("animationiteration"),Lp=go("animationstart"),Rp=go("transitionend"),Tp=new Map,Dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,i){Tp.set(t,i),h(i,[t])}for(var tc=0;tc<Dp.length;tc++){var rc=Dp[tc],QC=rc.toLowerCase(),ZC=rc[0].toUpperCase()+rc.slice(1);Yr(QC,"on"+ZC)}Yr(Np,"onAnimationEnd"),Yr(jp,"onAnimationIteration"),Yr(Lp,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(Rp,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Ap(t,i,l){var g=t.type||"unknown-event";t.currentTarget=l,Q2(g,i,void 0,t),t.currentTarget=null}function Ip(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var g=t[l],S=g.event;g=g.listeners;e:{var R=void 0;if(i)for(var O=g.length-1;0<=O;O--){var V=g[O],X=V.instance,ne=V.currentTarget;if(V=V.listener,X!==R&&S.isPropagationStopped())break e;Ap(S,V,ne),R=X}else for(O=0;O<g.length;O++){if(V=g[O],X=V.instance,ne=V.currentTarget,V=V.listener,X!==R&&S.isPropagationStopped())break e;Ap(S,V,ne),R=X}}}if(Zs)throw t=Al,Zs=!1,Al=null,t}function Ge(t,i){var l=i[uc];l===void 0&&(l=i[uc]=new Set);var g=t+"__bubble";l.has(g)||(Pp(i,t,2,!1),l.add(g))}function nc(t,i,l){var g=0;i&&(g|=4),Pp(l,t,g,i)}var vo="_reactListening"+Math.random().toString(36).slice(2);function es(t){if(!t[vo]){t[vo]=!0,s.forEach(function(l){l!=="selectionchange"&&(eE.has(l)||nc(l,!1,t),nc(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vo]||(i[vo]=!0,nc("selectionchange",!1,i))}}function Pp(t,i,l,g){switch(ip(i)){case 1:var S=pC;break;case 4:S=mC;break;default:S=zl}l=S.bind(null,i,l,t),S=void 0,!Dl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(S=!0),g?S!==void 0?t.addEventListener(i,l,{capture:!0,passive:S}):t.addEventListener(i,l,!0):S!==void 0?t.addEventListener(i,l,{passive:S}):t.addEventListener(i,l,!1)}function ic(t,i,l,g,S){var R=g;if((i&1)===0&&(i&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var V=g.stateNode.containerInfo;if(V===S||V.nodeType===8&&V.parentNode===S)break;if(O===4)for(O=g.return;O!==null;){var X=O.tag;if((X===3||X===4)&&(X=O.stateNode.containerInfo,X===S||X.nodeType===8&&X.parentNode===S))return;O=O.return}for(;V!==null;){if(O=yn(V),O===null)return;if(X=O.tag,X===5||X===6){g=R=O;continue e}V=V.parentNode}}g=g.return}zf(function(){var ne=R,ce=Ll(l),ue=[];e:{var le=Tp.get(t);if(le!==void 0){var ve=Ul,ye=t;switch(t){case"keypress":if(uo(l)===0)break e;case"keydown":case"keyup":ve=RC;break;case"focusin":ye="focus",ve=Kl;break;case"focusout":ye="blur",ve=Kl;break;case"beforeblur":case"afterblur":ve=Kl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=xC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=AC;break;case Np:case jp:case Lp:ve=bC;break;case Rp:ve=PC;break;case"scroll":ve=gC;break;case"wheel":ve=OC;break;case"copy":case"cut":case"paste":ve=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=cp}var _e=(i&4)!==0,it=!_e&&t==="scroll",te=_e?le!==null?le+"Capture":null:le;_e=[];for(var Q=ne,re;Q!==null;){re=Q;var he=re.stateNode;if(re.tag===5&&he!==null&&(re=he,te!==null&&(he=Mi(Q,te),he!=null&&_e.push(ts(Q,he,re)))),it)break;Q=Q.return}0<_e.length&&(le=new ve(le,ye,null,l,ce),ue.push({event:le,listeners:_e}))}}if((i&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",ve=t==="mouseout"||t==="pointerout",le&&l!==Ht&&(ye=l.relatedTarget||l.fromElement)&&(yn(ye)||ye[Tr]))break e;if((ve||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(ye=l.relatedTarget||l.toElement,ve=ne,ye=ye?yn(ye):null,ye!==null&&(it=xn(ye),ye!==it||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(ve=null,ye=ne),ve!==ye)){if(_e=ap,he="onMouseLeave",te="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(_e=cp,he="onPointerLeave",te="onPointerEnter",Q="pointer"),it=ve==null?le:Qn(ve),re=ye==null?le:Qn(ye),le=new _e(he,Q+"leave",ve,l,ce),le.target=it,le.relatedTarget=re,he=null,yn(ce)===ne&&(_e=new _e(te,Q+"enter",ye,l,ce),_e.target=re,_e.relatedTarget=it,he=_e),it=he,ve&&ye)t:{for(_e=ve,te=ye,Q=0,re=_e;re;re=Xn(re))Q++;for(re=0,he=te;he;he=Xn(he))re++;for(;0<Q-re;)_e=Xn(_e),Q--;for(;0<re-Q;)te=Xn(te),re--;for(;Q--;){if(_e===te||te!==null&&_e===te.alternate)break t;_e=Xn(_e),te=Xn(te)}_e=null}else _e=null;ve!==null&&Mp(ue,le,ve,_e,!1),ye!==null&&it!==null&&Mp(ue,it,ye,_e,!0)}}e:{if(le=ne?Qn(ne):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var be=WC;else if(mp(le))if(vp)be=GC;else{be=KC;var Ce=VC}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(be=qC);if(be&&(be=be(t,ne))){gp(ue,be,l,ce);break e}Ce&&Ce(t,le,ne),t==="focusout"&&(Ce=le._wrapperState)&&Ce.controlled&&le.type==="number"&&yr(le,"number",le.value)}switch(Ce=ne?Qn(ne):window,t){case"focusin":(mp(Ce)||Ce.contentEditable==="true")&&(Gn=Ce,Ql=ne,Qi=null);break;case"focusout":Qi=Ql=Gn=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Cp(ue,l,ce);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":Cp(ue,l,ce)}var Ee;if(Gl)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else qn?fp(t,l)&&(Ne="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(up&&l.locale!=="ko"&&(qn||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&qn&&(Ee=sp()):(Gr=ce,$l="value"in Gr?Gr.value:Gr.textContent,qn=!0)),Ce=xo(ne,Ne),0<Ce.length&&(Ne=new lp(Ne,t,null,l,ce),ue.push({event:Ne,listeners:Ce}),Ee?Ne.data=Ee:(Ee=pp(l),Ee!==null&&(Ne.data=Ee)))),(Ee=FC?zC(t,l):HC(t,l))&&(ne=xo(ne,"onBeforeInput"),0<ne.length&&(ce=new lp("onBeforeInput","beforeinput",null,l,ce),ue.push({event:ce,listeners:ne}),ce.data=Ee))}Ip(ue,i)})}function ts(t,i,l){return{instance:t,listener:i,currentTarget:l}}function xo(t,i){for(var l=i+"Capture",g=[];t!==null;){var S=t,R=S.stateNode;S.tag===5&&R!==null&&(S=R,R=Mi(t,l),R!=null&&g.unshift(ts(t,R,S)),R=Mi(t,i),R!=null&&g.push(ts(t,R,S))),t=t.return}return g}function Xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mp(t,i,l,g,S){for(var R=i._reactName,O=[];l!==null&&l!==g;){var V=l,X=V.alternate,ne=V.stateNode;if(X!==null&&X===g)break;V.tag===5&&ne!==null&&(V=ne,S?(X=Mi(l,R),X!=null&&O.unshift(ts(l,X,V))):S||(X=Mi(l,R),X!=null&&O.push(ts(l,X,V)))),l=l.return}O.length!==0&&t.push({event:i,listeners:O})}var tE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(tE,`
`).replace(rE,"")}function yo(t,i,l){if(i=Op(i),Op(t)!==i&&l)throw Error(n(425))}function _o(){}var sc=null,oc=null;function ac(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lc=typeof setTimeout=="function"?setTimeout:void 0,nE=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,iE=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(t){return Bp.resolve(null).then(t).catch(sE)}:lc;function sE(t){setTimeout(function(){throw t})}function cc(t,i){var l=i,g=0;do{var S=l.nextSibling;if(t.removeChild(l),S&&S.nodeType===8)if(l=S.data,l==="/$"){if(g===0){t.removeChild(S),Vi(i);return}g--}else l!=="$"&&l!=="$?"&&l!=="$!"||g++;l=S}while(l);Vi(i)}function Xr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Fp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),kr="__reactFiber$"+Jn,rs="__reactProps$"+Jn,Tr="__reactContainer$"+Jn,uc="__reactEvents$"+Jn,oE="__reactListeners$"+Jn,aE="__reactHandles$"+Jn;function yn(t){var i=t[kr];if(i)return i;for(var l=t.parentNode;l;){if(i=l[Tr]||l[kr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Fp(t);t!==null;){if(l=t[kr])return l;t=Fp(t)}return i}t=l,l=t.parentNode}return null}function ns(t){return t=t[kr]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function bo(t){return t[rs]||null}var dc=[],Zn=-1;function Jr(t){return{current:t}}function Ye(t){0>Zn||(t.current=dc[Zn],dc[Zn]=null,Zn--)}function qe(t,i){Zn++,dc[Zn]=t.current,t.current=i}var Qr={},_t=Jr(Qr),Dt=Jr(!1),_n=Qr;function ei(t,i){var l=t.type.contextTypes;if(!l)return Qr;var g=t.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===i)return g.__reactInternalMemoizedMaskedChildContext;var S={},R;for(R in l)S[R]=i[R];return g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=S),S}function At(t){return t=t.childContextTypes,t!=null}function wo(){Ye(Dt),Ye(_t)}function zp(t,i,l){if(_t.current!==Qr)throw Error(n(168));qe(_t,i),qe(Dt,l)}function Hp(t,i,l){var g=t.stateNode;if(i=i.childContextTypes,typeof g.getChildContext!="function")return l;g=g.getChildContext();for(var S in g)if(!(S in i))throw Error(n(108,B(t)||"Unknown",S));return T({},l,g)}function So(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,_n=_t.current,qe(_t,t),qe(Dt,Dt.current),!0}function $p(t,i,l){var g=t.stateNode;if(!g)throw Error(n(169));l?(t=Hp(t,i,_n),g.__reactInternalMemoizedMergedChildContext=t,Ye(Dt),Ye(_t),qe(_t,t)):Ye(Dt),qe(Dt,l)}var Dr=null,ko=!1,hc=!1;function Up(t){Dr===null?Dr=[t]:Dr.push(t)}function lE(t){ko=!0,Up(t)}function Zr(){if(!hc&&Dr!==null){hc=!0;var t=0,i=$e;try{var l=Dr;for($e=1;t<l.length;t++){var g=l[t];do g=g(!0);while(g!==null)}Dr=null,ko=!1}catch(S){throw Dr!==null&&(Dr=Dr.slice(t+1)),Vf(Il,Zr),S}finally{$e=i,hc=!1}}return null}var ti=[],ri=0,Co=null,Eo=0,Xt=[],Jt=0,bn=null,Ar=1,Ir="";function wn(t,i){ti[ri++]=Eo,ti[ri++]=Co,Co=t,Eo=i}function Wp(t,i,l){Xt[Jt++]=Ar,Xt[Jt++]=Ir,Xt[Jt++]=bn,bn=t;var g=Ar;t=Ir;var S=32-or(g)-1;g&=~(1<<S),l+=1;var R=32-or(i)+S;if(30<R){var O=S-S%5;R=(g&(1<<O)-1).toString(32),g>>=O,S-=O,Ar=1<<32-or(i)+S|l<<S|g,Ir=R+t}else Ar=1<<R|l<<S|g,Ir=t}function fc(t){t.return!==null&&(wn(t,1),Wp(t,1,0))}function pc(t){for(;t===Co;)Co=ti[--ri],ti[ri]=null,Eo=ti[--ri],ti[ri]=null;for(;t===bn;)bn=Xt[--Jt],Xt[Jt]=null,Ir=Xt[--Jt],Xt[Jt]=null,Ar=Xt[--Jt],Xt[Jt]=null}var Ut=null,Wt=null,Xe=!1,lr=null;function Vp(t,i){var l=tr(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=t,i=t.deletions,i===null?(t.deletions=[l],t.flags|=16):i.push(l)}function Kp(t,i){switch(t.tag){case 5:var l=t.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Ut=t,Wt=Xr(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Ut=t,Wt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=bn!==null?{id:Ar,overflow:Ir}:null,t.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=tr(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,Ut=t,Wt=null,!0):!1;default:return!1}}function mc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gc(t){if(Xe){var i=Wt;if(i){var l=i;if(!Kp(t,i)){if(mc(t))throw Error(n(418));i=Xr(l.nextSibling);var g=Ut;i&&Kp(t,i)?Vp(g,l):(t.flags=t.flags&-4097|2,Xe=!1,Ut=t)}}else{if(mc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Xe=!1,Ut=t}}}function qp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function No(t){if(t!==Ut)return!1;if(!Xe)return qp(t),Xe=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!ac(t.type,t.memoizedProps)),i&&(i=Wt)){if(mc(t))throw Gp(),Error(n(418));for(;i;)Vp(t,i),i=Xr(i.nextSibling)}if(qp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(i===0){Wt=Xr(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}t=t.nextSibling}Wt=null}}else Wt=Ut?Xr(t.stateNode.nextSibling):null;return!0}function Gp(){for(var t=Wt;t;)t=Xr(t.nextSibling)}function ni(){Wt=Ut=null,Xe=!1}function vc(t){lr===null?lr=[t]:lr.push(t)}var cE=E.ReactCurrentBatchConfig;function is(t,i,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var g=l.stateNode}if(!g)throw Error(n(147,t));var S=g,R=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===R?i.ref:(i=function(O){var V=S.refs;O===null?delete V[R]:V[R]=O},i._stringRef=R,i)}if(typeof t!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,t))}return t}function jo(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Yp(t){var i=t._init;return i(t._payload)}function Xp(t){function i(te,Q){if(t){var re=te.deletions;re===null?(te.deletions=[Q],te.flags|=16):re.push(Q)}}function l(te,Q){if(!t)return null;for(;Q!==null;)i(te,Q),Q=Q.sibling;return null}function g(te,Q){for(te=new Map;Q!==null;)Q.key!==null?te.set(Q.key,Q):te.set(Q.index,Q),Q=Q.sibling;return te}function S(te,Q){return te=ln(te,Q),te.index=0,te.sibling=null,te}function R(te,Q,re){return te.index=re,t?(re=te.alternate,re!==null?(re=re.index,re<Q?(te.flags|=2,Q):re):(te.flags|=2,Q)):(te.flags|=1048576,Q)}function O(te){return t&&te.alternate===null&&(te.flags|=2),te}function V(te,Q,re,he){return Q===null||Q.tag!==6?(Q=lu(re,te.mode,he),Q.return=te,Q):(Q=S(Q,re),Q.return=te,Q)}function X(te,Q,re,he){var be=re.type;return be===D?ce(te,Q,re.props.children,he,re.key):Q!==null&&(Q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Yp(be)===Q.type)?(he=S(Q,re.props),he.ref=is(te,Q,re),he.return=te,he):(he=Qo(re.type,re.key,re.props,null,te.mode,he),he.ref=is(te,Q,re),he.return=te,he)}function ne(te,Q,re,he){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=cu(re,te.mode,he),Q.return=te,Q):(Q=S(Q,re.children||[]),Q.return=te,Q)}function ce(te,Q,re,he,be){return Q===null||Q.tag!==7?(Q=Rn(re,te.mode,he,be),Q.return=te,Q):(Q=S(Q,re),Q.return=te,Q)}function ue(te,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=lu(""+Q,te.mode,re),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return re=Qo(Q.type,Q.key,Q.props,null,te.mode,re),re.ref=is(te,null,Q),re.return=te,re;case N:return Q=cu(Q,te.mode,re),Q.return=te,Q;case ee:var he=Q._init;return ue(te,he(Q._payload),re)}if(Gt(Q)||H(Q))return Q=Rn(Q,te.mode,re,null),Q.return=te,Q;jo(te,Q)}return null}function le(te,Q,re,he){var be=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return be!==null?null:V(te,Q,""+re,he);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return re.key===be?X(te,Q,re,he):null;case N:return re.key===be?ne(te,Q,re,he):null;case ee:return be=re._init,le(te,Q,be(re._payload),he)}if(Gt(re)||H(re))return be!==null?null:ce(te,Q,re,he,null);jo(te,re)}return null}function ve(te,Q,re,he,be){if(typeof he=="string"&&he!==""||typeof he=="number")return te=te.get(re)||null,V(Q,te,""+he,be);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case j:return te=te.get(he.key===null?re:he.key)||null,X(Q,te,he,be);case N:return te=te.get(he.key===null?re:he.key)||null,ne(Q,te,he,be);case ee:var Ce=he._init;return ve(te,Q,re,Ce(he._payload),be)}if(Gt(he)||H(he))return te=te.get(re)||null,ce(Q,te,he,be,null);jo(Q,he)}return null}function ye(te,Q,re,he){for(var be=null,Ce=null,Ee=Q,Ne=Q=0,ft=null;Ee!==null&&Ne<re.length;Ne++){Ee.index>Ne?(ft=Ee,Ee=null):ft=Ee.sibling;var He=le(te,Ee,re[Ne],he);if(He===null){Ee===null&&(Ee=ft);break}t&&Ee&&He.alternate===null&&i(te,Ee),Q=R(He,Q,Ne),Ce===null?be=He:Ce.sibling=He,Ce=He,Ee=ft}if(Ne===re.length)return l(te,Ee),Xe&&wn(te,Ne),be;if(Ee===null){for(;Ne<re.length;Ne++)Ee=ue(te,re[Ne],he),Ee!==null&&(Q=R(Ee,Q,Ne),Ce===null?be=Ee:Ce.sibling=Ee,Ce=Ee);return Xe&&wn(te,Ne),be}for(Ee=g(te,Ee);Ne<re.length;Ne++)ft=ve(Ee,te,Ne,re[Ne],he),ft!==null&&(t&&ft.alternate!==null&&Ee.delete(ft.key===null?Ne:ft.key),Q=R(ft,Q,Ne),Ce===null?be=ft:Ce.sibling=ft,Ce=ft);return t&&Ee.forEach(function(cn){return i(te,cn)}),Xe&&wn(te,Ne),be}function _e(te,Q,re,he){var be=H(re);if(typeof be!="function")throw Error(n(150));if(re=be.call(re),re==null)throw Error(n(151));for(var Ce=be=null,Ee=Q,Ne=Q=0,ft=null,He=re.next();Ee!==null&&!He.done;Ne++,He=re.next()){Ee.index>Ne?(ft=Ee,Ee=null):ft=Ee.sibling;var cn=le(te,Ee,He.value,he);if(cn===null){Ee===null&&(Ee=ft);break}t&&Ee&&cn.alternate===null&&i(te,Ee),Q=R(cn,Q,Ne),Ce===null?be=cn:Ce.sibling=cn,Ce=cn,Ee=ft}if(He.done)return l(te,Ee),Xe&&wn(te,Ne),be;if(Ee===null){for(;!He.done;Ne++,He=re.next())He=ue(te,He.value,he),He!==null&&(Q=R(He,Q,Ne),Ce===null?be=He:Ce.sibling=He,Ce=He);return Xe&&wn(te,Ne),be}for(Ee=g(te,Ee);!He.done;Ne++,He=re.next())He=ve(Ee,te,Ne,He.value,he),He!==null&&(t&&He.alternate!==null&&Ee.delete(He.key===null?Ne:He.key),Q=R(He,Q,Ne),Ce===null?be=He:Ce.sibling=He,Ce=He);return t&&Ee.forEach(function($E){return i(te,$E)}),Xe&&wn(te,Ne),be}function it(te,Q,re,he){if(typeof re=="object"&&re!==null&&re.type===D&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case j:e:{for(var be=re.key,Ce=Q;Ce!==null;){if(Ce.key===be){if(be=re.type,be===D){if(Ce.tag===7){l(te,Ce.sibling),Q=S(Ce,re.props.children),Q.return=te,te=Q;break e}}else if(Ce.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Yp(be)===Ce.type){l(te,Ce.sibling),Q=S(Ce,re.props),Q.ref=is(te,Ce,re),Q.return=te,te=Q;break e}l(te,Ce);break}else i(te,Ce);Ce=Ce.sibling}re.type===D?(Q=Rn(re.props.children,te.mode,he,re.key),Q.return=te,te=Q):(he=Qo(re.type,re.key,re.props,null,te.mode,he),he.ref=is(te,Q,re),he.return=te,te=he)}return O(te);case N:e:{for(Ce=re.key;Q!==null;){if(Q.key===Ce)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){l(te,Q.sibling),Q=S(Q,re.children||[]),Q.return=te,te=Q;break e}else{l(te,Q);break}else i(te,Q);Q=Q.sibling}Q=cu(re,te.mode,he),Q.return=te,te=Q}return O(te);case ee:return Ce=re._init,it(te,Q,Ce(re._payload),he)}if(Gt(re))return ye(te,Q,re,he);if(H(re))return _e(te,Q,re,he);jo(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Q!==null&&Q.tag===6?(l(te,Q.sibling),Q=S(Q,re),Q.return=te,te=Q):(l(te,Q),Q=lu(re,te.mode,he),Q.return=te,te=Q),O(te)):l(te,Q)}return it}var ii=Xp(!0),Jp=Xp(!1),Lo=Jr(null),Ro=null,si=null,xc=null;function yc(){xc=si=Ro=null}function _c(t){var i=Lo.current;Ye(Lo),t._currentValue=i}function bc(t,i,l){for(;t!==null;){var g=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,g!==null&&(g.childLanes|=i)):g!==null&&(g.childLanes&i)!==i&&(g.childLanes|=i),t===l)break;t=t.return}}function oi(t,i){Ro=t,xc=si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(It=!0),t.firstContext=null)}function Qt(t){var i=t._currentValue;if(xc!==t)if(t={context:t,memoizedValue:i,next:null},si===null){if(Ro===null)throw Error(n(308));si=t,Ro.dependencies={lanes:0,firstContext:t}}else si=si.next=t;return i}var Sn=null;function wc(t){Sn===null?Sn=[t]:Sn.push(t)}function Qp(t,i,l,g){var S=i.interleaved;return S===null?(l.next=l,wc(i)):(l.next=S.next,S.next=l),i.interleaved=l,Pr(t,g)}function Pr(t,i){t.lanes|=i;var l=t.alternate;for(l!==null&&(l.lanes|=i),l=t,t=t.return;t!==null;)t.childLanes|=i,l=t.alternate,l!==null&&(l.childLanes|=i),l=t,t=t.return;return l.tag===3?l.stateNode:null}var en=!1;function Sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function tn(t,i,l){var g=t.updateQueue;if(g===null)return null;if(g=g.shared,(ze&2)!==0){var S=g.pending;return S===null?i.next=i:(i.next=S.next,S.next=i),g.pending=i,Pr(t,l)}return S=g.interleaved,S===null?(i.next=i,wc(g)):(i.next=S.next,S.next=i),g.interleaved=i,Pr(t,l)}function To(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var g=i.lanes;g&=t.pendingLanes,l|=g,i.lanes=l,Ol(t,l)}}function em(t,i){var l=t.updateQueue,g=t.alternate;if(g!==null&&(g=g.updateQueue,l===g)){var S=null,R=null;if(l=l.firstBaseUpdate,l!==null){do{var O={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};R===null?S=R=O:R=R.next=O,l=l.next}while(l!==null);R===null?S=R=i:R=R.next=i}else S=R=i;l={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:g.shared,effects:g.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}function Do(t,i,l,g){var S=t.updateQueue;en=!1;var R=S.firstBaseUpdate,O=S.lastBaseUpdate,V=S.shared.pending;if(V!==null){S.shared.pending=null;var X=V,ne=X.next;X.next=null,O===null?R=ne:O.next=ne,O=X;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,V=ce.lastBaseUpdate,V!==O&&(V===null?ce.firstBaseUpdate=ne:V.next=ne,ce.lastBaseUpdate=X))}if(R!==null){var ue=S.baseState;O=0,ce=ne=X=null,V=R;do{var le=V.lane,ve=V.eventTime;if((g&le)===le){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ye=t,_e=V;switch(le=i,ve=l,_e.tag){case 1:if(ye=_e.payload,typeof ye=="function"){ue=ye.call(ve,ue,le);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=_e.payload,le=typeof ye=="function"?ye.call(ve,ue,le):ye,le==null)break e;ue=T({},ue,le);break e;case 2:en=!0}}V.callback!==null&&V.lane!==0&&(t.flags|=64,le=S.effects,le===null?S.effects=[V]:le.push(V))}else ve={eventTime:ve,lane:le,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ce===null?(ne=ce=ve,X=ue):ce=ce.next=ve,O|=le;if(V=V.next,V===null){if(V=S.shared.pending,V===null)break;le=V,V=le.next,le.next=null,S.lastBaseUpdate=le,S.shared.pending=null}}while(!0);if(ce===null&&(X=ue),S.baseState=X,S.firstBaseUpdate=ne,S.lastBaseUpdate=ce,i=S.shared.interleaved,i!==null){S=i;do O|=S.lane,S=S.next;while(S!==i)}else R===null&&(S.shared.lanes=0);En|=O,t.lanes=O,t.memoizedState=ue}}function tm(t,i,l){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var g=t[i],S=g.callback;if(S!==null){if(g.callback=null,g=l,typeof S!="function")throw Error(n(191,S));S.call(g)}}}var ss={},Cr=Jr(ss),os=Jr(ss),as=Jr(ss);function kn(t){if(t===ss)throw Error(n(174));return t}function kc(t,i){switch(qe(as,i),qe(os,t),qe(Cr,ss),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:fe(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=fe(i,t)}Ye(Cr),qe(Cr,i)}function ai(){Ye(Cr),Ye(os),Ye(as)}function rm(t){kn(as.current);var i=kn(Cr.current),l=fe(i,t.type);i!==l&&(qe(os,t),qe(Cr,l))}function Cc(t){os.current===t&&(Ye(Cr),Ye(os))}var et=Jr(0);function Ao(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ec=[];function Nc(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var Io=E.ReactCurrentDispatcher,jc=E.ReactCurrentBatchConfig,Cn=0,tt=null,lt=null,dt=null,Po=!1,ls=!1,cs=0,uE=0;function bt(){throw Error(n(321))}function Lc(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!ar(t[l],i[l]))return!1;return!0}function Rc(t,i,l,g,S,R){if(Cn=R,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Io.current=t===null||t.memoizedState===null?pE:mE,t=l(g,S),ls){R=0;do{if(ls=!1,cs=0,25<=R)throw Error(n(301));R+=1,dt=lt=null,i.updateQueue=null,Io.current=gE,t=l(g,S)}while(ls)}if(Io.current=Bo,i=lt!==null&&lt.next!==null,Cn=0,dt=lt=tt=null,Po=!1,i)throw Error(n(300));return t}function Tc(){var t=cs!==0;return cs=0,t}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?tt.memoizedState=dt=t:dt=dt.next=t,dt}function Zt(){if(lt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var i=dt===null?tt.memoizedState:dt.next;if(i!==null)dt=i,lt=t;else{if(t===null)throw Error(n(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},dt===null?tt.memoizedState=dt=t:dt=dt.next=t}return dt}function us(t,i){return typeof i=="function"?i(t):i}function Dc(t){var i=Zt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=t;var g=lt,S=g.baseQueue,R=l.pending;if(R!==null){if(S!==null){var O=S.next;S.next=R.next,R.next=O}g.baseQueue=S=R,l.pending=null}if(S!==null){R=S.next,g=g.baseState;var V=O=null,X=null,ne=R;do{var ce=ne.lane;if((Cn&ce)===ce)X!==null&&(X=X.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),g=ne.hasEagerState?ne.eagerState:t(g,ne.action);else{var ue={lane:ce,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};X===null?(V=X=ue,O=g):X=X.next=ue,tt.lanes|=ce,En|=ce}ne=ne.next}while(ne!==null&&ne!==R);X===null?O=g:X.next=V,ar(g,i.memoizedState)||(It=!0),i.memoizedState=g,i.baseState=O,i.baseQueue=X,l.lastRenderedState=g}if(t=l.interleaved,t!==null){S=t;do R=S.lane,tt.lanes|=R,En|=R,S=S.next;while(S!==t)}else S===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Ac(t){var i=Zt(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=t;var g=l.dispatch,S=l.pending,R=i.memoizedState;if(S!==null){l.pending=null;var O=S=S.next;do R=t(R,O.action),O=O.next;while(O!==S);ar(R,i.memoizedState)||(It=!0),i.memoizedState=R,i.baseQueue===null&&(i.baseState=R),l.lastRenderedState=R}return[R,g]}function nm(){}function im(t,i){var l=tt,g=Zt(),S=i(),R=!ar(g.memoizedState,S);if(R&&(g.memoizedState=S,It=!0),g=g.queue,Ic(am.bind(null,l,g,t),[t]),g.getSnapshot!==i||R||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,ds(9,om.bind(null,l,g,S,i),void 0,null),ht===null)throw Error(n(349));(Cn&30)!==0||sm(l,i,S)}return S}function sm(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function om(t,i,l,g){i.value=l,i.getSnapshot=g,lm(i)&&cm(t)}function am(t,i,l){return l(function(){lm(i)&&cm(t)})}function lm(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!ar(t,l)}catch{return!0}}function cm(t){var i=Pr(t,1);i!==null&&hr(i,t,1,-1)}function um(t){var i=Er();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},i.queue=t,t=t.dispatch=fE.bind(null,tt,t),[i.memoizedState,t]}function ds(t,i,l,g){return t={tag:t,create:i,destroy:l,deps:g,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=t.next=t):(l=i.lastEffect,l===null?i.lastEffect=t.next=t:(g=l.next,l.next=t,t.next=g,i.lastEffect=t)),t}function dm(){return Zt().memoizedState}function Mo(t,i,l,g){var S=Er();tt.flags|=t,S.memoizedState=ds(1|i,l,void 0,g===void 0?null:g)}function Oo(t,i,l,g){var S=Zt();g=g===void 0?null:g;var R=void 0;if(lt!==null){var O=lt.memoizedState;if(R=O.destroy,g!==null&&Lc(g,O.deps)){S.memoizedState=ds(i,l,R,g);return}}tt.flags|=t,S.memoizedState=ds(1|i,l,R,g)}function hm(t,i){return Mo(8390656,8,t,i)}function Ic(t,i){return Oo(2048,8,t,i)}function fm(t,i){return Oo(4,2,t,i)}function pm(t,i){return Oo(4,4,t,i)}function mm(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gm(t,i,l){return l=l!=null?l.concat([t]):null,Oo(4,4,mm.bind(null,i,t),l)}function Pc(){}function vm(t,i){var l=Zt();i=i===void 0?null:i;var g=l.memoizedState;return g!==null&&i!==null&&Lc(i,g[1])?g[0]:(l.memoizedState=[t,i],t)}function xm(t,i){var l=Zt();i=i===void 0?null:i;var g=l.memoizedState;return g!==null&&i!==null&&Lc(i,g[1])?g[0]:(t=t(),l.memoizedState=[t,i],t)}function ym(t,i,l){return(Cn&21)===0?(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=l):(ar(l,i)||(l=Yf(),tt.lanes|=l,En|=l,t.baseState=!0),i)}function dE(t,i){var l=$e;$e=l!==0&&4>l?l:4,t(!0);var g=jc.transition;jc.transition={};try{t(!1),i()}finally{$e=l,jc.transition=g}}function _m(){return Zt().memoizedState}function hE(t,i,l){var g=on(t);if(l={lane:g,action:l,hasEagerState:!1,eagerState:null,next:null},bm(t))wm(i,l);else if(l=Qp(t,i,l,g),l!==null){var S=Nt();hr(l,t,g,S),Sm(l,i,g)}}function fE(t,i,l){var g=on(t),S={lane:g,action:l,hasEagerState:!1,eagerState:null,next:null};if(bm(t))wm(i,S);else{var R=t.alternate;if(t.lanes===0&&(R===null||R.lanes===0)&&(R=i.lastRenderedReducer,R!==null))try{var O=i.lastRenderedState,V=R(O,l);if(S.hasEagerState=!0,S.eagerState=V,ar(V,O)){var X=i.interleaved;X===null?(S.next=S,wc(i)):(S.next=X.next,X.next=S),i.interleaved=S;return}}catch{}finally{}l=Qp(t,i,S,g),l!==null&&(S=Nt(),hr(l,t,g,S),Sm(l,i,g))}}function bm(t){var i=t.alternate;return t===tt||i!==null&&i===tt}function wm(t,i){ls=Po=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function Sm(t,i,l){if((l&4194240)!==0){var g=i.lanes;g&=t.pendingLanes,l|=g,i.lanes=l,Ol(t,l)}}var Bo={readContext:Qt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},pE={readContext:Qt,useCallback:function(t,i){return Er().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:hm,useImperativeHandle:function(t,i,l){return l=l!=null?l.concat([t]):null,Mo(4194308,4,mm.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Mo(4194308,4,t,i)},useInsertionEffect:function(t,i){return Mo(4,2,t,i)},useMemo:function(t,i){var l=Er();return i=i===void 0?null:i,t=t(),l.memoizedState=[t,i],t},useReducer:function(t,i,l){var g=Er();return i=l!==void 0?l(i):i,g.memoizedState=g.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},g.queue=t,t=t.dispatch=hE.bind(null,tt,t),[g.memoizedState,t]},useRef:function(t){var i=Er();return t={current:t},i.memoizedState=t},useState:um,useDebugValue:Pc,useDeferredValue:function(t){return Er().memoizedState=t},useTransition:function(){var t=um(!1),i=t[0];return t=dE.bind(null,t[1]),Er().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,l){var g=tt,S=Er();if(Xe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),ht===null)throw Error(n(349));(Cn&30)!==0||sm(g,i,l)}S.memoizedState=l;var R={value:l,getSnapshot:i};return S.queue=R,hm(am.bind(null,g,R,t),[t]),g.flags|=2048,ds(9,om.bind(null,g,R,l,i),void 0,null),l},useId:function(){var t=Er(),i=ht.identifierPrefix;if(Xe){var l=Ir,g=Ar;l=(g&~(1<<32-or(g)-1)).toString(32)+l,i=":"+i+"R"+l,l=cs++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=uE++,i=":"+i+"r"+l.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},mE={readContext:Qt,useCallback:vm,useContext:Qt,useEffect:Ic,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:pm,useMemo:xm,useReducer:Dc,useRef:dm,useState:function(){return Dc(us)},useDebugValue:Pc,useDeferredValue:function(t){var i=Zt();return ym(i,lt.memoizedState,t)},useTransition:function(){var t=Dc(us)[0],i=Zt().memoizedState;return[t,i]},useMutableSource:nm,useSyncExternalStore:im,useId:_m,unstable_isNewReconciler:!1},gE={readContext:Qt,useCallback:vm,useContext:Qt,useEffect:Ic,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:pm,useMemo:xm,useReducer:Ac,useRef:dm,useState:function(){return Ac(us)},useDebugValue:Pc,useDeferredValue:function(t){var i=Zt();return lt===null?i.memoizedState=t:ym(i,lt.memoizedState,t)},useTransition:function(){var t=Ac(us)[0],i=Zt().memoizedState;return[t,i]},useMutableSource:nm,useSyncExternalStore:im,useId:_m,unstable_isNewReconciler:!1};function cr(t,i){if(t&&t.defaultProps){i=T({},i),t=t.defaultProps;for(var l in t)i[l]===void 0&&(i[l]=t[l]);return i}return i}function Mc(t,i,l,g){i=t.memoizedState,l=l(g,i),l=l==null?i:T({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Fo={isMounted:function(t){return(t=t._reactInternals)?xn(t)===t:!1},enqueueSetState:function(t,i,l){t=t._reactInternals;var g=Nt(),S=on(t),R=Mr(g,S);R.payload=i,l!=null&&(R.callback=l),i=tn(t,R,S),i!==null&&(hr(i,t,S,g),To(i,t,S))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var g=Nt(),S=on(t),R=Mr(g,S);R.tag=1,R.payload=i,l!=null&&(R.callback=l),i=tn(t,R,S),i!==null&&(hr(i,t,S,g),To(i,t,S))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Nt(),g=on(t),S=Mr(l,g);S.tag=2,i!=null&&(S.callback=i),i=tn(t,S,g),i!==null&&(hr(i,t,g,l),To(i,t,g))}};function km(t,i,l,g,S,R,O){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(g,R,O):i.prototype&&i.prototype.isPureReactComponent?!Ji(l,g)||!Ji(S,R):!0}function Cm(t,i,l){var g=!1,S=Qr,R=i.contextType;return typeof R=="object"&&R!==null?R=Qt(R):(S=At(i)?_n:_t.current,g=i.contextTypes,R=(g=g!=null)?ei(t,S):Qr),i=new i(l,R),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Fo,t.stateNode=i,i._reactInternals=t,g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=S,t.__reactInternalMemoizedMaskedChildContext=R),i}function Em(t,i,l,g){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,g),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,g),i.state!==t&&Fo.enqueueReplaceState(i,i.state,null)}function Oc(t,i,l,g){var S=t.stateNode;S.props=l,S.state=t.memoizedState,S.refs={},Sc(t);var R=i.contextType;typeof R=="object"&&R!==null?S.context=Qt(R):(R=At(i)?_n:_t.current,S.context=ei(t,R)),S.state=t.memoizedState,R=i.getDerivedStateFromProps,typeof R=="function"&&(Mc(t,i,R,l),S.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(i=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),i!==S.state&&Fo.enqueueReplaceState(S,S.state,null),Do(t,l,S,g),S.state=t.memoizedState),typeof S.componentDidMount=="function"&&(t.flags|=4194308)}function li(t,i){try{var l="",g=i;do l+=ae(g),g=g.return;while(g);var S=l}catch(R){S=`
Error generating stack: `+R.message+`
`+R.stack}return{value:t,source:i,stack:S,digest:null}}function Bc(t,i,l){return{value:t,source:null,stack:l??null,digest:i??null}}function Fc(t,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var vE=typeof WeakMap=="function"?WeakMap:Map;function Nm(t,i,l){l=Mr(-1,l),l.tag=3,l.payload={element:null};var g=i.value;return l.callback=function(){Ko||(Ko=!0,eu=g),Fc(t,i)},l}function jm(t,i,l){l=Mr(-1,l),l.tag=3;var g=t.type.getDerivedStateFromError;if(typeof g=="function"){var S=i.value;l.payload=function(){return g(S)},l.callback=function(){Fc(t,i)}}var R=t.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(l.callback=function(){Fc(t,i),typeof g!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var O=i.stack;this.componentDidCatch(i.value,{componentStack:O!==null?O:""})}),l}function Lm(t,i,l){var g=t.pingCache;if(g===null){g=t.pingCache=new vE;var S=new Set;g.set(i,S)}else S=g.get(i),S===void 0&&(S=new Set,g.set(i,S));S.has(l)||(S.add(l),t=TE.bind(null,t,i,l),i.then(t,t))}function Rm(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Tm(t,i,l,g,S){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Mr(-1,1),i.tag=2,tn(l,i,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=S,t)}var xE=E.ReactCurrentOwner,It=!1;function Et(t,i,l,g){i.child=t===null?Jp(i,null,l,g):ii(i,t.child,l,g)}function Dm(t,i,l,g,S){l=l.render;var R=i.ref;return oi(i,S),g=Rc(t,i,l,g,R,S),l=Tc(),t!==null&&!It?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~S,Or(t,i,S)):(Xe&&l&&fc(i),i.flags|=1,Et(t,i,g,S),i.child)}function Am(t,i,l,g,S){if(t===null){var R=l.type;return typeof R=="function"&&!au(R)&&R.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=R,Im(t,i,R,g,S)):(t=Qo(l.type,null,g,i,i.mode,S),t.ref=i.ref,t.return=i,i.child=t)}if(R=t.child,(t.lanes&S)===0){var O=R.memoizedProps;if(l=l.compare,l=l!==null?l:Ji,l(O,g)&&t.ref===i.ref)return Or(t,i,S)}return i.flags|=1,t=ln(R,g),t.ref=i.ref,t.return=i,i.child=t}function Im(t,i,l,g,S){if(t!==null){var R=t.memoizedProps;if(Ji(R,g)&&t.ref===i.ref)if(It=!1,i.pendingProps=g=R,(t.lanes&S)!==0)(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Or(t,i,S)}return zc(t,i,l,g,S)}function Pm(t,i,l){var g=i.pendingProps,S=g.children,R=t!==null?t.memoizedState:null;if(g.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ui,Vt),Vt|=l;else{if((l&1073741824)===0)return t=R!==null?R.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,qe(ui,Vt),Vt|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=R!==null?R.baseLanes:l,qe(ui,Vt),Vt|=g}else R!==null?(g=R.baseLanes|l,i.memoizedState=null):g=l,qe(ui,Vt),Vt|=g;return Et(t,i,S,l),i.child}function Mm(t,i){var l=i.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function zc(t,i,l,g,S){var R=At(l)?_n:_t.current;return R=ei(i,R),oi(i,S),l=Rc(t,i,l,g,R,S),g=Tc(),t!==null&&!It?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~S,Or(t,i,S)):(Xe&&g&&fc(i),i.flags|=1,Et(t,i,l,S),i.child)}function Om(t,i,l,g,S){if(At(l)){var R=!0;So(i)}else R=!1;if(oi(i,S),i.stateNode===null)Ho(t,i),Cm(i,l,g),Oc(i,l,g,S),g=!0;else if(t===null){var O=i.stateNode,V=i.memoizedProps;O.props=V;var X=O.context,ne=l.contextType;typeof ne=="object"&&ne!==null?ne=Qt(ne):(ne=At(l)?_n:_t.current,ne=ei(i,ne));var ce=l.getDerivedStateFromProps,ue=typeof ce=="function"||typeof O.getSnapshotBeforeUpdate=="function";ue||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==g||X!==ne)&&Em(i,O,g,ne),en=!1;var le=i.memoizedState;O.state=le,Do(i,g,O,S),X=i.memoizedState,V!==g||le!==X||Dt.current||en?(typeof ce=="function"&&(Mc(i,l,ce,g),X=i.memoizedState),(V=en||km(i,l,V,g,le,X,ne))?(ue||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(i.flags|=4194308)):(typeof O.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=g,i.memoizedState=X),O.props=g,O.state=X,O.context=ne,g=V):(typeof O.componentDidMount=="function"&&(i.flags|=4194308),g=!1)}else{O=i.stateNode,Zp(t,i),V=i.memoizedProps,ne=i.type===i.elementType?V:cr(i.type,V),O.props=ne,ue=i.pendingProps,le=O.context,X=l.contextType,typeof X=="object"&&X!==null?X=Qt(X):(X=At(l)?_n:_t.current,X=ei(i,X));var ve=l.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==ue||le!==X)&&Em(i,O,g,X),en=!1,le=i.memoizedState,O.state=le,Do(i,g,O,S);var ye=i.memoizedState;V!==ue||le!==ye||Dt.current||en?(typeof ve=="function"&&(Mc(i,l,ve,g),ye=i.memoizedState),(ne=en||km(i,l,ne,g,le,ye,X)||!1)?(ce||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,ye,X),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,ye,X)),typeof O.componentDidUpdate=="function"&&(i.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof O.componentDidUpdate!="function"||V===t.memoizedProps&&le===t.memoizedState||(i.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===t.memoizedProps&&le===t.memoizedState||(i.flags|=1024),i.memoizedProps=g,i.memoizedState=ye),O.props=g,O.state=ye,O.context=X,g=ne):(typeof O.componentDidUpdate!="function"||V===t.memoizedProps&&le===t.memoizedState||(i.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===t.memoizedProps&&le===t.memoizedState||(i.flags|=1024),g=!1)}return Hc(t,i,l,g,R,S)}function Hc(t,i,l,g,S,R){Mm(t,i);var O=(i.flags&128)!==0;if(!g&&!O)return S&&$p(i,l,!1),Or(t,i,R);g=i.stateNode,xE.current=i;var V=O&&typeof l.getDerivedStateFromError!="function"?null:g.render();return i.flags|=1,t!==null&&O?(i.child=ii(i,t.child,null,R),i.child=ii(i,null,V,R)):Et(t,i,V,R),i.memoizedState=g.state,S&&$p(i,l,!0),i.child}function Bm(t){var i=t.stateNode;i.pendingContext?zp(t,i.pendingContext,i.pendingContext!==i.context):i.context&&zp(t,i.context,!1),kc(t,i.containerInfo)}function Fm(t,i,l,g,S){return ni(),vc(S),i.flags|=256,Et(t,i,l,g),i.child}var $c={dehydrated:null,treeContext:null,retryLane:0};function Uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function zm(t,i,l){var g=i.pendingProps,S=et.current,R=!1,O=(i.flags&128)!==0,V;if((V=O)||(V=t!==null&&t.memoizedState===null?!1:(S&2)!==0),V?(R=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(S|=1),qe(et,S&1),t===null)return gc(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(O=g.children,t=g.fallback,R?(g=i.mode,R=i.child,O={mode:"hidden",children:O},(g&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=O):R=Zo(O,g,0,null),t=Rn(t,g,l,null),R.return=i,t.return=i,R.sibling=t,i.child=R,i.child.memoizedState=Uc(l),i.memoizedState=$c,t):Wc(i,O));if(S=t.memoizedState,S!==null&&(V=S.dehydrated,V!==null))return yE(t,i,O,g,V,S,l);if(R){R=g.fallback,O=i.mode,S=t.child,V=S.sibling;var X={mode:"hidden",children:g.children};return(O&1)===0&&i.child!==S?(g=i.child,g.childLanes=0,g.pendingProps=X,i.deletions=null):(g=ln(S,X),g.subtreeFlags=S.subtreeFlags&14680064),V!==null?R=ln(V,R):(R=Rn(R,O,l,null),R.flags|=2),R.return=i,g.return=i,g.sibling=R,i.child=g,g=R,R=i.child,O=t.child.memoizedState,O=O===null?Uc(l):{baseLanes:O.baseLanes|l,cachePool:null,transitions:O.transitions},R.memoizedState=O,R.childLanes=t.childLanes&~l,i.memoizedState=$c,g}return R=t.child,t=R.sibling,g=ln(R,{mode:"visible",children:g.children}),(i.mode&1)===0&&(g.lanes=l),g.return=i,g.sibling=null,t!==null&&(l=i.deletions,l===null?(i.deletions=[t],i.flags|=16):l.push(t)),i.child=g,i.memoizedState=null,g}function Wc(t,i){return i=Zo({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function zo(t,i,l,g){return g!==null&&vc(g),ii(i,t.child,null,l),t=Wc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function yE(t,i,l,g,S,R,O){if(l)return i.flags&256?(i.flags&=-257,g=Bc(Error(n(422))),zo(t,i,O,g)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(R=g.fallback,S=i.mode,g=Zo({mode:"visible",children:g.children},S,0,null),R=Rn(R,S,O,null),R.flags|=2,g.return=i,R.return=i,g.sibling=R,i.child=g,(i.mode&1)!==0&&ii(i,t.child,null,O),i.child.memoizedState=Uc(O),i.memoizedState=$c,R);if((i.mode&1)===0)return zo(t,i,O,null);if(S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var V=g.dgst;return g=V,R=Error(n(419)),g=Bc(R,g,void 0),zo(t,i,O,g)}if(V=(O&t.childLanes)!==0,It||V){if(g=ht,g!==null){switch(O&-O){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(g.suspendedLanes|O))!==0?0:S,S!==0&&S!==R.retryLane&&(R.retryLane=S,Pr(t,S),hr(g,t,S,-1))}return ou(),g=Bc(Error(n(421))),zo(t,i,O,g)}return S.data==="$?"?(i.flags|=128,i.child=t.child,i=DE.bind(null,t),S._reactRetry=i,null):(t=R.treeContext,Wt=Xr(S.nextSibling),Ut=i,Xe=!0,lr=null,t!==null&&(Xt[Jt++]=Ar,Xt[Jt++]=Ir,Xt[Jt++]=bn,Ar=t.id,Ir=t.overflow,bn=i),i=Wc(i,g.children),i.flags|=4096,i)}function Hm(t,i,l){t.lanes|=i;var g=t.alternate;g!==null&&(g.lanes|=i),bc(t.return,i,l)}function Vc(t,i,l,g,S){var R=t.memoizedState;R===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:g,tail:l,tailMode:S}:(R.isBackwards=i,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=l,R.tailMode=S)}function $m(t,i,l){var g=i.pendingProps,S=g.revealOrder,R=g.tail;if(Et(t,i,g.children,l),g=et.current,(g&2)!==0)g=g&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hm(t,l,i);else if(t.tag===19)Hm(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}g&=1}if(qe(et,g),(i.mode&1)===0)i.memoizedState=null;else switch(S){case"forwards":for(l=i.child,S=null;l!==null;)t=l.alternate,t!==null&&Ao(t)===null&&(S=l),l=l.sibling;l=S,l===null?(S=i.child,i.child=null):(S=l.sibling,l.sibling=null),Vc(i,!1,S,l,R);break;case"backwards":for(l=null,S=i.child,i.child=null;S!==null;){if(t=S.alternate,t!==null&&Ao(t)===null){i.child=S;break}t=S.sibling,S.sibling=l,l=S,S=t}Vc(i,!0,l,null,R);break;case"together":Vc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ho(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Or(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),En|=i.lanes,(l&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,l=ln(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=ln(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function _E(t,i,l){switch(i.tag){case 3:Bm(i),ni();break;case 5:rm(i);break;case 1:At(i.type)&&So(i);break;case 4:kc(i,i.stateNode.containerInfo);break;case 10:var g=i.type._context,S=i.memoizedProps.value;qe(Lo,g._currentValue),g._currentValue=S;break;case 13:if(g=i.memoizedState,g!==null)return g.dehydrated!==null?(qe(et,et.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?zm(t,i,l):(qe(et,et.current&1),t=Or(t,i,l),t!==null?t.sibling:null);qe(et,et.current&1);break;case 19:if(g=(l&i.childLanes)!==0,(t.flags&128)!==0){if(g)return $m(t,i,l);i.flags|=128}if(S=i.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),qe(et,et.current),g)break;return null;case 22:case 23:return i.lanes=0,Pm(t,i,l)}return Or(t,i,l)}var Um,Kc,Wm,Vm;Um=function(t,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Kc=function(){},Wm=function(t,i,l,g){var S=t.memoizedProps;if(S!==g){t=i.stateNode,kn(Cr.current);var R=null;switch(l){case"input":S=Qe(t,S),g=Qe(t,g),R=[];break;case"select":S=T({},S,{value:void 0}),g=T({},g,{value:void 0}),R=[];break;case"textarea":S=_r(t,S),g=_r(t,g),R=[];break;default:typeof S.onClick!="function"&&typeof g.onClick=="function"&&(t.onclick=_o)}mt(l,g);var O;l=null;for(ne in S)if(!g.hasOwnProperty(ne)&&S.hasOwnProperty(ne)&&S[ne]!=null)if(ne==="style"){var V=S[ne];for(O in V)V.hasOwnProperty(O)&&(l||(l={}),l[O]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(a.hasOwnProperty(ne)?R||(R=[]):(R=R||[]).push(ne,null));for(ne in g){var X=g[ne];if(V=S!=null?S[ne]:void 0,g.hasOwnProperty(ne)&&X!==V&&(X!=null||V!=null))if(ne==="style")if(V){for(O in V)!V.hasOwnProperty(O)||X&&X.hasOwnProperty(O)||(l||(l={}),l[O]="");for(O in X)X.hasOwnProperty(O)&&V[O]!==X[O]&&(l||(l={}),l[O]=X[O])}else l||(R||(R=[]),R.push(ne,l)),l=X;else ne==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,V=V?V.__html:void 0,X!=null&&V!==X&&(R=R||[]).push(ne,X)):ne==="children"?typeof X!="string"&&typeof X!="number"||(R=R||[]).push(ne,""+X):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(a.hasOwnProperty(ne)?(X!=null&&ne==="onScroll"&&Ge("scroll",t),R||V===X||(R=[])):(R=R||[]).push(ne,X))}l&&(R=R||[]).push("style",l);var ne=R;(i.updateQueue=ne)&&(i.flags|=4)}},Vm=function(t,i,l,g){l!==g&&(i.flags|=4)};function hs(t,i){if(!Xe)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:g.sibling=null}}function wt(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,g=0;if(i)for(var S=t.child;S!==null;)l|=S.lanes|S.childLanes,g|=S.subtreeFlags&14680064,g|=S.flags&14680064,S.return=t,S=S.sibling;else for(S=t.child;S!==null;)l|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=t,S=S.sibling;return t.subtreeFlags|=g,t.childLanes=l,i}function bE(t,i,l){var g=i.pendingProps;switch(pc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return At(i.type)&&wo(),wt(i),null;case 3:return g=i.stateNode,ai(),Ye(Dt),Ye(_t),Nc(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(t===null||t.child===null)&&(No(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lr!==null&&(nu(lr),lr=null))),Kc(t,i),wt(i),null;case 5:Cc(i);var S=kn(as.current);if(l=i.type,t!==null&&i.stateNode!=null)Wm(t,i,l,g,S),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!g){if(i.stateNode===null)throw Error(n(166));return wt(i),null}if(t=kn(Cr.current),No(i)){g=i.stateNode,l=i.type;var R=i.memoizedProps;switch(g[kr]=i,g[rs]=R,t=(i.mode&1)!==0,l){case"dialog":Ge("cancel",g),Ge("close",g);break;case"iframe":case"object":case"embed":Ge("load",g);break;case"video":case"audio":for(S=0;S<Zi.length;S++)Ge(Zi[S],g);break;case"source":Ge("error",g);break;case"img":case"image":case"link":Ge("error",g),Ge("load",g);break;case"details":Ge("toggle",g);break;case"input":ot(g,R),Ge("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!R.multiple},Ge("invalid",g);break;case"textarea":pt(g,R),Ge("invalid",g)}mt(l,R),S=null;for(var O in R)if(R.hasOwnProperty(O)){var V=R[O];O==="children"?typeof V=="string"?g.textContent!==V&&(R.suppressHydrationWarning!==!0&&yo(g.textContent,V,t),S=["children",V]):typeof V=="number"&&g.textContent!==""+V&&(R.suppressHydrationWarning!==!0&&yo(g.textContent,V,t),S=["children",""+V]):a.hasOwnProperty(O)&&V!=null&&O==="onScroll"&&Ge("scroll",g)}switch(l){case"input":we(g),xr(g,R,!0);break;case"textarea":we(g),Ct(g);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(g.onclick=_o)}g=S,i.updateQueue=g,g!==null&&(i.flags|=4)}else{O=S.nodeType===9?S:S.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=se(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=O.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof g.is=="string"?t=O.createElement(l,{is:g.is}):(t=O.createElement(l),l==="select"&&(O=t,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):t=O.createElementNS(t,l),t[kr]=i,t[rs]=g,Um(t,i,!1,!1),i.stateNode=t;e:{switch(O=wr(l,g),l){case"dialog":Ge("cancel",t),Ge("close",t),S=g;break;case"iframe":case"object":case"embed":Ge("load",t),S=g;break;case"video":case"audio":for(S=0;S<Zi.length;S++)Ge(Zi[S],t);S=g;break;case"source":Ge("error",t),S=g;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),S=g;break;case"details":Ge("toggle",t),S=g;break;case"input":ot(t,g),S=Qe(t,g),Ge("invalid",t);break;case"option":S=g;break;case"select":t._wrapperState={wasMultiple:!!g.multiple},S=T({},g,{value:void 0}),Ge("invalid",t);break;case"textarea":pt(t,g),S=_r(t,g),Ge("invalid",t);break;default:S=g}mt(l,S),V=S;for(R in V)if(V.hasOwnProperty(R)){var X=V[R];R==="style"?Ur(t,X):R==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&De(t,X)):R==="children"?typeof X=="string"?(l!=="textarea"||X!=="")&&Ae(t,X):typeof X=="number"&&Ae(t,""+X):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(a.hasOwnProperty(R)?X!=null&&R==="onScroll"&&Ge("scroll",t):X!=null&&y(t,R,X,O))}switch(l){case"input":we(t),xr(t,g,!1);break;case"textarea":we(t),Ct(t);break;case"option":g.value!=null&&t.setAttribute("value",""+Z(g.value));break;case"select":t.multiple=!!g.multiple,R=g.value,R!=null?Yt(t,!!g.multiple,R,!1):g.defaultValue!=null&&Yt(t,!!g.multiple,g.defaultValue,!0);break;default:typeof S.onClick=="function"&&(t.onclick=_o)}switch(l){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return wt(i),null;case 6:if(t&&i.stateNode!=null)Vm(t,i,t.memoizedProps,g);else{if(typeof g!="string"&&i.stateNode===null)throw Error(n(166));if(l=kn(as.current),kn(Cr.current),No(i)){if(g=i.stateNode,l=i.memoizedProps,g[kr]=i,(R=g.nodeValue!==l)&&(t=Ut,t!==null))switch(t.tag){case 3:yo(g.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yo(g.nodeValue,l,(t.mode&1)!==0)}R&&(i.flags|=4)}else g=(l.nodeType===9?l:l.ownerDocument).createTextNode(g),g[kr]=i,i.stateNode=g}return wt(i),null;case 13:if(Ye(et),g=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Wt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Gp(),ni(),i.flags|=98560,R=!1;else if(R=No(i),g!==null&&g.dehydrated!==null){if(t===null){if(!R)throw Error(n(318));if(R=i.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(n(317));R[kr]=i}else ni(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),R=!1}else lr!==null&&(nu(lr),lr=null),R=!0;if(!R)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(g=g!==null,g!==(t!==null&&t.memoizedState!==null)&&g&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(et.current&1)!==0?ct===0&&(ct=3):ou())),i.updateQueue!==null&&(i.flags|=4),wt(i),null);case 4:return ai(),Kc(t,i),t===null&&es(i.stateNode.containerInfo),wt(i),null;case 10:return _c(i.type._context),wt(i),null;case 17:return At(i.type)&&wo(),wt(i),null;case 19:if(Ye(et),R=i.memoizedState,R===null)return wt(i),null;if(g=(i.flags&128)!==0,O=R.rendering,O===null)if(g)hs(R,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(O=Ao(t),O!==null){for(i.flags|=128,hs(R,!1),g=O.updateQueue,g!==null&&(i.updateQueue=g,i.flags|=4),i.subtreeFlags=0,g=l,l=i.child;l!==null;)R=l,t=g,R.flags&=14680066,O=R.alternate,O===null?(R.childLanes=0,R.lanes=t,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=O.childLanes,R.lanes=O.lanes,R.child=O.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=O.memoizedProps,R.memoizedState=O.memoizedState,R.updateQueue=O.updateQueue,R.type=O.type,t=O.dependencies,R.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return qe(et,et.current&1|2),i.child}t=t.sibling}R.tail!==null&&nt()>di&&(i.flags|=128,g=!0,hs(R,!1),i.lanes=4194304)}else{if(!g)if(t=Ao(O),t!==null){if(i.flags|=128,g=!0,l=t.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),hs(R,!0),R.tail===null&&R.tailMode==="hidden"&&!O.alternate&&!Xe)return wt(i),null}else 2*nt()-R.renderingStartTime>di&&l!==1073741824&&(i.flags|=128,g=!0,hs(R,!1),i.lanes=4194304);R.isBackwards?(O.sibling=i.child,i.child=O):(l=R.last,l!==null?l.sibling=O:i.child=O,R.last=O)}return R.tail!==null?(i=R.tail,R.rendering=i,R.tail=i.sibling,R.renderingStartTime=nt(),i.sibling=null,l=et.current,qe(et,g?l&1|2:l&1),i):(wt(i),null);case 22:case 23:return su(),g=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==g&&(i.flags|=8192),g&&(i.mode&1)!==0?(Vt&1073741824)!==0&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function wE(t,i){switch(pc(i),i.tag){case 1:return At(i.type)&&wo(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ai(),Ye(Dt),Ye(_t),Nc(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Cc(i),null;case 13:if(Ye(et),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ni()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ye(et),null;case 4:return ai(),null;case 10:return _c(i.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var $o=!1,St=!1,SE=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ci(t,i){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(g){rt(t,i,g)}else l.current=null}function qc(t,i,l){try{l()}catch(g){rt(t,i,g)}}var Km=!1;function kE(t,i){if(sc=ao,t=kp(),Jl(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var g=l.getSelection&&l.getSelection();if(g&&g.rangeCount!==0){l=g.anchorNode;var S=g.anchorOffset,R=g.focusNode;g=g.focusOffset;try{l.nodeType,R.nodeType}catch{l=null;break e}var O=0,V=-1,X=-1,ne=0,ce=0,ue=t,le=null;t:for(;;){for(var ve;ue!==l||S!==0&&ue.nodeType!==3||(V=O+S),ue!==R||g!==0&&ue.nodeType!==3||(X=O+g),ue.nodeType===3&&(O+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)le=ue,ue=ve;for(;;){if(ue===t)break t;if(le===l&&++ne===S&&(V=O),le===R&&++ce===g&&(X=O),(ve=ue.nextSibling)!==null)break;ue=le,le=ue.parentNode}ue=ve}l=V===-1||X===-1?null:{start:V,end:X}}else l=null}l=l||{start:0,end:0}}else l=null;for(oc={focusedElem:t,selectionRange:l},ao=!1,xe=i;xe!==null;)if(i=xe,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,xe=t;else for(;xe!==null;){i=xe;try{var ye=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var _e=ye.memoizedProps,it=ye.memoizedState,te=i.stateNode,Q=te.getSnapshotBeforeUpdate(i.elementType===i.type?_e:cr(i.type,_e),it);te.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var re=i.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){rt(i,i.return,he)}if(t=i.sibling,t!==null){t.return=i.return,xe=t;break}xe=i.return}return ye=Km,Km=!1,ye}function fs(t,i,l){var g=i.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&t)===t){var R=S.destroy;S.destroy=void 0,R!==void 0&&qc(i,l,R)}S=S.next}while(S!==g)}}function Uo(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&t)===t){var g=l.create;l.destroy=g()}l=l.next}while(l!==i)}}function Gc(t){var i=t.ref;if(i!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof i=="function"?i(t):i.current=t}}function qm(t){var i=t.alternate;i!==null&&(t.alternate=null,qm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[kr],delete i[rs],delete i[uc],delete i[oE],delete i[aE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gm(t){return t.tag===5||t.tag===3||t.tag===4}function Ym(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yc(t,i,l){var g=t.tag;if(g===5||g===6)t=t.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(t,i):l.insertBefore(t,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(t,l)):(i=l,i.appendChild(t)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=_o));else if(g!==4&&(t=t.child,t!==null))for(Yc(t,i,l),t=t.sibling;t!==null;)Yc(t,i,l),t=t.sibling}function Xc(t,i,l){var g=t.tag;if(g===5||g===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(g!==4&&(t=t.child,t!==null))for(Xc(t,i,l),t=t.sibling;t!==null;)Xc(t,i,l),t=t.sibling}var gt=null,ur=!1;function rn(t,i,l){for(l=l.child;l!==null;)Xm(t,i,l),l=l.sibling}function Xm(t,i,l){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(to,l)}catch{}switch(l.tag){case 5:St||ci(l,i);case 6:var g=gt,S=ur;gt=null,rn(t,i,l),gt=g,ur=S,gt!==null&&(ur?(t=gt,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):gt.removeChild(l.stateNode));break;case 18:gt!==null&&(ur?(t=gt,l=l.stateNode,t.nodeType===8?cc(t.parentNode,l):t.nodeType===1&&cc(t,l),Vi(t)):cc(gt,l.stateNode));break;case 4:g=gt,S=ur,gt=l.stateNode.containerInfo,ur=!0,rn(t,i,l),gt=g,ur=S;break;case 0:case 11:case 14:case 15:if(!St&&(g=l.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){S=g=g.next;do{var R=S,O=R.destroy;R=R.tag,O!==void 0&&((R&2)!==0||(R&4)!==0)&&qc(l,i,O),S=S.next}while(S!==g)}rn(t,i,l);break;case 1:if(!St&&(ci(l,i),g=l.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=l.memoizedProps,g.state=l.memoizedState,g.componentWillUnmount()}catch(V){rt(l,i,V)}rn(t,i,l);break;case 21:rn(t,i,l);break;case 22:l.mode&1?(St=(g=St)||l.memoizedState!==null,rn(t,i,l),St=g):rn(t,i,l);break;default:rn(t,i,l)}}function Jm(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new SE),i.forEach(function(g){var S=AE.bind(null,t,g);l.has(g)||(l.add(g),g.then(S,S))})}}function dr(t,i){var l=i.deletions;if(l!==null)for(var g=0;g<l.length;g++){var S=l[g];try{var R=t,O=i,V=O;e:for(;V!==null;){switch(V.tag){case 5:gt=V.stateNode,ur=!1;break e;case 3:gt=V.stateNode.containerInfo,ur=!0;break e;case 4:gt=V.stateNode.containerInfo,ur=!0;break e}V=V.return}if(gt===null)throw Error(n(160));Xm(R,O,S),gt=null,ur=!1;var X=S.alternate;X!==null&&(X.return=null),S.return=null}catch(ne){rt(S,i,ne)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Qm(i,t),i=i.sibling}function Qm(t,i){var l=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(i,t),Nr(t),g&4){try{fs(3,t,t.return),Uo(3,t)}catch(_e){rt(t,t.return,_e)}try{fs(5,t,t.return)}catch(_e){rt(t,t.return,_e)}}break;case 1:dr(i,t),Nr(t),g&512&&l!==null&&ci(l,l.return);break;case 5:if(dr(i,t),Nr(t),g&512&&l!==null&&ci(l,l.return),t.flags&32){var S=t.stateNode;try{Ae(S,"")}catch(_e){rt(t,t.return,_e)}}if(g&4&&(S=t.stateNode,S!=null)){var R=t.memoizedProps,O=l!==null?l.memoizedProps:R,V=t.type,X=t.updateQueue;if(t.updateQueue=null,X!==null)try{V==="input"&&R.type==="radio"&&R.name!=null&&qt(S,R),wr(V,O);var ne=wr(V,R);for(O=0;O<X.length;O+=2){var ce=X[O],ue=X[O+1];ce==="style"?Ur(S,ue):ce==="dangerouslySetInnerHTML"?De(S,ue):ce==="children"?Ae(S,ue):y(S,ce,ue,ne)}switch(V){case"input":Re(S,R);break;case"textarea":br(S,R);break;case"select":var le=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!R.multiple;var ve=R.value;ve!=null?Yt(S,!!R.multiple,ve,!1):le!==!!R.multiple&&(R.defaultValue!=null?Yt(S,!!R.multiple,R.defaultValue,!0):Yt(S,!!R.multiple,R.multiple?[]:"",!1))}S[rs]=R}catch(_e){rt(t,t.return,_e)}}break;case 6:if(dr(i,t),Nr(t),g&4){if(t.stateNode===null)throw Error(n(162));S=t.stateNode,R=t.memoizedProps;try{S.nodeValue=R}catch(_e){rt(t,t.return,_e)}}break;case 3:if(dr(i,t),Nr(t),g&4&&l!==null&&l.memoizedState.isDehydrated)try{Vi(i.containerInfo)}catch(_e){rt(t,t.return,_e)}break;case 4:dr(i,t),Nr(t);break;case 13:dr(i,t),Nr(t),S=t.child,S.flags&8192&&(R=S.memoizedState!==null,S.stateNode.isHidden=R,!R||S.alternate!==null&&S.alternate.memoizedState!==null||(Zc=nt())),g&4&&Jm(t);break;case 22:if(ce=l!==null&&l.memoizedState!==null,t.mode&1?(St=(ne=St)||ce,dr(i,t),St=ne):dr(i,t),Nr(t),g&8192){if(ne=t.memoizedState!==null,(t.stateNode.isHidden=ne)&&!ce&&(t.mode&1)!==0)for(xe=t,ce=t.child;ce!==null;){for(ue=xe=ce;xe!==null;){switch(le=xe,ve=le.child,le.tag){case 0:case 11:case 14:case 15:fs(4,le,le.return);break;case 1:ci(le,le.return);var ye=le.stateNode;if(typeof ye.componentWillUnmount=="function"){g=le,l=le.return;try{i=g,ye.props=i.memoizedProps,ye.state=i.memoizedState,ye.componentWillUnmount()}catch(_e){rt(g,l,_e)}}break;case 5:ci(le,le.return);break;case 22:if(le.memoizedState!==null){tg(ue);continue}}ve!==null?(ve.return=le,xe=ve):tg(ue)}ce=ce.sibling}e:for(ce=null,ue=t;;){if(ue.tag===5){if(ce===null){ce=ue;try{S=ue.stateNode,ne?(R=S.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(V=ue.stateNode,X=ue.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null,V.style.display=Tt("display",O))}catch(_e){rt(t,t.return,_e)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=ne?"":ue.memoizedProps}catch(_e){rt(t,t.return,_e)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===t)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===t)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===t)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:dr(i,t),Nr(t),g&4&&Jm(t);break;case 21:break;default:dr(i,t),Nr(t)}}function Nr(t){var i=t.flags;if(i&2){try{e:{for(var l=t.return;l!==null;){if(Gm(l)){var g=l;break e}l=l.return}throw Error(n(160))}switch(g.tag){case 5:var S=g.stateNode;g.flags&32&&(Ae(S,""),g.flags&=-33);var R=Ym(t);Xc(t,R,S);break;case 3:case 4:var O=g.stateNode.containerInfo,V=Ym(t);Yc(t,V,O);break;default:throw Error(n(161))}}catch(X){rt(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function CE(t,i,l){xe=t,Zm(t)}function Zm(t,i,l){for(var g=(t.mode&1)!==0;xe!==null;){var S=xe,R=S.child;if(S.tag===22&&g){var O=S.memoizedState!==null||$o;if(!O){var V=S.alternate,X=V!==null&&V.memoizedState!==null||St;V=$o;var ne=St;if($o=O,(St=X)&&!ne)for(xe=S;xe!==null;)O=xe,X=O.child,O.tag===22&&O.memoizedState!==null?rg(S):X!==null?(X.return=O,xe=X):rg(S);for(;R!==null;)xe=R,Zm(R),R=R.sibling;xe=S,$o=V,St=ne}eg(t)}else(S.subtreeFlags&8772)!==0&&R!==null?(R.return=S,xe=R):eg(t)}}function eg(t){for(;xe!==null;){var i=xe;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:St||Uo(5,i);break;case 1:var g=i.stateNode;if(i.flags&4&&!St)if(l===null)g.componentDidMount();else{var S=i.elementType===i.type?l.memoizedProps:cr(i.type,l.memoizedProps);g.componentDidUpdate(S,l.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var R=i.updateQueue;R!==null&&tm(i,R,g);break;case 3:var O=i.updateQueue;if(O!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}tm(i,O,l)}break;case 5:var V=i.stateNode;if(l===null&&i.flags&4){l=V;var X=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&l.focus();break;case"img":X.src&&(l.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ne=i.alternate;if(ne!==null){var ce=ne.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&Vi(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}St||i.flags&512&&Gc(i)}catch(le){rt(i,i.return,le)}}if(i===t){xe=null;break}if(l=i.sibling,l!==null){l.return=i.return,xe=l;break}xe=i.return}}function tg(t){for(;xe!==null;){var i=xe;if(i===t){xe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,xe=l;break}xe=i.return}}function rg(t){for(;xe!==null;){var i=xe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Uo(4,i)}catch(X){rt(i,l,X)}break;case 1:var g=i.stateNode;if(typeof g.componentDidMount=="function"){var S=i.return;try{g.componentDidMount()}catch(X){rt(i,S,X)}}var R=i.return;try{Gc(i)}catch(X){rt(i,R,X)}break;case 5:var O=i.return;try{Gc(i)}catch(X){rt(i,O,X)}}}catch(X){rt(i,i.return,X)}if(i===t){xe=null;break}var V=i.sibling;if(V!==null){V.return=i.return,xe=V;break}xe=i.return}}var EE=Math.ceil,Wo=E.ReactCurrentDispatcher,Jc=E.ReactCurrentOwner,er=E.ReactCurrentBatchConfig,ze=0,ht=null,at=null,vt=0,Vt=0,ui=Jr(0),ct=0,ps=null,En=0,Vo=0,Qc=0,ms=null,Pt=null,Zc=0,di=1/0,Br=null,Ko=!1,eu=null,nn=null,qo=!1,sn=null,Go=0,gs=0,tu=null,Yo=-1,Xo=0;function Nt(){return(ze&6)!==0?nt():Yo!==-1?Yo:Yo=nt()}function on(t){return(t.mode&1)===0?1:(ze&2)!==0&&vt!==0?vt&-vt:cE.transition!==null?(Xo===0&&(Xo=Yf()),Xo):(t=$e,t!==0||(t=window.event,t=t===void 0?16:ip(t.type)),t)}function hr(t,i,l,g){if(50<gs)throw gs=0,tu=null,Error(n(185));zi(t,l,g),((ze&2)===0||t!==ht)&&(t===ht&&((ze&2)===0&&(Vo|=l),ct===4&&an(t,vt)),Mt(t,g),l===1&&ze===0&&(i.mode&1)===0&&(di=nt()+500,ko&&Zr()))}function Mt(t,i){var l=t.callbackNode;cC(t,i);var g=io(t,t===ht?vt:0);if(g===0)l!==null&&Kf(l),t.callbackNode=null,t.callbackPriority=0;else if(i=g&-g,t.callbackPriority!==i){if(l!=null&&Kf(l),i===1)t.tag===0?lE(ig.bind(null,t)):Up(ig.bind(null,t)),iE(function(){(ze&6)===0&&Zr()}),l=null;else{switch(Xf(g)){case 1:l=Il;break;case 4:l=qf;break;case 16:l=eo;break;case 536870912:l=Gf;break;default:l=eo}l=hg(l,ng.bind(null,t))}t.callbackPriority=i,t.callbackNode=l}}function ng(t,i){if(Yo=-1,Xo=0,(ze&6)!==0)throw Error(n(327));var l=t.callbackNode;if(hi()&&t.callbackNode!==l)return null;var g=io(t,t===ht?vt:0);if(g===0)return null;if((g&30)!==0||(g&t.expiredLanes)!==0||i)i=Jo(t,g);else{i=g;var S=ze;ze|=2;var R=og();(ht!==t||vt!==i)&&(Br=null,di=nt()+500,jn(t,i));do try{LE();break}catch(V){sg(t,V)}while(!0);yc(),Wo.current=R,ze=S,at!==null?i=0:(ht=null,vt=0,i=ct)}if(i!==0){if(i===2&&(S=Pl(t),S!==0&&(g=S,i=ru(t,S))),i===1)throw l=ps,jn(t,0),an(t,g),Mt(t,nt()),l;if(i===6)an(t,g);else{if(S=t.current.alternate,(g&30)===0&&!NE(S)&&(i=Jo(t,g),i===2&&(R=Pl(t),R!==0&&(g=R,i=ru(t,R))),i===1))throw l=ps,jn(t,0),an(t,g),Mt(t,nt()),l;switch(t.finishedWork=S,t.finishedLanes=g,i){case 0:case 1:throw Error(n(345));case 2:Ln(t,Pt,Br);break;case 3:if(an(t,g),(g&130023424)===g&&(i=Zc+500-nt(),10<i)){if(io(t,0)!==0)break;if(S=t.suspendedLanes,(S&g)!==g){Nt(),t.pingedLanes|=t.suspendedLanes&S;break}t.timeoutHandle=lc(Ln.bind(null,t,Pt,Br),i);break}Ln(t,Pt,Br);break;case 4:if(an(t,g),(g&4194240)===g)break;for(i=t.eventTimes,S=-1;0<g;){var O=31-or(g);R=1<<O,O=i[O],O>S&&(S=O),g&=~R}if(g=S,g=nt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*EE(g/1960))-g,10<g){t.timeoutHandle=lc(Ln.bind(null,t,Pt,Br),g);break}Ln(t,Pt,Br);break;case 5:Ln(t,Pt,Br);break;default:throw Error(n(329))}}}return Mt(t,nt()),t.callbackNode===l?ng.bind(null,t):null}function ru(t,i){var l=ms;return t.current.memoizedState.isDehydrated&&(jn(t,i).flags|=256),t=Jo(t,i),t!==2&&(i=Pt,Pt=l,i!==null&&nu(i)),t}function nu(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function NE(t){for(var i=t;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var g=0;g<l.length;g++){var S=l[g],R=S.getSnapshot;S=S.value;try{if(!ar(R(),S))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function an(t,i){for(i&=~Qc,i&=~Vo,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var l=31-or(i),g=1<<l;t[l]=-1,i&=~g}}function ig(t){if((ze&6)!==0)throw Error(n(327));hi();var i=io(t,0);if((i&1)===0)return Mt(t,nt()),null;var l=Jo(t,i);if(t.tag!==0&&l===2){var g=Pl(t);g!==0&&(i=g,l=ru(t,g))}if(l===1)throw l=ps,jn(t,0),an(t,i),Mt(t,nt()),l;if(l===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Ln(t,Pt,Br),Mt(t,nt()),null}function iu(t,i){var l=ze;ze|=1;try{return t(i)}finally{ze=l,ze===0&&(di=nt()+500,ko&&Zr())}}function Nn(t){sn!==null&&sn.tag===0&&(ze&6)===0&&hi();var i=ze;ze|=1;var l=er.transition,g=$e;try{if(er.transition=null,$e=1,t)return t()}finally{$e=g,er.transition=l,ze=i,(ze&6)===0&&Zr()}}function su(){Vt=ui.current,Ye(ui)}function jn(t,i){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,nE(l)),at!==null)for(l=at.return;l!==null;){var g=l;switch(pc(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&wo();break;case 3:ai(),Ye(Dt),Ye(_t),Nc();break;case 5:Cc(g);break;case 4:ai();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:_c(g.type._context);break;case 22:case 23:su()}l=l.return}if(ht=t,at=t=ln(t.current,null),vt=Vt=i,ct=0,ps=null,Qc=Vo=En=0,Pt=ms=null,Sn!==null){for(i=0;i<Sn.length;i++)if(l=Sn[i],g=l.interleaved,g!==null){l.interleaved=null;var S=g.next,R=l.pending;if(R!==null){var O=R.next;R.next=S,g.next=O}l.pending=g}Sn=null}return t}function sg(t,i){do{var l=at;try{if(yc(),Io.current=Bo,Po){for(var g=tt.memoizedState;g!==null;){var S=g.queue;S!==null&&(S.pending=null),g=g.next}Po=!1}if(Cn=0,dt=lt=tt=null,ls=!1,cs=0,Jc.current=null,l===null||l.return===null){ct=1,ps=i,at=null;break}e:{var R=t,O=l.return,V=l,X=i;if(i=vt,V.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ne=X,ce=V,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=Rm(O);if(ve!==null){ve.flags&=-257,Tm(ve,O,V,R,i),ve.mode&1&&Lm(R,ne,i),i=ve,X=ne;var ye=i.updateQueue;if(ye===null){var _e=new Set;_e.add(X),i.updateQueue=_e}else ye.add(X);break e}else{if((i&1)===0){Lm(R,ne,i),ou();break e}X=Error(n(426))}}else if(Xe&&V.mode&1){var it=Rm(O);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Tm(it,O,V,R,i),vc(li(X,V));break e}}R=X=li(X,V),ct!==4&&(ct=2),ms===null?ms=[R]:ms.push(R),R=O;do{switch(R.tag){case 3:R.flags|=65536,i&=-i,R.lanes|=i;var te=Nm(R,X,i);em(R,te);break e;case 1:V=X;var Q=R.type,re=R.stateNode;if((R.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(nn===null||!nn.has(re)))){R.flags|=65536,i&=-i,R.lanes|=i;var he=jm(R,V,i);em(R,he);break e}}R=R.return}while(R!==null)}lg(l)}catch(be){i=be,at===l&&l!==null&&(at=l=l.return);continue}break}while(!0)}function og(){var t=Wo.current;return Wo.current=Bo,t===null?Bo:t}function ou(){(ct===0||ct===3||ct===2)&&(ct=4),ht===null||(En&268435455)===0&&(Vo&268435455)===0||an(ht,vt)}function Jo(t,i){var l=ze;ze|=2;var g=og();(ht!==t||vt!==i)&&(Br=null,jn(t,i));do try{jE();break}catch(S){sg(t,S)}while(!0);if(yc(),ze=l,Wo.current=g,at!==null)throw Error(n(261));return ht=null,vt=0,ct}function jE(){for(;at!==null;)ag(at)}function LE(){for(;at!==null&&!eC();)ag(at)}function ag(t){var i=dg(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,i===null?lg(t):at=i,Jc.current=null}function lg(t){var i=t;do{var l=i.alternate;if(t=i.return,(i.flags&32768)===0){if(l=bE(l,i,Vt),l!==null){at=l;return}}else{if(l=wE(l,i),l!==null){l.flags&=32767,at=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,at=null;return}}if(i=i.sibling,i!==null){at=i;return}at=i=t}while(i!==null);ct===0&&(ct=5)}function Ln(t,i,l){var g=$e,S=er.transition;try{er.transition=null,$e=1,RE(t,i,l,g)}finally{er.transition=S,$e=g}return null}function RE(t,i,l,g){do hi();while(sn!==null);if((ze&6)!==0)throw Error(n(327));l=t.finishedWork;var S=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var R=l.lanes|l.childLanes;if(uC(t,R),t===ht&&(at=ht=null,vt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||qo||(qo=!0,hg(eo,function(){return hi(),null})),R=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||R){R=er.transition,er.transition=null;var O=$e;$e=1;var V=ze;ze|=4,Jc.current=null,kE(t,l),Qm(l,t),XC(oc),ao=!!sc,oc=sc=null,t.current=l,CE(l),tC(),ze=V,$e=O,er.transition=R}else t.current=l;if(qo&&(qo=!1,sn=t,Go=S),R=t.pendingLanes,R===0&&(nn=null),iC(l.stateNode),Mt(t,nt()),i!==null)for(g=t.onRecoverableError,l=0;l<i.length;l++)S=i[l],g(S.value,{componentStack:S.stack,digest:S.digest});if(Ko)throw Ko=!1,t=eu,eu=null,t;return(Go&1)!==0&&t.tag!==0&&hi(),R=t.pendingLanes,(R&1)!==0?t===tu?gs++:(gs=0,tu=t):gs=0,Zr(),null}function hi(){if(sn!==null){var t=Xf(Go),i=er.transition,l=$e;try{if(er.transition=null,$e=16>t?16:t,sn===null)var g=!1;else{if(t=sn,sn=null,Go=0,(ze&6)!==0)throw Error(n(331));var S=ze;for(ze|=4,xe=t.current;xe!==null;){var R=xe,O=R.child;if((xe.flags&16)!==0){var V=R.deletions;if(V!==null){for(var X=0;X<V.length;X++){var ne=V[X];for(xe=ne;xe!==null;){var ce=xe;switch(ce.tag){case 0:case 11:case 15:fs(8,ce,R)}var ue=ce.child;if(ue!==null)ue.return=ce,xe=ue;else for(;xe!==null;){ce=xe;var le=ce.sibling,ve=ce.return;if(qm(ce),ce===ne){xe=null;break}if(le!==null){le.return=ve,xe=le;break}xe=ve}}}var ye=R.alternate;if(ye!==null){var _e=ye.child;if(_e!==null){ye.child=null;do{var it=_e.sibling;_e.sibling=null,_e=it}while(_e!==null)}}xe=R}}if((R.subtreeFlags&2064)!==0&&O!==null)O.return=R,xe=O;else e:for(;xe!==null;){if(R=xe,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:fs(9,R,R.return)}var te=R.sibling;if(te!==null){te.return=R.return,xe=te;break e}xe=R.return}}var Q=t.current;for(xe=Q;xe!==null;){O=xe;var re=O.child;if((O.subtreeFlags&2064)!==0&&re!==null)re.return=O,xe=re;else e:for(O=Q;xe!==null;){if(V=xe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Uo(9,V)}}catch(be){rt(V,V.return,be)}if(V===O){xe=null;break e}var he=V.sibling;if(he!==null){he.return=V.return,xe=he;break e}xe=V.return}}if(ze=S,Zr(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(to,t)}catch{}g=!0}return g}finally{$e=l,er.transition=i}}return!1}function cg(t,i,l){i=li(l,i),i=Nm(t,i,1),t=tn(t,i,1),i=Nt(),t!==null&&(zi(t,1,i),Mt(t,i))}function rt(t,i,l){if(t.tag===3)cg(t,t,l);else for(;i!==null;){if(i.tag===3){cg(i,t,l);break}else if(i.tag===1){var g=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(nn===null||!nn.has(g))){t=li(l,t),t=jm(i,t,1),i=tn(i,t,1),t=Nt(),i!==null&&(zi(i,1,t),Mt(i,t));break}}i=i.return}}function TE(t,i,l){var g=t.pingCache;g!==null&&g.delete(i),i=Nt(),t.pingedLanes|=t.suspendedLanes&l,ht===t&&(vt&l)===l&&(ct===4||ct===3&&(vt&130023424)===vt&&500>nt()-Zc?jn(t,0):Qc|=l),Mt(t,i)}function ug(t,i){i===0&&((t.mode&1)===0?i=1:(i=no,no<<=1,(no&130023424)===0&&(no=4194304)));var l=Nt();t=Pr(t,i),t!==null&&(zi(t,i,l),Mt(t,l))}function DE(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),ug(t,l)}function AE(t,i){var l=0;switch(t.tag){case 13:var g=t.stateNode,S=t.memoizedState;S!==null&&(l=S.retryLane);break;case 19:g=t.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(i),ug(t,l)}var dg;dg=function(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps||Dt.current)It=!0;else{if((t.lanes&l)===0&&(i.flags&128)===0)return It=!1,_E(t,i,l);It=(t.flags&131072)!==0}else It=!1,Xe&&(i.flags&1048576)!==0&&Wp(i,Eo,i.index);switch(i.lanes=0,i.tag){case 2:var g=i.type;Ho(t,i),t=i.pendingProps;var S=ei(i,_t.current);oi(i,l),S=Rc(null,i,g,t,S,l);var R=Tc();return i.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,At(g)?(R=!0,So(i)):R=!1,i.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Sc(i),S.updater=Fo,i.stateNode=S,S._reactInternals=i,Oc(i,g,t,l),i=Hc(null,i,g,!0,R,l)):(i.tag=0,Xe&&R&&fc(i),Et(null,i,S,l),i=i.child),i;case 16:g=i.elementType;e:{switch(Ho(t,i),t=i.pendingProps,S=g._init,g=S(g._payload),i.type=g,S=i.tag=PE(g),t=cr(g,t),S){case 0:i=zc(null,i,g,t,l);break e;case 1:i=Om(null,i,g,t,l);break e;case 11:i=Dm(null,i,g,t,l);break e;case 14:i=Am(null,i,g,cr(g.type,t),l);break e}throw Error(n(306,g,""))}return i;case 0:return g=i.type,S=i.pendingProps,S=i.elementType===g?S:cr(g,S),zc(t,i,g,S,l);case 1:return g=i.type,S=i.pendingProps,S=i.elementType===g?S:cr(g,S),Om(t,i,g,S,l);case 3:e:{if(Bm(i),t===null)throw Error(n(387));g=i.pendingProps,R=i.memoizedState,S=R.element,Zp(t,i),Do(i,g,null,l);var O=i.memoizedState;if(g=O.element,R.isDehydrated)if(R={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},i.updateQueue.baseState=R,i.memoizedState=R,i.flags&256){S=li(Error(n(423)),i),i=Fm(t,i,g,l,S);break e}else if(g!==S){S=li(Error(n(424)),i),i=Fm(t,i,g,l,S);break e}else for(Wt=Xr(i.stateNode.containerInfo.firstChild),Ut=i,Xe=!0,lr=null,l=Jp(i,null,g,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ni(),g===S){i=Or(t,i,l);break e}Et(t,i,g,l)}i=i.child}return i;case 5:return rm(i),t===null&&gc(i),g=i.type,S=i.pendingProps,R=t!==null?t.memoizedProps:null,O=S.children,ac(g,S)?O=null:R!==null&&ac(g,R)&&(i.flags|=32),Mm(t,i),Et(t,i,O,l),i.child;case 6:return t===null&&gc(i),null;case 13:return zm(t,i,l);case 4:return kc(i,i.stateNode.containerInfo),g=i.pendingProps,t===null?i.child=ii(i,null,g,l):Et(t,i,g,l),i.child;case 11:return g=i.type,S=i.pendingProps,S=i.elementType===g?S:cr(g,S),Dm(t,i,g,S,l);case 7:return Et(t,i,i.pendingProps,l),i.child;case 8:return Et(t,i,i.pendingProps.children,l),i.child;case 12:return Et(t,i,i.pendingProps.children,l),i.child;case 10:e:{if(g=i.type._context,S=i.pendingProps,R=i.memoizedProps,O=S.value,qe(Lo,g._currentValue),g._currentValue=O,R!==null)if(ar(R.value,O)){if(R.children===S.children&&!Dt.current){i=Or(t,i,l);break e}}else for(R=i.child,R!==null&&(R.return=i);R!==null;){var V=R.dependencies;if(V!==null){O=R.child;for(var X=V.firstContext;X!==null;){if(X.context===g){if(R.tag===1){X=Mr(-1,l&-l),X.tag=2;var ne=R.updateQueue;if(ne!==null){ne=ne.shared;var ce=ne.pending;ce===null?X.next=X:(X.next=ce.next,ce.next=X),ne.pending=X}}R.lanes|=l,X=R.alternate,X!==null&&(X.lanes|=l),bc(R.return,l,i),V.lanes|=l;break}X=X.next}}else if(R.tag===10)O=R.type===i.type?null:R.child;else if(R.tag===18){if(O=R.return,O===null)throw Error(n(341));O.lanes|=l,V=O.alternate,V!==null&&(V.lanes|=l),bc(O,l,i),O=R.sibling}else O=R.child;if(O!==null)O.return=R;else for(O=R;O!==null;){if(O===i){O=null;break}if(R=O.sibling,R!==null){R.return=O.return,O=R;break}O=O.return}R=O}Et(t,i,S.children,l),i=i.child}return i;case 9:return S=i.type,g=i.pendingProps.children,oi(i,l),S=Qt(S),g=g(S),i.flags|=1,Et(t,i,g,l),i.child;case 14:return g=i.type,S=cr(g,i.pendingProps),S=cr(g.type,S),Am(t,i,g,S,l);case 15:return Im(t,i,i.type,i.pendingProps,l);case 17:return g=i.type,S=i.pendingProps,S=i.elementType===g?S:cr(g,S),Ho(t,i),i.tag=1,At(g)?(t=!0,So(i)):t=!1,oi(i,l),Cm(i,g,S),Oc(i,g,S,l),Hc(null,i,g,!0,t,l);case 19:return $m(t,i,l);case 22:return Pm(t,i,l)}throw Error(n(156,i.tag))};function hg(t,i){return Vf(t,i)}function IE(t,i,l,g){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,i,l,g){return new IE(t,i,l,g)}function au(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PE(t){if(typeof t=="function")return au(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F)return 11;if(t===q)return 14}return 2}function ln(t,i){var l=t.alternate;return l===null?(l=tr(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function Qo(t,i,l,g,S,R){var O=2;if(g=t,typeof t=="function")au(t)&&(O=1);else if(typeof t=="string")O=5;else e:switch(t){case D:return Rn(l.children,S,R,i);case L:O=8,S|=8;break;case A:return t=tr(12,l,i,S|2),t.elementType=A,t.lanes=R,t;case $:return t=tr(13,l,i,S),t.elementType=$,t.lanes=R,t;case W:return t=tr(19,l,i,S),t.elementType=W,t.lanes=R,t;case G:return Zo(l,S,R,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:O=10;break e;case U:O=9;break e;case F:O=11;break e;case q:O=14;break e;case ee:O=16,g=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=tr(O,l,i,S),i.elementType=t,i.type=g,i.lanes=R,i}function Rn(t,i,l,g){return t=tr(7,t,g,i),t.lanes=l,t}function Zo(t,i,l,g){return t=tr(22,t,g,i),t.elementType=G,t.lanes=l,t.stateNode={isHidden:!1},t}function lu(t,i,l){return t=tr(6,t,null,i),t.lanes=l,t}function cu(t,i,l){return i=tr(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function ME(t,i,l,g,S){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=g,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function uu(t,i,l,g,S,R,O,V,X){return t=new ME(t,i,l,V,X),i===1?(i=1,R===!0&&(i|=8)):i=0,R=tr(3,null,null,i),t.current=R,R.stateNode=t,R.memoizedState={element:g,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(R),t}function OE(t,i,l){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:g==null?null:""+g,children:t,containerInfo:i,implementation:l}}function fg(t){if(!t)return Qr;t=t._reactInternals;e:{if(xn(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(At(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var l=t.type;if(At(l))return Hp(t,l,i)}return i}function pg(t,i,l,g,S,R,O,V,X){return t=uu(l,g,!0,t,S,R,O,V,X),t.context=fg(null),l=t.current,g=Nt(),S=on(l),R=Mr(g,S),R.callback=i??null,tn(l,R,S),t.current.lanes=S,zi(t,S,g),Mt(t,g),t}function ea(t,i,l,g){var S=i.current,R=Nt(),O=on(S);return l=fg(l),i.context===null?i.context=l:i.pendingContext=l,i=Mr(R,O),i.payload={element:t},g=g===void 0?null:g,g!==null&&(i.callback=g),t=tn(S,i,O),t!==null&&(hr(t,S,O,R),To(t,S,O)),O}function ta(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mg(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function du(t,i){mg(t,i),(t=t.alternate)&&mg(t,i)}function BE(){return null}var gg=typeof reportError=="function"?reportError:function(t){console.error(t)};function hu(t){this._internalRoot=t}ra.prototype.render=hu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));ea(t,i,null,null)},ra.prototype.unmount=hu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Nn(function(){ea(null,t,null,null)}),i[Tr]=null}};function ra(t){this._internalRoot=t}ra.prototype.unstable_scheduleHydration=function(t){if(t){var i=Zf();t={blockedOn:null,target:t,priority:i};for(var l=0;l<qr.length&&i!==0&&i<qr[l].priority;l++);qr.splice(l,0,t),l===0&&rp(t)}};function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vg(){}function FE(t,i,l,g,S){if(S){if(typeof g=="function"){var R=g;g=function(){var ne=ta(O);R.call(ne)}}var O=pg(i,g,t,0,null,!1,!1,"",vg);return t._reactRootContainer=O,t[Tr]=O.current,es(t.nodeType===8?t.parentNode:t),Nn(),O}for(;S=t.lastChild;)t.removeChild(S);if(typeof g=="function"){var V=g;g=function(){var ne=ta(X);V.call(ne)}}var X=uu(t,0,!1,null,null,!1,!1,"",vg);return t._reactRootContainer=X,t[Tr]=X.current,es(t.nodeType===8?t.parentNode:t),Nn(function(){ea(i,X,l,g)}),X}function ia(t,i,l,g,S){var R=l._reactRootContainer;if(R){var O=R;if(typeof S=="function"){var V=S;S=function(){var X=ta(O);V.call(X)}}ea(i,O,t,S)}else O=FE(l,i,t,S,g);return ta(O)}Jf=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var l=Fi(i.pendingLanes);l!==0&&(Ol(i,l|1),Mt(i,nt()),(ze&6)===0&&(di=nt()+500,Zr()))}break;case 13:Nn(function(){var g=Pr(t,1);if(g!==null){var S=Nt();hr(g,t,1,S)}}),du(t,1)}},Bl=function(t){if(t.tag===13){var i=Pr(t,134217728);if(i!==null){var l=Nt();hr(i,t,134217728,l)}du(t,134217728)}},Qf=function(t){if(t.tag===13){var i=on(t),l=Pr(t,i);if(l!==null){var g=Nt();hr(l,t,i,g)}du(t,i)}},Zf=function(){return $e},ep=function(t,i){var l=$e;try{return $e=t,i()}finally{$e=l}},Rl=function(t,i,l){switch(i){case"input":if(Re(t,l),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var g=l[i];if(g!==t&&g.form===t.form){var S=bo(g);if(!S)throw Error(n(90));me(g),Re(g,S)}}}break;case"textarea":br(t,l);break;case"select":i=l.value,i!=null&&Yt(t,!!l.multiple,i,!1)}},Bf=iu,Ff=Nn;var zE={usingClientEntryPoint:!1,Events:[ns,Qn,bo,Mf,Of,iu]},vs={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HE={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uf(t),t===null?null:t.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||BE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{to=sa.inject(HE),Sr=sa}catch{}}return jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE,jt.createPortal=function(t,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fu(i))throw Error(n(200));return OE(t,i,null,l)},jt.createRoot=function(t,i){if(!fu(t))throw Error(n(299));var l=!1,g="",S=gg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=uu(t,1,!1,null,null,l,!1,g,S),t[Tr]=i.current,es(t.nodeType===8?t.parentNode:t),new hu(i)},jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Uf(i),t=t===null?null:t.stateNode,t},jt.flushSync=function(t){return Nn(t)},jt.hydrate=function(t,i,l){if(!na(i))throw Error(n(200));return ia(null,t,i,!0,l)},jt.hydrateRoot=function(t,i,l){if(!fu(t))throw Error(n(405));var g=l!=null&&l.hydratedSources||null,S=!1,R="",O=gg;if(l!=null&&(l.unstable_strictMode===!0&&(S=!0),l.identifierPrefix!==void 0&&(R=l.identifierPrefix),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),i=pg(i,null,t,1,l??null,S,!1,R,O),t[Tr]=i.current,es(t),g)for(t=0;t<g.length;t++)l=g[t],S=l._getVersion,S=S(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,S]:i.mutableSourceEagerHydrationData.push(l,S);return new ra(i)},jt.render=function(t,i,l){if(!na(i))throw Error(n(200));return ia(null,t,i,!1,l)},jt.unmountComponentAtNode=function(t){if(!na(t))throw Error(n(40));return t._reactRootContainer?(Nn(function(){ia(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1},jt.unstable_batchedUpdates=iu,jt.unstable_renderSubtreeIntoContainer=function(t,i,l,g){if(!na(l))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return ia(t,i,l,!1,g)},jt.version="18.3.1-next-f1338f8080-20240426",jt}var bu;function wu(){if(bu)return aa.exports;bu=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),aa.exports=kg(),aa.exports}var Su;function Cg(){if(Su)return _s;Su=1;var e=wu();return _s.createRoot=e.createRoot,_s.hydrateRoot=e.hydrateRoot,_s}var Eg=Cg();const je=e=>typeof e=="string",pi=()=>{let e,r;const n=new Promise((s,a)=>{e=s,r=a});return n.resolve=e,n.reject=r,n},ku=e=>e==null?"":""+e,Ng=(e,r,n)=>{e.forEach(s=>{r[s]&&(n[s]=r[s])})},jg=/###/g,Cu=e=>e&&e.indexOf("###")>-1?e.replace(jg,"."):e,Eu=e=>!e||je(e),mi=(e,r,n)=>{const s=je(r)?r.split("."):r;let a=0;for(;a<s.length-1;){if(Eu(e))return{};const h=Cu(s[a]);!e[h]&&n&&(e[h]=new n),Object.prototype.hasOwnProperty.call(e,h)?e=e[h]:e={},++a}return Eu(e)?{}:{obj:e,k:Cu(s[a])}},Nu=(e,r,n)=>{const{obj:s,k:a}=mi(e,r,Object);if(s!==void 0||r.length===1){s[a]=n;return}let h=r[r.length-1],f=r.slice(0,r.length-1),o=mi(e,f,Object);for(;o.obj===void 0&&f.length;)h=`${f[f.length-1]}.${h}`,f=f.slice(0,f.length-1),o=mi(e,f,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${h}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${h}`]=n},Lg=(e,r,n,s)=>{const{obj:a,k:h}=mi(e,r,Object);a[h]=a[h]||[],a[h].push(n)},bs=(e,r)=>{const{obj:n,k:s}=mi(e,r);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},Rg=(e,r,n)=>{const s=bs(e,n);return s!==void 0?s:bs(r,n)},ju=(e,r,n)=>{for(const s in r)s!=="__proto__"&&s!=="constructor"&&(s in e?je(e[s])||e[s]instanceof String||je(r[s])||r[s]instanceof String?n&&(e[s]=r[s]):ju(e[s],r[s],n):e[s]=r[s]);return e},Tn=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Tg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Dg=e=>je(e)?e.replace(/[&<>"'\/]/g,r=>Tg[r]):e;class Ag{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const n=this.regExpMap.get(r);if(n!==void 0)return n;const s=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,s),this.regExpQueue.push(r),s}}const Ig=[" ",",","?","!",";"],Pg=new Ag(20),Mg=(e,r,n)=>{r=r||"",n=n||"";const s=Ig.filter(f=>r.indexOf(f)<0&&n.indexOf(f)<0);if(s.length===0)return!0;const a=Pg.getRegExp(`(${s.map(f=>f==="?"?"\\?":f).join("|")})`);let h=!a.test(e);if(!h){const f=e.indexOf(n);f>0&&!a.test(e.substring(0,f))&&(h=!0)}return h},ua=(e,r,n=".")=>{if(!e)return;if(e[r])return Object.prototype.hasOwnProperty.call(e,r)?e[r]:void 0;const s=r.split(n);let a=e;for(let h=0;h<s.length;){if(!a||typeof a!="object")return;let f,o="";for(let u=h;u<s.length;++u)if(u!==h&&(o+=n),o+=s[u],f=a[o],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&u<s.length-1)continue;h+=u-h+1;break}a=f}return a},gi=e=>e==null?void 0:e.replace("_","-"),Og={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,r){var n,s;(s=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||s.call(n,console,r)}};class ws{constructor(r,n={}){this.init(r,n)}init(r,n={}){this.prefix=n.prefix||"i18next:",this.logger=r||Og,this.options=n,this.debug=n.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,n,s,a){return a&&!this.debug?null:(je(r[0])&&(r[0]=`${s}${this.prefix} ${r[0]}`),this.logger[n](r))}create(r){return new ws(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new ws(this.logger,r)}}var pr=new ws;class Ss{constructor(){this.observers={}}on(r,n){return r.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(n)||0;this.observers[s].set(n,a+1)}),this}off(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r].delete(n)}}emit(r,...n){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([a,h])=>{for(let f=0;f<h;f++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,h])=>{for(let f=0;f<h;f++)a.apply(a,[r,...n])})}}class Lu extends Ss{constructor(r,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const n=this.options.ns.indexOf(r);n>-1&&this.options.ns.splice(n,1)}getResource(r,n,s,a={}){var p,v;const h=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,f=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;r.indexOf(".")>-1?o=r.split("."):(o=[r,n],s&&(Array.isArray(s)?o.push(...s):je(s)&&h?o.push(...s.split(h)):o.push(s)));const u=bs(this.data,o);return!u&&!n&&!s&&r.indexOf(".")>-1&&(r=o[0],n=o[1],s=o.slice(2).join(".")),u||!f||!je(s)?u:ua((v=(p=this.data)==null?void 0:p[r])==null?void 0:v[n],s,h)}addResource(r,n,s,a,h={silent:!1}){const f=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator;let o=[r,n];s&&(o=o.concat(f?s.split(f):s)),r.indexOf(".")>-1&&(o=r.split("."),a=n,n=o[1]),this.addNamespaces(n),Nu(this.data,o,a),h.silent||this.emit("added",r,n,s,a)}addResources(r,n,s,a={silent:!1}){for(const h in s)(je(s[h])||Array.isArray(s[h]))&&this.addResource(r,n,h,s[h],{silent:!0});a.silent||this.emit("added",r,n,s)}addResourceBundle(r,n,s,a,h,f={silent:!1,skipCopy:!1}){let o=[r,n];r.indexOf(".")>-1&&(o=r.split("."),a=s,s=n,n=o[1]),this.addNamespaces(n);let u=bs(this.data,o)||{};f.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?ju(u,s,h):u={...u,...s},Nu(this.data,o,u),f.silent||this.emit("added",r,n,s)}removeResourceBundle(r,n){this.hasResourceBundle(r,n)&&delete this.data[r][n],this.removeNamespaces(n),this.emit("removed",r,n)}hasResourceBundle(r,n){return this.getResource(r,n)!==void 0}getResourceBundle(r,n){return n||(n=this.options.defaultNS),this.getResource(r,n)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const n=this.getDataByLanguage(r);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var Ru={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,r,n,s,a){return e.forEach(h=>{var f;r=((f=this.processors[h])==null?void 0:f.process(r,n,s,a))??r}),r}};const Tu=Symbol("i18next/PATH_KEY");function Bg(){const e=[],r=Object.create(null);let n;return r.get=(s,a)=>{var h;return(h=n==null?void 0:n.revoke)==null||h.call(n),a===Tu?e:(e.push(a),n=Proxy.revocable(s,r),n.proxy)},Proxy.revocable(Object.create(null),r).proxy}function da(e,r){const{[Tu]:n}=e(Bg());return n.join((r==null?void 0:r.keySeparator)??".")}const Du={},ha=e=>!je(e)&&typeof e!="boolean"&&typeof e!="number";class ks extends Ss{constructor(r,n={}){super(),Ng(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pr.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,n={interpolation:{}}){const s={...n};if(r==null)return!1;const a=this.resolve(r,s);if((a==null?void 0:a.res)===void 0)return!1;const h=ha(a.res);return!(s.returnObjects===!1&&h)}extractFromKey(r,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let h=n.ns||this.options.defaultNS||[];const f=s&&r.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Mg(r,s,a);if(f&&!o){const u=r.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:r,namespaces:je(h)?[h]:h};const p=r.split(s);(s!==a||s===a&&this.options.ns.indexOf(p[0])>-1)&&(h=p.shift()),r=p.join(a)}return{key:r,namespaces:je(h)?[h]:h}}translate(r,n,s){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),r==null)return"";typeof r=="function"&&(r=da(r,{...this.options,...a})),Array.isArray(r)||(r=[String(r)]);const h=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,f=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(r[r.length-1],a),p=u[u.length-1];let v=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const d=a.lng||this.language,b=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return b?h?{res:`${p}${v}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:p,usedParams:this.getUsedParamsDetails(a)}:`${p}${v}${o}`:h?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:p,usedParams:this.getUsedParamsDetails(a)}:o;const w=this.resolve(r,a);let k=w==null?void 0:w.res;const C=(w==null?void 0:w.usedKey)||o,m=(w==null?void 0:w.exactUsedKey)||o,x=["[object Number]","[object Function]","[object RegExp]"],_=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,E=a.count!==void 0&&!je(a.count),j=ks.hasDefaultValue(a),N=E?this.pluralResolver.getSuffix(d,a.count,a):"",D=a.ordinal&&E?this.pluralResolver.getSuffix(d,a.count,{ordinal:!1}):"",L=E&&!a.ordinal&&a.count===0,A=L&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${N}`]||a[`defaultValue${D}`]||a.defaultValue;let P=k;y&&!k&&j&&(P=A);const U=ha(P),F=Object.prototype.toString.apply(P);if(y&&P&&U&&x.indexOf(F)<0&&!(je(_)&&Array.isArray(P))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,P,{...a,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return h?(w.res=$,w.usedParams=this.getUsedParamsDetails(a),w):$}if(f){const $=Array.isArray(P),W=$?[]:{},q=$?m:C;for(const ee in P)if(Object.prototype.hasOwnProperty.call(P,ee)){const G=`${q}${f}${ee}`;j&&!k?W[ee]=this.translate(G,{...a,defaultValue:ha(A)?A[ee]:void 0,joinArrays:!1,ns:u}):W[ee]=this.translate(G,{...a,joinArrays:!1,ns:u}),W[ee]===G&&(W[ee]=P[ee])}k=W}}else if(y&&je(_)&&Array.isArray(k))k=k.join(_),k&&(k=this.extendTranslation(k,r,a,s));else{let $=!1,W=!1;!this.isValidLookup(k)&&j&&($=!0,k=A),this.isValidLookup(k)||(W=!0,k=o);const ee=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:k,G=j&&A!==k&&this.options.updateMissing;if(W||$||G){if(this.logger.log(G?"updateKey":"missingKey",d,p,o,G?A:k),f){const M=this.resolve(o,{...a,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&H&&H[0])for(let M=0;M<H.length;M++)I.push(H[M]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(a.lng||this.language):I.push(a.lng||this.language);const T=(M,K,z)=>{var ae;const oe=j&&z!==k?z:ee;this.options.missingKeyHandler?this.options.missingKeyHandler(M,p,K,oe,G,a):(ae=this.backendConnector)!=null&&ae.saveMissing&&this.backendConnector.saveMissing(M,p,K,oe,G,a),this.emit("missingKey",M,p,K,k)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?I.forEach(M=>{const K=this.pluralResolver.getSuffixes(M,a);L&&a[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(z=>{T([M],o+z,a[`defaultValue${z}`]||A)})}):T(I,o,A))}k=this.extendTranslation(k,r,a,w,s),W&&k===o&&this.options.appendNamespaceToMissingKey&&(k=`${p}${v}${o}`),(W||$)&&this.options.parseMissingKeyHandler&&(k=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${v}${o}`:o,$?k:void 0,a))}return h?(w.res=k,w.usedParams=this.getUsedParamsDetails(a),w):k}extendTranslation(r,n,s,a,h){var u,p;if((u=this.i18nFormat)!=null&&u.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const v=je(r)&&(((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(v){const w=r.match(this.interpolator.nestingRegexp);d=w&&w.length}let b=s.replace&&!je(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),r=this.interpolator.interpolate(r,b,s.lng||this.language||a.usedLng,s),v){const w=r.match(this.interpolator.nestingRegexp),k=w&&w.length;d<k&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(r=this.interpolator.nest(r,(...w)=>(h==null?void 0:h[0])===w[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${n[0]}`),null):this.translate(...w,n),s)),s.interpolation&&this.interpolator.reset()}const f=s.postProcess||this.options.postProcess,o=je(f)?[f]:f;return r!=null&&(o!=null&&o.length)&&s.applyPostProcessor!==!1&&(r=Ru.handle(o,r,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),r}resolve(r,n={}){let s,a,h,f,o;return je(r)&&(r=[r]),r.forEach(u=>{if(this.isValidLookup(s))return;const p=this.extractFromKey(u,n),v=p.key;a=v;let d=p.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const b=n.count!==void 0&&!je(n.count),w=b&&!n.ordinal&&n.count===0,k=n.context!==void 0&&(je(n.context)||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(m=>{var x,_;this.isValidLookup(s)||(o=m,!Du[`${C[0]}-${m}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((_=this.utils)!=null&&_.hasLoadedNamespace(o))&&(Du[`${C[0]}-${m}`]=!0,this.logger.warn(`key "${a}" for languages "${C.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(y=>{var N;if(this.isValidLookup(s))return;f=y;const E=[v];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(E,v,y,m,n);else{let D;b&&(D=this.pluralResolver.getSuffix(y,n.count,n));const L=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(n.ordinal&&D.indexOf(A)===0&&E.push(v+D.replace(A,this.options.pluralSeparator)),E.push(v+D),w&&E.push(v+L)),k){const P=`${v}${this.options.contextSeparator||"_"}${n.context}`;E.push(P),b&&(n.ordinal&&D.indexOf(A)===0&&E.push(P+D.replace(A,this.options.pluralSeparator)),E.push(P+D),w&&E.push(P+L))}}let j;for(;j=E.pop();)this.isValidLookup(s)||(h=j,s=this.getResource(y,m,j,n))}))})}),{res:s,usedKey:a,exactUsedKey:h,usedLng:f,usedNS:o}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,n,s,a={}){var h;return(h=this.i18nFormat)!=null&&h.getResource?this.i18nFormat.getResource(r,n,s,a):this.resourceStore.getResource(r,n,s,a)}getUsedParamsDetails(r={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=r.replace&&!je(r.replace);let a=s?r.replace:r;if(s&&typeof r.count<"u"&&(a.count=r.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const h of n)delete a[h]}return a}static hasDefaultValue(r){const n="defaultValue";for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&n===s.substring(0,n.length)&&r[s]!==void 0)return!0;return!1}}class Au{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pr.create("languageUtils")}getScriptPartFromCode(r){if(r=gi(r),!r||r.indexOf("-")<0)return null;const n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(r){if(r=gi(r),!r||r.indexOf("-")<0)return r;const n=r.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(r){if(je(r)&&r.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(r)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let n;return r.forEach(s=>{if(n)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&r.forEach(s=>{if(n)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return n=a;const h=this.getLanguagePartFromCode(s);if(this.isSupportedCode(h))return n=h;n=this.options.supportedLngs.find(f=>{if(f===h)return f;if(!(f.indexOf("-")<0&&h.indexOf("-")<0)&&(f.indexOf("-")>0&&h.indexOf("-")<0&&f.substring(0,f.indexOf("-"))===h||f.indexOf(h)===0&&h.length>1))return f})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),je(r)&&(r=[r]),Array.isArray(r))return r;if(!n)return r.default||[];let s=r[n];return s||(s=r[this.getScriptPartFromCode(n)]),s||(s=r[this.formatLanguageCode(n)]),s||(s=r[this.getLanguagePartFromCode(n)]),s||(s=r.default),s||[]}toResolveHierarchy(r,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],r),a=[],h=f=>{f&&(this.isSupportedCode(f)?a.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return je(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&h(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&h(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&h(this.getLanguagePartFromCode(r))):je(r)&&h(this.formatLanguageCode(r)),s.forEach(f=>{a.indexOf(f)<0&&h(this.formatLanguageCode(f))}),a}}const Iu={zero:0,one:1,two:2,few:3,many:4,other:5},Pu={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Fg{constructor(r,n={}){this.languageUtils=r,this.options=n,this.logger=pr.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,n){this.rules[r]=n}clearCache(){this.pluralRulesCache={}}getRule(r,n={}){const s=gi(r==="dev"?"en":r),a=n.ordinal?"ordinal":"cardinal",h=JSON.stringify({cleanedCode:s,type:a});if(h in this.pluralRulesCache)return this.pluralRulesCache[h];let f;try{f=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Pu;if(!r.match(/-|_/))return Pu;const u=this.languageUtils.getLanguagePartFromCode(r);f=this.getRule(u,n)}return this.pluralRulesCache[h]=f,f}needsPlural(r,n={}){let s=this.getRule(r,n);return s||(s=this.getRule("dev",n)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,n,s={}){return this.getSuffixes(r,s).map(a=>`${n}${a}`)}getSuffixes(r,n={}){let s=this.getRule(r,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((a,h)=>Iu[a]-Iu[h]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(r,n,s={}){const a=this.getRule(r,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",n,s))}}const Mu=(e,r,n,s=".",a=!0)=>{let h=Rg(e,r,n);return!h&&a&&je(n)&&(h=ua(e,n,s),h===void 0&&(h=ua(r,n,s))),h},fa=e=>e.replace(/\$/g,"$$$$");class Ou{constructor(r={}){var n;this.logger=pr.create("interpolator"),this.options=r,this.format=((n=r==null?void 0:r.interpolation)==null?void 0:n.format)||(s=>s),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:a,prefix:h,prefixEscaped:f,suffix:o,suffixEscaped:u,formatSeparator:p,unescapeSuffix:v,unescapePrefix:d,nestingPrefix:b,nestingPrefixEscaped:w,nestingSuffix:k,nestingSuffixEscaped:C,nestingOptionsSeparator:m,maxReplaces:x,alwaysFormat:_}=r.interpolation;this.escape=n!==void 0?n:Dg,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=h?Tn(h):f||"{{",this.suffix=o?Tn(o):u||"}}",this.formatSeparator=p||",",this.unescapePrefix=v?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=b?Tn(b):w||Tn("$t("),this.nestingSuffix=k?Tn(k):C||Tn(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=x||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(n,s)=>(n==null?void 0:n.source)===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,n,s,a){var w;let h,f,o;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=k=>{if(k.indexOf(this.formatSeparator)<0){const _=Mu(n,u,k,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,s,{...a,...n,interpolationkey:k}):_}const C=k.split(this.formatSeparator),m=C.shift().trim(),x=C.join(this.formatSeparator).trim();return this.format(Mu(n,u,m,this.options.keySeparator,this.options.ignoreJSONStructure),x,s,{...a,...n,interpolationkey:m})};this.resetRegExp();const v=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((w=a==null?void 0:a.interpolation)==null?void 0:w.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:k=>fa(k)},{regex:this.regexp,safeValue:k=>this.escapeValue?fa(this.escape(k)):fa(k)}].forEach(k=>{for(o=0;h=k.regex.exec(r);){const C=h[1].trim();if(f=p(C),f===void 0)if(typeof v=="function"){const x=v(r,h,a);f=je(x)?x:""}else if(a&&Object.prototype.hasOwnProperty.call(a,C))f="";else if(d){f=h[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${r}`),f="";else!je(f)&&!this.useRawValueToEscape&&(f=ku(f));const m=k.safeValue(f);if(r=r.replace(h[0],m),d?(k.regex.lastIndex+=f.length,k.regex.lastIndex-=h[0].length):k.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),r}nest(r,n,s={}){let a,h,f;const o=(u,p)=>{const v=this.nestingOptionsSeparator;if(u.indexOf(v)<0)return u;const d=u.split(new RegExp(`${v}[ ]*{`));let b=`{${d[1]}`;u=d[0],b=this.interpolate(b,f);const w=b.match(/'/g),k=b.match(/"/g);(((w==null?void 0:w.length)??0)%2===0&&!k||k.length%2!==0)&&(b=b.replace(/'/g,'"'));try{f=JSON.parse(b),p&&(f={...p,...f})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,C),`${u}${v}${b}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,u};for(;a=this.nestingRegexp.exec(r);){let u=[];f={...s},f=f.replace&&!je(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;const p=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(p!==-1&&(u=a[1].slice(p).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),a[1]=a[1].slice(0,p)),h=n(o.call(this,a[1].trim(),f),f),h&&a[0]===r&&!je(h))return h;je(h)||(h=ku(h)),h||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${r}`),h=""),u.length&&(h=u.reduce((v,d)=>this.format(v,d,s.lng,{...s,interpolationkey:a[1].trim()}),h.trim())),r=r.replace(a[0],h),this.regexp.lastIndex=0}return r}}const zg=e=>{let r=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");r=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);r==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):r==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(f=>{if(f){const[o,...u]=f.split(":"),p=u.join(":").trim().replace(/^'+|'+$/g,""),v=o.trim();n[v]||(n[v]=p),p==="false"&&(n[v]=!1),p==="true"&&(n[v]=!0),isNaN(p)||(n[v]=parseInt(p,10))}})}return{formatName:r,formatOptions:n}},Bu=e=>{const r={};return(n,s,a)=>{let h=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(h={...h,[a.interpolationkey]:void 0});const f=s+JSON.stringify(h);let o=r[f];return o||(o=e(gi(s),a),r[f]=o),o(n)}},Hg=e=>(r,n,s)=>e(gi(n),s)(r);class $g{constructor(r={}){this.logger=pr.create("formatter"),this.options=r,this.init(r)}init(r,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?Bu:Hg;this.formats={number:s((a,h)=>{const f=new Intl.NumberFormat(a,{...h});return o=>f.format(o)}),currency:s((a,h)=>{const f=new Intl.NumberFormat(a,{...h,style:"currency"});return o=>f.format(o)}),datetime:s((a,h)=>{const f=new Intl.DateTimeFormat(a,{...h});return o=>f.format(o)}),relativetime:s((a,h)=>{const f=new Intl.RelativeTimeFormat(a,{...h});return o=>f.format(o,h.range||"day")}),list:s((a,h)=>{const f=new Intl.ListFormat(a,{...h});return o=>f.format(o)})}}add(r,n){this.formats[r.toLowerCase().trim()]=n}addCached(r,n){this.formats[r.toLowerCase().trim()]=Bu(n)}format(r,n,s,a={}){const h=n.split(this.formatSeparator);if(h.length>1&&h[0].indexOf("(")>1&&h[0].indexOf(")")<0&&h.find(o=>o.indexOf(")")>-1)){const o=h.findIndex(u=>u.indexOf(")")>-1);h[0]=[h[0],...h.splice(1,o)].join(this.formatSeparator)}return h.reduce((o,u)=>{var d;const{formatName:p,formatOptions:v}=zg(u);if(this.formats[p]){let b=o;try{const w=((d=a==null?void 0:a.formatParams)==null?void 0:d[a.interpolationkey])||{},k=w.locale||w.lng||a.locale||a.lng||s;b=this.formats[p](o,k,{...v,...a,...w})}catch(w){this.logger.warn(w)}return b}else this.logger.warn(`there was no format function for ${p}`);return o},r)}}const Ug=(e,r)=>{e.pending[r]!==void 0&&(delete e.pending[r],e.pendingCount--)};class Wg extends Ss{constructor(r,n,s,a={}){var h,f;super(),this.backend=r,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=pr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(f=(h=this.backend)==null?void 0:h.init)==null||f.call(h,s,a.backend,a)}queueLoad(r,n,s,a){const h={},f={},o={},u={};return r.forEach(p=>{let v=!0;n.forEach(d=>{const b=`${p}|${d}`;!s.reload&&this.store.hasResourceBundle(p,d)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?f[b]===void 0&&(f[b]=!0):(this.state[b]=1,v=!1,f[b]===void 0&&(f[b]=!0),h[b]===void 0&&(h[b]=!0),u[d]===void 0&&(u[d]=!0)))}),v||(o[p]=!0)}),(Object.keys(h).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(h),pending:Object.keys(f),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}loaded(r,n,s){const a=r.split("|"),h=a[0],f=a[1];n&&this.emit("failedLoading",h,f,n),!n&&s&&this.store.addResourceBundle(h,f,s,void 0,void 0,{skipCopy:!0}),this.state[r]=n?-1:2,n&&s&&(this.state[r]=0);const o={};this.queue.forEach(u=>{Lg(u.loaded,[h],f),Ug(u,r),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(p=>{o[p]||(o[p]={});const v=u.loaded[p];v.length&&v.forEach(d=>{o[p][d]===void 0&&(o[p][d]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(u=>!u.done)}read(r,n,s,a=0,h=this.retryTimeout,f){if(!r.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:n,fcName:s,tried:a,wait:h,callback:f});return}this.readingCalls++;const o=(p,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(p&&v&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,r,n,s,a+1,h*2,f)},h);return}f(p,v)},u=this.backend[s].bind(this.backend);if(u.length===2){try{const p=u(r,n);p&&typeof p.then=="function"?p.then(v=>o(null,v)).catch(o):o(null,p)}catch(p){o(p)}return}return u(r,n,o)}prepareLoading(r,n,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();je(r)&&(r=this.languageUtils.toResolveHierarchy(r)),je(n)&&(n=[n]);const h=this.queueLoad(r,n,s,a);if(!h.toLoad.length)return h.pending.length||a(),null;h.toLoad.forEach(f=>{this.loadOne(f)})}load(r,n,s){this.prepareLoading(r,n,{},s)}reload(r,n,s){this.prepareLoading(r,n,{reload:!0},s)}loadOne(r,n=""){const s=r.split("|"),a=s[0],h=s[1];this.read(a,h,"read",void 0,void 0,(f,o)=>{f&&this.logger.warn(`${n}loading namespace ${h} for language ${a} failed`,f),!f&&o&&this.logger.log(`${n}loaded namespace ${h} for language ${a}`,o),this.loaded(r,f,o)})}saveMissing(r,n,s,a,h,f={},o=()=>{}){var u,p,v,d,b;if((p=(u=this.services)==null?void 0:u.utils)!=null&&p.hasLoadedNamespace&&!((d=(v=this.services)==null?void 0:v.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((b=this.backend)!=null&&b.create){const w={...f,isUpdate:h},k=this.backend.create.bind(this.backend);if(k.length<6)try{let C;k.length===5?C=k(r,n,s,a,w):C=k(r,n,s,a),C&&typeof C.then=="function"?C.then(m=>o(null,m)).catch(o):o(null,C)}catch(C){o(C)}else k(r,n,s,a,o,w)}!r||!r[0]||this.store.addResource(r[0],n,s,a)}}}const Fu=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if(typeof e[1]=="object"&&(r=e[1]),je(e[1])&&(r.defaultValue=e[1]),je(e[2])&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{r[s]=n[s]})}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),zu=e=>{var r,n;return je(e.ns)&&(e.ns=[e.ns]),je(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),je(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(r=e.supportedLngs)==null?void 0:r.indexOf)==null?void 0:n.call(r,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Cs=()=>{},Vg=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class vi extends Ss{constructor(r={},n){if(super(),this.options=zu(r),this.services={},this.logger=pr,this.modules={external:[]},Vg(this),n&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,n),this;setTimeout(()=>{this.init(r,n)},0)}}init(r={},n){this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(je(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=Fu();this.options={...s,...this.options,...zu(r)},this.options.interpolation={...s.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler);const a=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?pr.init(a(this.modules.logger),this.options):pr.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=$g;const v=new Au(this.options);this.store=new Lu(this.options.resources,this.options);const d=this.services;d.logger=pr,d.resourceStore=this.store,d.languageUtils=v,d.pluralResolver=new Fg(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=a(p),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Ou(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Wg(a(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(w,...k)=>{this.emit(w,...k)}),this.modules.languageDetector&&(d.languageDetector=a(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=a(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ks(this.services,this.options),this.translator.on("*",(w,...k)=>{this.emit(w,...k)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Cs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...v)=>this.store[p](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...v)=>(this.store[p](...v),this)});const o=pi(),u=()=>{const p=(v,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(v,d)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),o}loadResources(r,n=Cs){var h,f;let s=n;const a=je(r)?r:this.language;if(typeof r=="function"&&(s=r),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const o=[],u=p=>{if(!p||p==="cimode")return;this.services.languageUtils.toResolveHierarchy(p).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>u(v)),(f=(h=this.options.preload)==null?void 0:h.forEach)==null||f.call(h,p=>u(p)),this.services.backendConnector.load(o,this.options.ns,p=>{!p&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(p)})}else s(null)}reloadResources(r,n,s){const a=pi();return typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=void 0),r||(r=this.languages),n||(n=this.options.ns),s||(s=Cs),this.services.backendConnector.reload(r,n,h=>{a.resolve(),s(h)}),a}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&Ru.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,n){this.isLanguageChangingTo=r;const s=pi();this.emit("languageChanging",r);const a=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},h=(o,u)=>{u?this.isLanguageChangingTo===r&&(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve((...p)=>this.t(...p)),n&&n(o,(...p)=>this.t(...p))},f=o=>{var v,d;!r&&!o&&this.services.languageDetector&&(o=[]);const u=je(o)?o:o&&o[0],p=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(je(o)?[o]:o);p&&(this.language||a(p),this.translator.language||this.translator.changeLanguage(p),(d=(v=this.services.languageDetector)==null?void 0:v.cacheUserLanguage)==null||d.call(v,p)),this.loadResources(p,b=>{h(b,p)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(r),s}getFixedT(r,n,s){const a=(h,f,...o)=>{let u;typeof f!="object"?u=this.options.overloadTranslationOptionHandler([h,f].concat(o)):u={...f},u.lng=u.lng||a.lng,u.lngs=u.lngs||a.lngs,u.ns=u.ns||a.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||s||a.keyPrefix);const p=this.options.keySeparator||".";let v;return u.keyPrefix&&Array.isArray(h)?v=h.map(d=>(typeof d=="function"&&(d=da(d,{...this.options,...f})),`${u.keyPrefix}${p}${d}`)):(typeof h=="function"&&(h=da(h,{...this.options,...f})),v=u.keyPrefix?`${u.keyPrefix}${p}${h}`:h),this.t(v,u)};return je(r)?a.lng=r:a.lngs=r,a.ns=n,a.keyPrefix=s,a}t(...r){var n;return(n=this.translator)==null?void 0:n.translate(...r)}exists(...r){var n;return(n=this.translator)==null?void 0:n.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const f=(o,u)=>{const p=this.services.backendConnector.state[`${o}|${u}`];return p===-1||p===0||p===2};if(n.precheck){const o=n.precheck(this,f);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(s,r)&&(!a||f(h,r)))}loadNamespaces(r,n){const s=pi();return this.options.ns?(je(r)&&(r=[r]),r.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),n&&n(a)}),s):(n&&n(),Promise.resolve())}loadLanguages(r,n){const s=pi();je(r)&&(r=[r]);const a=this.options.preload||[],h=r.filter(f=>a.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return h.length?(this.options.preload=a.concat(h),this.loadResources(f=>{s.resolve(),n&&n(f)}),s):(n&&n(),Promise.resolve())}dir(r){var a,h;if(r||(r=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const f=new Intl.Locale(r);if(f&&f.getTextInfo){const o=f.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((h=this.services)==null?void 0:h.languageUtils)||new Au(Fu());return r.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},n){const s=new vi(r,n);return s.createInstance=vi.createInstance,s}cloneInstance(r={},n=Cs){const s=r.forkResourceStore;s&&delete r.forkResourceStore;const a={...this.options,...r,isClone:!0},h=new vi(a);if((r.debug!==void 0||r.prefix!==void 0)&&(h.logger=h.logger.clone(r)),["store","services","language"].forEach(o=>{h[o]=this[o]}),h.services={...this.services},h.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},s){const o=Object.keys(this.store.data).reduce((u,p)=>(u[p]={...this.store.data[p]},u[p]=Object.keys(u[p]).reduce((v,d)=>(v[d]={...u[p][d]},v),u[p]),u),{});h.store=new Lu(o,a),h.services.resourceStore=h.store}return r.interpolation&&(h.services.interpolator=new Ou(a)),h.translator=new ks(h.services,a),h.translator.on("*",(o,...u)=>{h.emit(o,...u)}),h.init(a,n),h.translator.options=a,h.translator.backendConnector.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},h}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ut=vi.createInstance();ut.createInstance,ut.dir,ut.init,ut.loadResources,ut.reloadResources,ut.use,ut.changeLanguage,ut.getFixedT,ut.t,ut.exists,ut.setDefaultNamespace,ut.hasLoadedNamespace,ut.loadNamespaces,ut.loadLanguages;const Kg=(e,r,n,s)=>{var h,f,o,u;const a=[n,{code:r,...s||{}}];if((f=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&f.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);un(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(u=(o=e==null?void 0:e.services)==null?void 0:o.logger)!=null&&u.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},Hu={},$u=(e,r,n,s)=>{un(n)&&Hu[n]||(un(n)&&(Hu[n]=new Date),Kg(e,r,n,s))},Uu=(e,r)=>()=>{if(e.isInitialized)r();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),r()};e.on("initialized",n)}},pa=(e,r,n)=>{e.loadNamespaces(r,Uu(e,n))},Wu=(e,r,n,s)=>{if(un(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(r)>-1)return pa(e,n,s);n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(r,Uu(e,s))},qg=(e,r,n={})=>!r.languages||!r.languages.length?($u(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,e))return!1}}),un=e=>typeof e=="string",Gg=e=>typeof e=="object"&&e!==null,Yg=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Xg={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Jg=e=>Xg[e];let ma={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(Yg,Jg),transDefaultProps:void 0};const Qg=(e={})=>{ma={...ma,...e}},Zg=()=>ma;let Vu;const ev=e=>{Vu=e},tv=()=>Vu,rv={type:"3rdParty",init(e){Qg(e.options.react),ev(e)}},nv=J.createContext();class iv{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var ga={exports:{}},va={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku;function sv(){if(Ku)return va;Ku=1;var e=xs();function r(d,b){return d===b&&(d!==0||1/d===1/b)||d!==d&&b!==b}var n=typeof Object.is=="function"?Object.is:r,s=e.useState,a=e.useEffect,h=e.useLayoutEffect,f=e.useDebugValue;function o(d,b){var w=b(),k=s({inst:{value:w,getSnapshot:b}}),C=k[0].inst,m=k[1];return h(function(){C.value=w,C.getSnapshot=b,u(C)&&m({inst:C})},[d,w,b]),a(function(){return u(C)&&m({inst:C}),d(function(){u(C)&&m({inst:C})})},[d]),f(w),w}function u(d){var b=d.getSnapshot;d=d.value;try{var w=b();return!n(d,w)}catch{return!0}}function p(d,b){return b()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:o;return va.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,va}var qu;function ov(){return qu||(qu=1,ga.exports=sv()),ga.exports}var av=ov();const lv={t:(e,r)=>un(r)?r:Gg(r)&&un(r.defaultValue)?r.defaultValue:Array.isArray(e)?e[e.length-1]:e,ready:!1},cv=()=>()=>{},Ue=(e,r={})=>{var A,P,U;const{i18n:n}=r,{i18n:s,defaultNS:a}=J.useContext(nv)||{},h=n||s||tv();h&&!h.reportNamespaces&&(h.reportNamespaces=new iv),h||$u(h,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const f=J.useMemo(()=>{var F;return{...Zg(),...(F=h==null?void 0:h.options)==null?void 0:F.react,...r}},[h,r]),{useSuspense:o,keyPrefix:u}=f,p=a||((A=h==null?void 0:h.options)==null?void 0:A.defaultNS),v=un(p)?[p]:p||["translation"],d=J.useMemo(()=>v,v);(U=(P=h==null?void 0:h.reportNamespaces)==null?void 0:P.addUsedNamespaces)==null||U.call(P,d);const b=J.useRef(0),w=J.useCallback(F=>{if(!h)return cv;const{bindI18n:$,bindI18nStore:W}=f,q=()=>{b.current+=1,F()};return $&&h.on($,q),W&&h.store.on(W,q),()=>{$&&$.split(" ").forEach(ee=>h.off(ee,q)),W&&W.split(" ").forEach(ee=>h.store.off(ee,q))}},[h,f]),k=J.useRef(),C=J.useCallback(()=>{if(!h)return lv;const F=!!(h.isInitialized||h.initializedStoreOnce)&&d.every(I=>qg(I,h,f)),$=r.lng||h.language,W=b.current,q=k.current;if(q&&q.ready===F&&q.lng===$&&q.keyPrefix===u&&q.revision===W)return q;const G={t:h.getFixedT($,f.nsMode==="fallback"?d:d[0],u),ready:F,lng:$,keyPrefix:u,revision:W};return k.current=G,G},[h,d,u,f,r.lng]),[m,x]=J.useState(0),{t:_,ready:y}=av.useSyncExternalStore(w,C,C);J.useEffect(()=>{if(h&&!y&&!o){const F=()=>x($=>$+1);r.lng?Wu(h,r.lng,d,F):pa(h,d,F)}},[h,r.lng,d,y,o,m]);const E=h||{},j=J.useRef(null),N=J.useRef(),D=F=>{const $=Object.getOwnPropertyDescriptors(F);$.__original&&delete $.__original;const W=Object.create(Object.getPrototypeOf(F),$);if(!Object.prototype.hasOwnProperty.call(W,"__original"))try{Object.defineProperty(W,"__original",{value:F,writable:!1,enumerable:!1,configurable:!1})}catch{}return W},L=J.useMemo(()=>{const F=E,$=F==null?void 0:F.language;let W=F;F&&(j.current&&j.current.__original===F?N.current!==$?(W=D(F),j.current=W,N.current=$):W=j.current:(W=D(F),j.current=W,N.current=$));const q=[_,W,y];return q.t=_,q.i18n=W,q.ready=y,q},[_,E,y,E.resolvedLanguage,E.language,E.languages]);if(h&&o&&!y)throw new Promise(F=>{const $=()=>F();r.lng?Wu(h,r.lng,d,$):pa(h,d,$)});return L},uv={en:{translation:{sidebar:{dashboard:"Dashboard",console:"Console",tasks:"Tasks",recipes:"Recipes",skills:"Skills",workspace:"Workspace",sync:"Sync",secrets:"Secrets",settings:"Settings",theme:{switchToLight:"Switch to light mode",switchToDark:"Switch to dark mode"},collapse:{expand:"Expand sidebar",collapse:"Collapse sidebar"}},dashboard:{title:"Dashboard",pageDesc:"System overview and quick access to your resources",systemOverview:"System Overview",server:"Server",online:"Online",offline:"Offline",uptime:"Uptime",tasks:"Tasks",recipes:"Recipes",skills:"Skills",activityOverview:"Activity Overview",viewAll:"View all",sessions:"Sessions",toolCalls:"Tool Calls",completed:"Completed",running:"Running",errors:"Errors",noActivityData:"No activity data in the past 12 hours"},tasks:{title:"Tasks",noTasks:"No Tasks",noTasksDescription:"Enter a task description to start your first task",inputPlaceholder:"Describe the task you want to execute...",aiTitleToggle:"Use haiku to generate readable titles",status:{running:"Running",completed:"Completed",error:"Error",cancelled:"Cancelled"},steps:"steps",calls:"calls",backToTaskList:"Back to Task List",taskNotExist:"Task does not exist or has been deleted",failedToLoad:"Failed to load",continueConversation:"Continue Conversation",statusLabel:"Status",startTime:"Start Time",duration:"Duration",stepCount:"Step Count",toolCalls:"Tool Calls",projectPath:"Project Path",enterContinueContent:"Enter content to continue the conversation...",ctrlEnterToSend:"Ctrl+Enter to send",executionSteps:"Execution Steps",filter:"Filter",noSteps:"No steps",scrollToLoadMore:"Scroll to load more...",showMore:"Show more",user:"User",assistant:"Assistant",tool:"Tool",result:"Result",system:"System"},recipes:{title:"Recipes",noRecipes:"No Recipes",noRecipesDescription:"Use task-mind recipe create to create a new recipe",searchPlaceholder:"Search recipes...",searchByNameOrTag:"Search by name or tag...",run:"Run",view:"View",workflow:"Workflow",workflowTip:"Chain multiple steps to automate complex tasks",atomic:"Atomic",atomicTip:"Small recipe that solves one specific problem, composable",noResults:"No matching results",backToRecipeList:"Back to Recipe List",recipeNotExist:"Recipe does not exist",type:"Type",source:"Source",runtime:"Runtime",output:"Output",useCases:"Use Cases",parameters:"Parameters",dependencies:"Dependencies",sourceCode:"Source Code",name:"Name",required:"Required",default:"Default",description:"Description",yes:"Yes",no:"No",executedSuccess:"Recipe executed successfully",executionFailed:"Execution failed",failedToExecute:"Failed to execute recipe",failedToLoad:"Failed to load recipe details",showInFileManager:"Show in file manager",unableToOpenPath:"Unable to open path",localRecipes:"Local Recipes",communityRecipes:"Community Recipes",noCommunityRecipes:"No Community Recipes",noCommunityRecipesDescription:"Unable to fetch community recipes",searchCommunity:"Search community recipes...",install:"Install",update:"Update",installed:"Installed",installSuccess:"Successfully installed {{name}}",installFailed:"Failed to install recipe",updateSuccess:"Successfully updated {{name}}",updateFailed:"Failed to update recipe"},skills:{title:"Skills",noSkills:"No Skills",noSkillsDescription:"No skills found",createSkillHint:"Create skill files in .claude/skills/ directory"},workspace:{title:"Workspace",projects:"projects",noProjects:"No projects found",selectProject:"Select a project to browse files",openInFileManager:"Open in file manager",emptyDirectory:"This directory is empty",directory:"Directory",view:"View",download:"Download"},time:{today:"Today",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},console:{title:"Console",connecting:"Connecting...",connected:"Connected",disconnected:"Disconnected",inputPlaceholder:"Type your message...",autoApprove:"Auto-approve",clear:"Clear",stop:"Stop",send:"Send",noActiveSession:"No active session",session:"Session",newSession:"New Session",devConsoleTitle:"Recipe Development Console",devConsoleDesc:"This console is designed for creating and testing Task-Mind recipes. Claude will execute tasks automatically without requiring manual approval for each tool call.",autoApproveWarningTitle:"Auto-approve is always enabled",autoApproveWarningDesc:"All tool calls (file operations, shell commands, etc.) will be executed without confirmation. Use with caution on sensitive projects.",interactiveMode:"For interactive mode with manual approval, use Claude Code directly:",startConversation:"Start a new conversation...",continueConversation:"Continue conversation..."},sync:{title:"Sync",description:"Sync your task-mind resources across devices",pageDesc:"Sync your task-mind resources across devices",notConfigured:"Sync not configured",configureGitHub:"Configure GitHub",lastSync:"Last sync",syncNow:"Sync Now"},secrets:{title:"Secrets",description:"Manage your API keys and secrets",pageDesc:"Manage environment variables for recipes and integrations",securityNotice:"Your secrets are stored locally on this device and never leave your machine. They are accessed only by recipes you run  task-mind does not manage or transmit them. By default, secrets are excluded from sync even if you have configured a private repository.",addSecret:"Add Secret",noSecrets:"No secrets configured",name:"Name",value:"Value",showValue:"Show value",hideValue:"Hide value",envVars:"Environment Variables",add:"Add",recipeEnvRequirements:"Recipe Environment Variable Requirements",envVarsNotConfigured:"The following environment variables are used by recipes but not yet configured:",notConfiguredBadge:"Not Configured",requiredBadge:"Required",usedBy:"Used by",noEnvVars:'No environment variables yet. Click "Add" to create one.',recipeEnvVars:"Recipe Environment Variables",addEnvVar:"Add Environment Variable",editEnvVar:"Edit Environment Variable",variableName:"Variable Name",variableValue:"Variable Value",varNameHint:"Can only contain letters, numbers, and underscores, and cannot start with a number",enterVarValue:"Enter variable value",varNameEmpty:"Variable name cannot be empty",varNameInvalid:"Variable name can only contain letters, numbers, and underscores, and cannot start with a number",varValueEmpty:"Variable value cannot be empty",varExistsConfirm:"Variable {{name}} already exists. Overwrite?",deleteConfirm:"Are you sure you want to delete environment variable {{name}}?",deleteFailed:"Delete failed",saveFailed:"Save failed",groupRecipe:"Recipe",groupGitHub:"GitHub",groupAIAPIs:"AI APIs",groupDatabase:"Database",groupOther:"Other"},settings:{title:"Settings",description:"Configure task-mind features",tabs:{general:"General",appearance:"Appearance",init:"Init",about:"About"},general:{title:"General Configuration",apiEndpoint:"API Endpoint",officialApi:"Official Claude API",customEndpoint:"Custom API Endpoint",endpointType:"Endpoint Type",apiUrl:"API URL",apiKey:"API Key",defaultModel:"Default Model",sonnetModel:"Sonnet Model",haikuModel:"Haiku Model",saveConfiguration:"Save Configuration",edit:"Edit",workingDirectory:"Working Directory",open:"Open",confirmSwitch:"Confirm Switch to Official API",confirmSwitchDesc:"This will remove your custom API configuration",confirm:"Confirm",cancel:"Cancel",saving:"Saving...",confirmSwitchFullDesc:"Switching to official Claude API will clear your current custom endpoint configuration (including API Key). This action cannot be undone. Are you sure you want to continue?",optionalOverride:"optional override",optional:"optional",leaveEmptyDefault:"Leave empty to use preset default",leaveEmptySonnet:"Leave empty to use sonnet model",enterApiKey:"Enter API Key",show:"Show",hide:"Hide",confirmSwitchBtn:"Confirm Switch",failedToLoadConfig:"Failed to load configuration",failedToOpenDir:"Failed to open directory",failedToOpenVSCode:"Failed to open in VSCode"},appearance:{title:"Appearance",behavior:"Behavior",language:"Language",languageDesc:"Select your preferred interface language",english:"English",chinese:"Chinese",showSystemStatus:"Show System Status",showSystemStatusDesc:"Display CPU and memory usage in status bar",exitConfirmation:"Exit Confirmation",exitConfirmationDesc:"Show confirmation dialog when closing window",autoScrollOutput:"Auto Scroll Output",autoScrollOutputDesc:"Automatically scroll to bottom when new content appears"},init:{title:"Initialization",dependencies:"Dependencies",resources:"Resources",auth:"Auth",complete:"Complete"},about:{title:"About",version:"Version",checkUpdate:"Check for Updates"}},init:{welcome:"Welcome to task-mind",loadingStatus:"Loading initialization status...",closeWizard:"Close wizard",depTitle:"Check Dependencies",depDesc:"Ensure required tools are installed",nodeInstalled:"Node.js installed",nodeNotInstalled:"Node.js not installed",notInstalled:"Not installed",claudeInstalled:"Claude Code installed",claudeNotInstalled:"Claude Code not installed",installNode:"Install Node.js",installClaude:"Install Claude Code",versionRequired:"Required: v{{version}}+",versionCurrent:"Current: v{{version}}",versionSufficient:"Version OK",versionInsufficient:"Version too old",checkingDeps:"Checking dependencies...",allDepsOk:"All dependencies are satisfied",systemDeps:"System Dependencies",systemDepsDesc:"task-mind requires Node.js and Claude Code to function properly.",manualGuide:"Manual installation guide",checking:"Checking...",refreshStatus:"Refresh status",skipForNow:"Skip for now",skipWarning:"Some features may not work without all dependencies installed.",resTitle:"Install Resources",resDesc:"Install Claude Code commands, skills, and example recipes.",resourcesStatus:"Resources Status",resourcesInstalled:"Installed (v{{version}})",resourcesNotInstalled:"Not installed",updateAvailable:"Update available (v{{version}})",commands:"Commands",forceUpdate:"Force update (overwrite existing resources)",install:"Install",installResources:"Install Resources",reinstallResources:"Reinstall Resources",updateResources:"Update Resources",installing:"Installing...",installingResources:"Installing resources...",installComplete:"Installation complete!",installPartial:"Partial installation",installFailed:"Installation failed",filesInstalled:"Installed: {{count}} files",filesSkipped:"Skipped: {{count}} files (already exist)",errorsLabel:"Errors:",allSet:"You're all set!",almostThere:"Almost there!",readyToUse:"task-mind is ready to use. Click the button below to finish setup.",reviewSummary:"Review the setup summary below before finishing.",notFullyConfigured:"Not fully configured",configureInSettings:"Configure in Settings later",stepsSkippedTitle:"Some steps were skipped",stepsSkippedDesc:"You can still complete setup, but some features may not work correctly until all steps are completed. You can access these settings anytime from the Settings page.",finishing:"Finishing...",finishSetup:"Finish Setup",authTitle:"Authentication Setup",authDesc:"Configure how Claude Code authenticates with Anthropic or a third-party API.",authStatus:"Authentication Status",authConfigured:"Configured: {{method}}",authNotConfigured:"Not configured",officialAuth:"Official Authentication",officialAuthDesc:"Use Anthropic's official authentication. You manage your own Claude login. This is the default and recommended option for most users.",customEndpoint:"Custom API Endpoint",customEndpointDesc:"Connect to a third-party API endpoint (DeepSeek, Aliyun, Kimi, etc.) with your own API key. Configure this in Settings after setup.",skipAuthCheckbox:"I'll configure authentication later in Settings",authNote:"You can change authentication settings anytime from the Settings page. If using official authentication, make sure to log in to Claude Code via terminal first.",officialUserManaged:"Official (user-managed)",compTitle:"Setup Complete!",compDesc:"You're all set to start using task-mind",compSummary:"Setup Summary",openConsole:"Open Console",finish:"Finish",next:"Next",continue:"Continue",skip:"Skip",back:"Back",retry:"Retry"},common:{loading:"Loading...",loadingConfiguration:"Loading configuration...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",open:"Open",close:"Close",confirm:"Confirm",success:"Success",error:"Error",warning:"Warning",info:"Info",retry:"Retry",refresh:"Refresh",note:"Note"},errors:{loadFailed:"Failed to load",saveFailed:"Failed to save",apiKeyEmpty:"API Key cannot be empty",customEndpointRequired:"Custom endpoint requires API URL",customEndpointModelRequired:"Custom endpoint requires a main model name"}}},zh:{translation:{sidebar:{dashboard:"",console:"",tasks:"",recipes:"",skills:"",workspace:"",sync:"",secrets:"",settings:"",theme:{switchToLight:"",switchToDark:""},collapse:{expand:"",collapse:""}},dashboard:{title:"",pageDesc:"",systemOverview:"",server:"",online:"",offline:"",uptime:"",tasks:"",recipes:"",skills:"",activityOverview:"",viewAll:"",sessions:"",toolCalls:"",completed:"",running:"",errors:"",noActivityData:" 12 "},tasks:{title:"",noTasks:"",noTasksDescription:"",inputPlaceholder:"...",aiTitleToggle:" haiku ",status:{running:"",completed:"",error:"",cancelled:""},steps:"",calls:"",backToTaskList:"",taskNotExist:"",failedToLoad:"",continueConversation:"",statusLabel:"",startTime:"",duration:"",stepCount:"",toolCalls:"",projectPath:"",enterContinueContent:"...",ctrlEnterToSend:"Ctrl+Enter ",executionSteps:"",filter:"",noSteps:"",scrollToLoadMore:"...",showMore:"",user:"",assistant:"",tool:"",result:"",system:""},recipes:{title:"",noRecipes:"",noRecipesDescription:" task-mind recipe create ",searchPlaceholder:"...",searchByNameOrTag:"...",run:"",view:"",workflow:"",workflowTip:"",atomic:"",atomicTip:"",noResults:"",backToRecipeList:"",recipeNotExist:"",type:"",source:"",runtime:"",output:"",useCases:"",parameters:"",dependencies:"",sourceCode:"",name:"",required:"",default:"",description:"",yes:"",no:"",executedSuccess:"",executionFailed:"",failedToExecute:"",failedToLoad:"",showInFileManager:"",unableToOpenPath:"",localRecipes:"",communityRecipes:"",noCommunityRecipes:"",noCommunityRecipesDescription:"",searchCommunity:"...",install:"",update:"",installed:"",installSuccess:" {{name}}",installFailed:"",updateSuccess:" {{name}}",updateFailed:""},skills:{title:"",noSkills:"",noSkillsDescription:"",createSkillHint:" .claude/skills/ "},workspace:{title:"",projects:"",noProjects:"",selectProject:"",openInFileManager:"",emptyDirectory:"",directory:"",view:"",download:""},time:{today:"",yesterday:"",daysAgo:"{{count}} "},console:{title:"",connecting:"...",connected:"",disconnected:"",inputPlaceholder:"...",autoApprove:"",clear:"",stop:"",send:"",noActiveSession:"",session:"",newSession:"",devConsoleTitle:"",devConsoleDesc:" Task-Mind Claude ",autoApproveWarningTitle:"",autoApproveWarningDesc:"shell ",interactiveMode:" Claude Code",startConversation:"...",continueConversation:"..."},sync:{title:"",description:" task-mind ",pageDesc:" task-mind ",notConfigured:"",configureGitHub:" GitHub",lastSync:"",syncNow:""},secrets:{title:"",description:" API ",pageDesc:"",securityNotice:"  task-mind ",addSecret:"",noSecrets:"",name:"",value:"",showValue:"",hideValue:"",envVars:"",add:"",recipeEnvRequirements:"",envVarsNotConfigured:"",notConfiguredBadge:"",requiredBadge:"",usedBy:"",noEnvVars:"",recipeEnvVars:"",addEnvVar:"",editEnvVar:"",variableName:"",variableValue:"",varNameHint:"",enterVarValue:"",varNameEmpty:"",varNameInvalid:"",varValueEmpty:"",varExistsConfirm:" {{name}} ",deleteConfirm:" {{name}} ",deleteFailed:"",saveFailed:"",groupRecipe:"",groupGitHub:"GitHub",groupAIAPIs:"AI APIs",groupDatabase:"",groupOther:""},settings:{title:"",description:" task-mind ",tabs:{general:"",appearance:"",init:"",about:""},general:{title:"",apiEndpoint:"API ",officialApi:" Claude API",customEndpoint:" API ",endpointType:"",apiUrl:"API ",apiKey:"API ",defaultModel:"",sonnetModel:"Sonnet ",haikuModel:"Haiku ",saveConfiguration:"",edit:"",workingDirectory:"",open:"",confirmSwitch:" API",confirmSwitchDesc:" API ",confirm:"",cancel:"",saving:"...",confirmSwitchFullDesc:" Claude API  API ",optionalOverride:"",optional:"",leaveEmptyDefault:"",leaveEmptySonnet:" Sonnet ",enterApiKey:" API ",show:"",hide:"",confirmSwitchBtn:"",failedToLoadConfig:"",failedToOpenDir:"",failedToOpenVSCode:" VSCode "},appearance:{title:"",behavior:"",language:"",languageDesc:"",english:"English",chinese:"",showSystemStatus:"",showSystemStatusDesc:" CPU ",exitConfirmation:"",exitConfirmationDesc:"",autoScrollOutput:"",autoScrollOutputDesc:""},init:{title:"",dependencies:"",resources:"",auth:"",complete:""},about:{title:"",version:"",checkUpdate:""}},init:{welcome:" task-mind",loadingStatus:"...",closeWizard:"",depTitle:"",depDesc:"",nodeInstalled:"Node.js ",nodeNotInstalled:"Node.js ",notInstalled:"",claudeInstalled:"Claude Code ",claudeNotInstalled:"Claude Code ",installNode:" Node.js",installClaude:" Claude Code",versionRequired:": v{{version}}+",versionCurrent:": v{{version}}",versionSufficient:"",versionInsufficient:"",checkingDeps:"...",allDepsOk:"",systemDeps:"",systemDepsDesc:"task-mind  Node.js  Claude Code ",manualGuide:"",checking:"...",refreshStatus:"",skipForNow:"",skipWarning:"",resTitle:"",resDesc:" Claude Code ",resourcesStatus:"",resourcesInstalled:" (v{{version}})",resourcesNotInstalled:"",updateAvailable:" (v{{version}})",commands:"",forceUpdate:"",install:"",installResources:"",reinstallResources:"",updateResources:"",installing:"...",installingResources:"...",installComplete:"",installPartial:"",installFailed:"",filesInstalled:": {{count}} ",filesSkipped:": {{count}} ",errorsLabel:":",allSet:"",almostThere:"",readyToUse:"task-mind ",reviewSummary:"",notFullyConfigured:"",configureInSettings:"",stepsSkippedTitle:"",stepsSkippedDesc:"",finishing:"...",finishSetup:"",authTitle:"",authDesc:" Claude Code  Anthropic  API ",authStatus:"",authConfigured:": {{method}}",authNotConfigured:"",officialAuth:"",officialAuthDesc:" Anthropic  Claude ",customEndpoint:" API ",customEndpointDesc:" API DeepSeekKimi  API ",skipAuthCheckbox:"",authNote:" Claude Code",officialUserManaged:"",compTitle:"",compDesc:" task-mind",compSummary:"",openConsole:"",finish:"",next:"",continue:"",skip:"",back:"",retry:""},common:{loading:"...",loadingConfiguration:"...",save:"",cancel:"",edit:"",delete:"",open:"",close:"",confirm:"",success:"",error:"",warning:"",info:"",retry:"",refresh:"",note:""},errors:{loadFailed:"",saveFailed:"",apiKeyEmpty:"API ",customEndpointRequired:" API ",customEndpointModelRequired:""}}}};ut.use(rv).init({resources:uv,lng:"zh",fallbackLng:"en",interpolation:{escapeValue:!1}});const Gu=e=>{let r;const n=new Set,s=(p,v)=>{const d=typeof p=="function"?p(r):p;if(!Object.is(d,r)){const b=r;r=v??(typeof d!="object"||d===null)?d:Object.assign({},r,d),n.forEach(w=>w(r,b))}},a=()=>r,o={setState:s,getState:a,getInitialState:()=>u,subscribe:p=>(n.add(p),()=>n.delete(p))},u=r=e(s,a,o);return o},dv=(e=>e?Gu(e):Gu),hv=e=>e;function fv(e,r=hv){const n=ys.useSyncExternalStore(e.subscribe,ys.useCallback(()=>r(e.getState()),[e,r]),ys.useCallback(()=>r(e.getInitialState()),[e,r]));return ys.useDebugValue(n),n}const Yu=e=>{const r=dv(e),n=s=>fv(r,s);return Object.assign(n,r),n},pv=(e=>e?Yu(e):Yu);let Es=null;function xa(){var r;const e=(r=window.pywebview)==null?void 0:r.api;return!!(e&&typeof e.get_config=="function")}function We(){return Es||(Es=new Promise(e=>{const r=()=>{if(xa()){const a=window.pywebview.api;return console.log("[pywebview] API fully ready, methods:",Object.keys(a)),e(a),!0}return!1};if(r())return;const n=setInterval(()=>{r()&&clearInterval(n)},50),s=()=>{console.log("[pywebview] pywebviewready event fired"),setTimeout(()=>{r()&&clearInterval(n)},100),window.removeEventListener("pywebviewready",s)};window.addEventListener("pywebviewready",s),setTimeout(()=>{clearInterval(n),xa()||console.error("[pywebview] API not ready after 10s timeout")},1e4)}),Es)}function mv(){return xa()}async function gv(e,r){return(await We()).get_tasks(e??50,r)}async function vv(e,r,n){return(await We()).get_task_detail(e,r,n)}async function xv(e){return(await We()).start_agent_task(e)}async function yv(e,r){return(await We()).continue_agent_task(e,r)}async function _v(){return(await We()).get_recipes()}async function bv(e){return(await We()).get_recipe_detail(e)}async function wv(e,r){return(await We()).run_recipe(e,r)}async function Sv(){return(await We()).get_skills()}async function kv(){return(await We()).get_config()}async function Cv(e){return(await We()).update_config(e)}async function Ev(){return(await We()).get_system_status()}async function Nv(e,r=!1){return(await We()).open_path(e,r)}async function jv(){return(await We()).get_main_config()}async function Lv(e){return(await We()).update_auth_method(e)}async function Rv(){return(await We()).open_working_directory()}async function Tv(){return(await We()).get_env_vars()}async function Dv(e){return(await We()).update_env_vars(e)}async function Av(){return(await We()).get_recipe_env_requirements()}async function Iv(){return(await We()).check_gh_cli()}async function Pv(){return(await We()).gh_auth_login()}async function Mv(e,r=!0){return(await We()).create_sync_repo(e,r)}async function Ov(){return(await We()).run_first_sync()}async function Bv(){return(await We()).get_sync_result()}async function Fv(){return(await We()).check_sync_repo_visibility()}async function zv(e){return(await We()).list_user_repos(e)}async function Hv(e){return(await We()).select_existing_repo(e)}const Xu="";async function Le(e,r={}){const n=`${Xu}/api${e}`,s=await fetch(n,{...r,headers:{"Content-Type":"application/json",...r.headers}});if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.detail||`HTTP ${s.status}: ${s.statusText}`)}return s.json()}async function Ju(){return Le("/status")}async function $v(){return Le("/recipes")}async function Uv(e){return Le(`/recipes/${encodeURIComponent(e)}`)}async function Wv(e,r,n){return Le(`/recipes/${encodeURIComponent(e)}/run`,{method:"POST",body:JSON.stringify({params:r,timeout:n})})}async function Vv(e){const r=new URLSearchParams;e!=null&&e.status&&r.set("status",e.status),e!=null&&e.limit&&r.set("limit",String(e.limit)),e!=null&&e.offset&&r.set("offset",String(e.offset)),e!=null&&e.generateTitles&&r.set("generate_titles","true");const n=r.toString();return Le(`/tasks${n?`?${n}`:""}`)}async function Kv(e){return Le(`/tasks/${encodeURIComponent(e)}`,{method:"DELETE"})}async function qv(e){return Le(`/tasks/${encodeURIComponent(e)}`)}async function Gv(e,r){return Le("/agent",{method:"POST",body:JSON.stringify({prompt:e,project_path:r})})}async function Yv(e,r){return Le(`/agent/${encodeURIComponent(e)}/continue`,{method:"POST",body:JSON.stringify({prompt:r})})}async function Xv(){return Le("/config")}async function Jv(e){return Le("/config",{method:"PUT",body:JSON.stringify(e)})}async function Qv(){return Le("/skills")}async function Zv(){return Le("/settings/gh-cli")}async function ex(){return Le("/settings/gh-cli/login",{method:"POST"})}async function Qu(){return Le("/settings/main-config")}async function tx(e){return Le("/settings/update-auth",{method:"POST",body:JSON.stringify(e)})}async function rx(){return Le("/settings/env-vars")}async function nx(e){return Le("/settings/env-vars",{method:"PUT",body:JSON.stringify({updates:e})})}async function ix(){return Le("/settings/recipe-env-requirements")}async function sx(){return Le("/settings/open-working-directory",{method:"POST"})}async function ox(e,r=!1){return Le("/settings/open-path",{method:"POST",body:JSON.stringify({path:e,reveal:r})})}async function ax(){return Le("/settings/vscode-status")}async function lx(){return Le("/settings/open-in-vscode",{method:"POST"})}async function cx(){return Le("/dashboard")}async function ux(){try{await Ju()}catch{throw new Error("Failed to connect to Task-Mind web service")}}async function dx(){return Le("/settings/select-directory",{method:"POST"})}async function hx(e,r=!0){return Le("/sync/create-repo",{method:"POST",body:JSON.stringify({repo_name:e,private:r})})}async function fx(e=100){return Le(`/sync/repos?limit=${e}`)}async function px(e){return Le("/sync/select-repo",{method:"POST",body:JSON.stringify({repo_url:e})})}async function mx(){return Le("/sync/repo-visibility")}async function gx(){return Le("/sync/run",{method:"POST"})}async function vx(){return Le("/sync/status")}async function ya(){return Le("/init/status")}async function xx(){return Le("/init/check-deps",{method:"POST"})}async function Zu(e){return Le(`/init/install-dep/${e}`,{method:"POST"})}async function yx(e=!1){return Le("/init/install-resources",{method:"POST",body:JSON.stringify({force_update:e})})}async function _x(){return Le("/init/complete",{method:"POST"})}async function bx(){return Le("/init/reset",{method:"POST"})}async function wx(){return Le("/community-recipes")}async function Sx(e,r=!1){return Le(`/community-recipes/${encodeURIComponent(e)}/install`,{method:"POST",body:JSON.stringify({force:r})})}async function kx(e){return Le(`/community-recipes/${encodeURIComponent(e)}/update`,{method:"POST"})}async function Cx(){return Le("/projects")}async function Ex(e){return Le(`/projects/${encodeURIComponent(e)}`)}async function Nx(e,r=""){const n=new URLSearchParams;r&&n.set("path",r);const s=n.toString();return Le(`/projects/${encodeURIComponent(e)}/files${s?`?${s}`:""}`)}function jx(e,r){return`${Xu}/api/projects/${encodeURIComponent(e)}/files/${encodeURIComponent(r)}`}async function Lx(e,r=""){const n=new URLSearchParams;r&&n.set("path",r);const s=n.toString();return Le(`/projects/${encodeURIComponent(e)}/open${s?`?${s}`:""}`,{method:"POST"})}async function Rx(e,r){const n=new URLSearchParams({path:r});return Le(`/projects/${encodeURIComponent(e)}/view?${n.toString()}`,{method:"POST"})}function Te(){var e;return typeof window<"u"&&!!((e=window.pywebview)!=null&&e.api)}function Dn(){return Te()?"pywebview":"http"}async function Tx(){Te()?await We():await ux()}function ed(){return Te()?mv():!0}async function Dx(e){return Te()?gv(e==null?void 0:e.limit,e==null?void 0:e.status):(await Vv({limit:e==null?void 0:e.limit,status:(e==null?void 0:e.status)??void 0,generateTitles:e==null?void 0:e.generateTitles})).tasks.map(n=>({session_id:n.id,name:n.title,status:n.status,started_at:n.started_at,ended_at:n.completed_at,duration_ms:n.duration_ms??0,step_count:n.step_count??0,tool_call_count:n.tool_call_count??0,last_activity:n.started_at,project_path:n.project_path??"",source:n.source??"unknown",is_invalid:n.is_invalid}))}async function _a(e,r,n){var a,h,f,o;if(Te())return vv(e,r,n);const s=await qv(e);return{session_id:s.id,name:s.title,status:s.status,started_at:s.started_at??"",ended_at:s.completed_at??null,duration_ms:s.duration_ms??((a=s.summary)==null?void 0:a.total_duration_ms)??0,project_path:s.project_path??"",step_count:s.step_count??s.steps.length,tool_call_count:s.tool_call_count??((h=s.summary)==null?void 0:h.tool_call_count)??0,user_message_count:((f=s.summary)==null?void 0:f.user_message_count)??0,assistant_message_count:((o=s.summary)==null?void 0:o.assistant_message_count)??0,steps:s.steps.map((u,p)=>({step_id:p,type:u.type,timestamp:u.timestamp,content:u.content,tool_name:u.tool_name,tool_status:null})),steps_total:s.steps_total??s.steps.length,steps_offset:s.steps_offset??0,has_more_steps:s.has_more_steps??!1,summary:s.summary?{total_duration_ms:s.summary.total_duration_ms,user_message_count:s.summary.user_message_count,assistant_message_count:s.summary.assistant_message_count,tool_call_count:s.summary.tool_call_count,tool_success_count:s.summary.tool_success_count,tool_error_count:s.summary.tool_error_count,most_used_tools:s.summary.most_used_tools}:null}}async function Ax(e,r){return Te()?xv(e):{status:"ok",message:`Started task: ${(await Gv(e,r)).title}`}}async function Ix(e){return Te()?{status:"error",error:"Delete not supported in pywebview mode"}:Kv(e)}async function Px(e,r){if(Te())return yv(e,r);const n=await Yv(e,r);return{status:n.status,message:n.message||`Continuing session ${e.slice(0,8)}...`}}async function Mx(){return Te()?_v():(await $v()).map(r=>({name:r.name,description:r.description,category:r.category,icon:r.icon,tags:r.tags,path:r.path,source:r.source,runtime:r.runtime}))}async function Ox(e){if(Te())return bv(e);const r=await Uv(e);return{name:r.name,description:r.description,category:r.type||r.category||"atomic",icon:r.icon||null,tags:r.tags||[],path:r.path||r.script_path,source:r.source,runtime:r.runtime,metadata_content:null,recipe_dir:r.base_dir||null,version:r.version,base_dir:r.base_dir,script_path:r.script_path,metadata_path:r.metadata_path,use_cases:r.use_cases,output_targets:r.output_targets,inputs:r.inputs,outputs:r.outputs,dependencies:r.dependencies,env:r.env,source_code:r.source_code}}async function Bx(e,r){if(Te())return wv(e,r);try{return await Wv(e,r),{status:"ok",output:"Recipe started",error:null}}catch(n){return{status:"error",output:null,error:n instanceof Error?n.message:String(n)}}}async function Fx(){return Te()?Sv():(await Qv()).map(r=>({name:r.name,description:r.description,icon:null,file_path:r.file_path??""}))}async function zx(){if(Te())return kv();const e=await Xv();return{theme:e.theme,language:e.language||"en",show_system_status:e.show_system_status,confirm_on_exit:e.confirm_on_exit,auto_scroll_output:e.auto_scroll_output,max_history_items:e.max_history_items,ai_title_enabled:e.ai_title_enabled,shortcuts:e.shortcuts}}async function Ns(e){if(Te())return Cv(e);try{const r=await Jv(e);return{status:"ok",config:{theme:r.theme,language:r.language||"en",show_system_status:r.show_system_status,confirm_on_exit:r.confirm_on_exit,auto_scroll_output:r.auto_scroll_output,max_history_items:r.max_history_items,ai_title_enabled:r.ai_title_enabled,shortcuts:r.shortcuts}}}catch(r){return{status:"error",error:r instanceof Error?r.message:String(r)}}}async function Hx(){if(Te())return Ev();const e=await Ju();return{cpu_percent:e.cpu_percent??0,memory_percent:e.memory_percent??0,chrome_connected:e.chrome_connected??!1}}async function $x(e,r=!1){return Te()?Nv(e,r):ox(e,r)}async function td(){if(Te())return jv();const e=await Qu();return{schema_version:"1.0",auth_method:e.auth_method,api_endpoint:e.api_endpoint?{type:e.api_endpoint.type,url:e.api_endpoint.url??void 0,api_key:e.api_endpoint.api_key,default_model:e.api_endpoint.default_model??void 0,sonnet_model:e.api_endpoint.sonnet_model??void 0,haiku_model:e.api_endpoint.haiku_model??void 0}:void 0,ccr_enabled:!1,sync_repo_url:e.sync_repo??void 0,working_directory_display:e.working_directory,resources_installed:e.resources_installed,resources_version:e.resources_version??void 0,init_completed:e.init_completed,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}async function Ux(e){if(Te())return Lv(e);try{const r=await tx({auth_method:e.auth_method,api_endpoint:e.api_endpoint?{type:e.api_endpoint.type,api_key:e.api_endpoint.api_key,url:e.api_endpoint.url,default_model:e.api_endpoint.default_model,sonnet_model:e.api_endpoint.sonnet_model,haiku_model:e.api_endpoint.haiku_model}:void 0});if(r.status==="ok"){const n=await Qu();return{status:"ok",config:{schema_version:"1.0",auth_method:n.auth_method,api_endpoint:n.api_endpoint?{type:n.api_endpoint.type,url:n.api_endpoint.url??void 0,api_key:n.api_endpoint.api_key,default_model:n.api_endpoint.default_model??void 0,sonnet_model:n.api_endpoint.sonnet_model??void 0,haiku_model:n.api_endpoint.haiku_model??void 0}:void 0,ccr_enabled:!1,sync_repo_url:n.sync_repo??void 0,working_directory_display:n.working_directory,resources_installed:n.resources_installed,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),init_completed:n.init_completed}}}else return{status:"error",error:r.error||"Failed to update auth"}}catch(r){return{status:"error",error:r instanceof Error?r.message:String(r)}}}async function Wx(){return Te()?Rv():sx()}async function Vx(){if(Te())return Tv();const e=await rx();return{vars:e.vars,file_exists:e.file_exists}}async function rd(e){if(Te())return Dv(e);try{return{status:"ok",vars:(await nx(e)).vars}}catch(r){return{status:"error",error:r instanceof Error?r.message:String(r)}}}async function ba(){return Te()?Av():(await ix()).map(r=>({recipe_name:r.recipe_name??"",var_name:r.name,description:r.description??"",required:r.required,configured:r.configured}))}async function wa(){if(Te())return Iv();const e=await Zv();return{installed:e.installed,authenticated:e.authenticated,version:e.version??void 0,username:e.username??void 0}}async function Kx(){if(Te())return Pv();const e=await ex();return{status:e.status==="ok"?"ok":"error",error:e.error??void 0}}async function qx(e,r=!0){return Te()?Mv(e,r):hx(e,r)}async function nd(){return Te()?Ov():gx()}async function id(){return Te()?Bv():vx()}async function Gx(){return Te()?Fv():mx()}async function Yx(e){return Te()?zv(e):fx(e)}async function Xx(e){return Te()?Hv(e):px(e)}async function sd(){return Te()?{available:!1}:ax()}async function Jx(){return Te()?{status:"error",error:"Not supported in pywebview mode"}:lx()}async function Qx(){if(Te())throw new Error("Dashboard API not available in pywebview mode");return cx()}async function Zx(){return Te()?[]:(await wx()).map(r=>({name:r.name,url:r.url,description:r.description,version:r.version,type:r.type,runtime:r.runtime,tags:r.tags,installed:r.installed,installed_version:r.installed_version,has_update:r.has_update}))}async function e0(e,r=!1){return Te()?{status:"error",error:"Community recipes not supported in pywebview mode"}:Sx(e,r)}async function t0(e){return Te()?{status:"error",error:"Community recipes not supported in pywebview mode"}:kx(e)}async function r0(){return Te()?[]:Cx()}async function n0(e){return Te()?null:Ex(e)}async function i0(e,r=""){return Te()?[]:Nx(e,r)}function s0(e,r){return jx(e,r)}async function od(e,r=""){return Te()?{success:!1,message:"Not supported in pywebview mode"}:Lx(e,r)}async function o0(e,r){return Te()?{success:!1,message:"Not supported in pywebview mode"}:Rx(e,r)}async function ad(){return Te()?{status:"error",error:"Not supported in pywebview mode"}:dx()}const Sa="task-mind-sidebar-collapsed",js="task-mind-console-session",An="task-mind-console-messages",ka="task-mind-console-running";function a0(){const e=window.location.hash.slice(1);if(!e)return{page:"tasks"};const[r,n]=e.split("/");return{page:r,id:n}}function l0(){return Math.random().toString(36).substring(2,9)}function xi(e){document.documentElement.setAttribute("data-theme",e),document.documentElement.style.colorScheme=e;try{localStorage.setItem("theme",e)}catch{}}function c0(){try{return localStorage.getItem(Sa)==="true"}catch{return!1}}function u0(){try{const e=localStorage.getItem(js),r=localStorage.getItem(An),n=localStorage.getItem(ka);return{consoleSessionId:e||null,consoleMessages:r?JSON.parse(r):[],consoleIsRunning:n==="true"}}catch{return{consoleSessionId:null,consoleMessages:[],consoleIsRunning:!1}}}const Je=pv((e,r)=>{const n=a0();return{currentPage:n.page,currentTaskId:n.page==="task_detail"?n.id??null:null,currentRecipeName:n.page==="recipe_detail"?n.id??null:null,currentProjectId:n.page==="project_detail"?n.id??null:null,sidebarCollapsed:c0(),config:null,tasks:[],taskDetail:null,recipes:[],communityRecipes:[],skills:[],systemStatus:null,isLoading:!1,toasts:[],dataVersion:0,dataInitialized:!1,...u0(),consoleScrollPosition:0,switchPage:(s,a)=>{const h=a?`#${s}/${a}`:`#${s}`;window.history.pushState(null,"",h),e({currentPage:s,currentTaskId:s==="task_detail"?a??null:null,currentRecipeName:s==="recipe_detail"?a??null:null,currentProjectId:s==="project_detail"?a??null:null,taskDetail:s!=="task_detail"?null:r().taskDetail})},toggleSidebar:()=>{const s=!r().sidebarCollapsed;e({sidebarCollapsed:s});try{localStorage.setItem(Sa,String(s))}catch{}},setSidebarCollapsed:s=>{e({sidebarCollapsed:s});try{localStorage.setItem(Sa,String(s))}catch{}},setTheme:s=>{console.log("[Theme] setTheme called with:",s),xi(s);const a=r().config;a?(e({config:{...a,theme:s}}),Ns({theme:s}).then(h=>{console.log("[Theme] updateConfig result:",h)}).catch(h=>{console.error("[Theme] updateConfig failed:",h)})):console.warn("[Theme] config is null, cannot persist theme")},setLanguage:s=>{console.log("[Language] setLanguage called with:",s),ut.changeLanguage(s);const a=r().config;a?(e({config:{...a,language:s}}),Ns({language:s}).then(h=>{console.log("[Language] updateConfig result:",h)}).catch(h=>{console.error("[Language] updateConfig failed:",h)})):console.warn("[Language] config is null, cannot persist language")},loadConfig:async()=>{try{console.log("[Config] Loading config from backend...");const s=await zx();console.log("[Config] Loaded:",s),e({config:s});let a=null;try{const f=localStorage.getItem("theme");(f==="dark"||f==="light")&&(a=f)}catch{}a&&a!==s.theme?(console.log("[Config] Syncing localStorage theme to backend:",a),xi(a),Ns({theme:a}).catch(f=>{console.error("[Config] Failed to sync theme to backend:",f)})):xi(s.theme);const h=s.language||"en";ut.language!==h&&(console.log("[Config] Syncing i18n language:",h),ut.changeLanguage(h))}catch(s){console.error("[Config] Failed to load config:",s)}},loadTasks:async()=>{try{const s=r().config,a=(s==null?void 0:s.ai_title_enabled)??!1,h=await Dx({generateTitles:a});e({tasks:h||[]})}catch(s){console.error("Failed to load tasks:",s)}},openTaskDetail:async s=>{e({isLoading:!0,currentPage:"task_detail",currentTaskId:s});try{const a=await _a(s,0,0);e({taskDetail:a,isLoading:!1})}catch(a){console.error("Failed to load task detail:",a),e({isLoading:!1}),r().showToast("Failed to load task details","error")}},setTaskDetail:s=>{e({taskDetail:s})},loadRecipes:async()=>{try{const s=await Mx();e({recipes:s})}catch(s){console.error("Failed to load recipes:",s)}},loadSkills:async()=>{try{const s=await Fx();e({skills:s})}catch(s){console.error("Failed to load skills:",s)}},loadSystemStatus:async()=>{try{const s=await Hx();e({systemStatus:s})}catch(s){console.error("Failed to load system status:",s)}},updateConfig:async s=>{const a=r().config;if(!a)return;const h={...a,...s};e({config:h});try{await Ns(s),s.theme&&xi(s.theme)}catch(f){console.error("Failed to update config:",f),e({config:a}),r().showToast("Failed to save settings","error")}},showToast:(s,a)=>{const h=l0();e(f=>({toasts:[...f.toasts,{id:h,message:s,type:a}]})),setTimeout(()=>{r().dismissToast(h)},3e3)},dismissToast:s=>{e(a=>({toasts:a.toasts.filter(h=>h.id!==s)}))},setTasks:s=>{e({tasks:s})},removeTask:s=>{e(a=>({tasks:a.tasks.filter(h=>h.session_id!==s)}))},setRecipes:s=>{e({recipes:s})},setCommunityRecipes:s=>{e({communityRecipes:s})},setSkills:s=>{e({skills:s})},loadCommunityRecipes:async()=>{try{const s=await Zx();e({communityRecipes:s})}catch(s){console.error("Failed to load community recipes:",s)}},setDataFromPush:s=>{const a=r().dataVersion,h=s.version??a+1;if(h<a){console.log("[DataSync] Ignoring older data version",h,"<",a);return}const f={dataVersion:h,dataInitialized:!0};s.tasks&&(f.tasks=s.tasks.tasks),s.recipes&&(f.recipes=s.recipes),s.communityRecipes&&(f.communityRecipes=s.communityRecipes),s.skills&&(f.skills=s.skills),console.log("[DataSync] Applying pushed data, version:",h),e(f)},setConsoleSessionId:s=>{e({consoleSessionId:s});try{s?localStorage.setItem(js,s):localStorage.removeItem(js)}catch{}},addConsoleMessage:s=>{e(a=>{const h=[...a.consoleMessages,s];try{localStorage.setItem(An,JSON.stringify(h))}catch{}return{consoleMessages:h}})},updateLastConsoleMessage:s=>{e(a=>{const h=a.consoleMessages;if(h.length===0)return a;const f=h[h.length-1],o=[...h.slice(0,-1),{...f,...s}];try{localStorage.setItem(An,JSON.stringify(o))}catch{}return{consoleMessages:o}})},updateConsoleMessageByToolCallId:(s,a)=>{e(h=>{const f=h.consoleMessages.map(o=>o.tool_call_id===s?{...o,...a}:o);try{localStorage.setItem(An,JSON.stringify(f))}catch{}return{consoleMessages:f}})},setConsoleMessages:s=>{e({consoleMessages:s});try{localStorage.setItem(An,JSON.stringify(s))}catch{}},setConsoleIsRunning:s=>{e({consoleIsRunning:s});try{localStorage.setItem(ka,String(s))}catch{}},setConsoleScrollPosition:s=>{e({consoleScrollPosition:s})},clearConsole:()=>{e({consoleSessionId:null,consoleMessages:[],consoleIsRunning:!1,consoleScrollPosition:0});try{localStorage.removeItem(js),localStorage.removeItem(An),localStorage.removeItem(ka)}catch{}}}}),Ot={PING:"ping",DATA_INITIAL:"data_initial",DATA_TASKS:"data_tasks",DATA_DASHBOARD:"data_dashboard",DATA_RECIPES:"data_recipes",DATA_SKILLS:"data_skills",DATA_COMMUNITY_RECIPES:"data_community_recipes"};class d0{constructor(r={}){fr(this,"ws",null);fr(this,"url");fr(this,"options");fr(this,"messageHandlers",new Map);fr(this,"onConnectHandlers",new Set);fr(this,"onDisconnectHandlers",new Set);fr(this,"reconnectAttempts",0);fr(this,"reconnectTimer",null);fr(this,"pingTimer",null);fr(this,"isConnecting",!1);const n=window.location.protocol==="https:"?"wss:":"ws:",s=window.location.host;this.url=`${n}//${s}/ws`,this.options={autoReconnect:r.autoReconnect??!0,reconnectDelay:r.reconnectDelay??1e3,maxReconnectDelay:r.maxReconnectDelay??3e4,pingInterval:r.pingInterval??3e4}}connect(){var r;if(!(((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN||this.isConnecting)){this.isConnecting=!0,console.log("[WebSocket] Connecting to",this.url);try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("[WebSocket] Connected"),this.isConnecting=!1,this.reconnectAttempts=0,this.startPingTimer(),this.onConnectHandlers.forEach(n=>n())},this.ws.onclose=n=>{console.log("[WebSocket] Disconnected",n.code,n.reason),this.isConnecting=!1,this.stopPingTimer(),this.onDisconnectHandlers.forEach(s=>s()),this.options.autoReconnect&&this.scheduleReconnect()},this.ws.onerror=n=>{console.error("[WebSocket] Error:",n),this.isConnecting=!1},this.ws.onmessage=n=>{try{const s=JSON.parse(n.data);this.handleMessage(s)}catch(s){console.error("[WebSocket] Failed to parse message:",s)}}}catch(n){console.error("[WebSocket] Failed to create connection:",n),this.isConnecting=!1,this.options.autoReconnect&&this.scheduleReconnect()}}}disconnect(){this.options.autoReconnect=!1,this.stopPingTimer(),this.clearReconnectTimer(),this.ws&&(this.ws.close(),this.ws=null)}get isConnected(){var r;return((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN}on(r,n){const s=r;return this.messageHandlers.has(s)||this.messageHandlers.set(s,new Set),this.messageHandlers.get(s).add(n),()=>{var a;(a=this.messageHandlers.get(s))==null||a.delete(n)}}onConnect(r){return this.onConnectHandlers.add(r),()=>this.onConnectHandlers.delete(r)}onDisconnect(r){return this.onDisconnectHandlers.add(r),()=>this.onDisconnectHandlers.delete(r)}send(r){var n;((n=this.ws)==null?void 0:n.readyState)===WebSocket.OPEN&&this.ws.send(JSON.stringify(r))}handleMessage(r){const n=this.messageHandlers.get(r.type);n==null||n.forEach(a=>{try{a(r)}catch(h){console.error("[WebSocket] Handler error:",h)}});const s=this.messageHandlers.get("*");s==null||s.forEach(a=>{try{a(r)}catch(h){console.error("[WebSocket] Wildcard handler error:",h)}})}scheduleReconnect(){this.clearReconnectTimer();const r=Math.min(this.options.reconnectDelay*Math.pow(2,this.reconnectAttempts),this.options.maxReconnectDelay);console.log(`[WebSocket] Reconnecting in ${r}ms (attempt ${this.reconnectAttempts+1})`),this.reconnectTimer=setTimeout(()=>{this.reconnectAttempts++,this.connect()},r)}clearReconnectTimer(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}startPingTimer(){this.stopPingTimer(),this.pingTimer=setInterval(()=>{this.send({type:Ot.PING})},this.options.pingInterval)}stopPingTimer(){this.pingTimer&&(clearInterval(this.pingTimer),this.pingTimer=null)}}let Ca=null;function Ls(){return Ca||(Ca=new d0),Ca}function ld(){var e;(e=window.pywebview)!=null&&e.api||Ls().connect()}function cd(e={}){const{autoConnect:r=!0,messageTypes:n,onMessage:s}=e,[a,h]=J.useState(!1),[f,o]=J.useState(null),u=J.useRef(s);J.useEffect(()=>{u.current=s},[s]),J.useEffect(()=>{if(Dn()!=="http")return;const b=Ls(),w=b.onConnect(()=>{h(!0)}),k=b.onDisconnect(()=>{h(!1)}),C=[];if(n&&n.length>0)n.forEach(m=>{const x=b.on(m,_=>{var y;o(_),(y=u.current)==null||y.call(u,_)});C.push(x)});else{const m=b.on("*",x=>{var _;o(x),(_=u.current)==null||_.call(u,x)});C.push(m)}return r&&(ld(),h(b.isConnected)),()=>{w(),k(),C.forEach(m=>m())}},[r,n]);const p=J.useCallback(()=>{Dn()==="http"&&ld()},[]),v=J.useCallback(()=>{Dn()==="http"&&Ls().disconnect()},[]),d=J.useCallback(b=>{Dn()==="http"&&Ls().send(b)},[]);return{isConnected:a,lastMessage:f,connect:p,disconnect:v,send:d}}function ud(e){return{session_id:e.id,name:e.title,status:e.status,started_at:e.started_at||"",ended_at:e.completed_at||null,duration_ms:e.duration_ms??0,step_count:e.step_count??0,tool_call_count:e.tool_call_count??0,last_activity:e.started_at||"",project_path:e.project_path??"",source:e.source??"unknown",is_invalid:e.is_invalid}}function dd(e){return{name:e.name,description:e.description??null,category:e.category??"atomic",icon:e.icon??null,tags:e.tags??[],path:e.path??null,source:e.source??null,runtime:e.runtime??null}}function hd(e){return{name:e.name,description:e.description??null,icon:e.icon??null,file_path:e.file_path??""}}function fd(e){return{name:e.name,url:e.url,description:e.description??null,version:e.version??null,type:e.type??"atomic",runtime:e.runtime??null,tags:e.tags??[],installed:e.installed??!1,installed_version:e.installed_version??null,has_update:e.has_update??!1}}function h0(){const e=Je(u=>u.setDataFromPush),r=Je(u=>u.setTasks),n=Je(u=>u.setRecipes),s=Je(u=>u.setSkills),a=Je(u=>u.setCommunityRecipes),h=J.useCallback(u=>{var p;switch(u.type){case Ot.DATA_INITIAL:{const v=u.data;if(console.log("[useDataSync] Received initial data, version:",v==null?void 0:v.version),v){const d=v.tasks?{tasks:v.tasks.tasks.map(ud),total:v.tasks.total}:void 0,b=v.recipes?v.recipes.map(dd):void 0,w=v.skills?v.skills.map(hd):void 0,k=v.community_recipes?v.community_recipes.map(fd):void 0;e({version:v.version,tasks:d,recipes:b,skills:w,communityRecipes:k})}break}case Ot.DATA_TASKS:{const v=u.data;if(console.log("[useDataSync] Received tasks update"),(p=v==null?void 0:v.data)!=null&&p.tasks){const d={tasks:v.data.tasks.map(ud),total:v.data.total};e({version:v.version,tasks:d})}break}case Ot.DATA_DASHBOARD:{console.log("[useDataSync] Received dashboard update");break}case Ot.DATA_RECIPES:{const v=u.data;if(console.log("[useDataSync] Received recipes update"),v!=null&&v.data){const d=v.data.map(dd);n(d)}break}case Ot.DATA_SKILLS:{const v=u.data;if(console.log("[useDataSync] Received skills update"),v!=null&&v.data){const d=v.data.map(hd);s(d)}break}case Ot.DATA_COMMUNITY_RECIPES:{const v=u.data;if(console.log("[useDataSync] Received community recipes update"),v!=null&&v.data){const d=v.data.map(fd);a(d)}break}}},[e,r,n,s,a]),{isConnected:f}=cd({messageTypes:[Ot.DATA_INITIAL,Ot.DATA_TASKS,Ot.DATA_DASHBOARD,Ot.DATA_RECIPES,Ot.DATA_SKILLS,Ot.DATA_COMMUNITY_RECIPES],onMessage:h}),o=Je(u=>u.loadTasks);return J.useEffect(()=>{f&&(console.log("[useDataSync] WebSocket connected, refreshing data..."),o())},[f,o]),{isConnected:f}}/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p0=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,s)=>s?s.toUpperCase():n.toLowerCase()),pd=e=>{const r=p0(e);return r.charAt(0).toUpperCase()+r.slice(1)},md=(...e)=>e.filter((r,n,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===n).join(" ").trim(),m0=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=J.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:h,iconNode:f,...o},u)=>J.createElement("svg",{ref:u,...g0,width:r,height:r,stroke:e,strokeWidth:s?Number(n)*24/Number(r):n,className:md("lucide",a),...!h&&!m0(o)&&{"aria-hidden":"true"},...o},[...f.map(([p,v])=>J.createElement(p,v)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,r)=>{const n=J.forwardRef(({className:s,...a},h)=>J.createElement(v0,{ref:h,iconNode:r,className:md(`lucide-${f0(pd(e))}`,`lucide-${e}`,s),...a}));return n.displayName=pd(e),n};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ge("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ge("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ge("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ge("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ge("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ge("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ge("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ge("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ge("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ge("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ge("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ge("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ge("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ge("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ge("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ge("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ge("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ge("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ge("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=ge("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=ge("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ge("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ge("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=ge("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ge("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ge("file-braces",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ge("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ge("file-pen",[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ge("file-plus",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=ge("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=ge("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ge("folder-git-2",[["path",{d:"M18 19a5 5 0 0 1-5-5v8",key:"sz5oeg"}],["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5",key:"1w6njk"}],["circle",{cx:"13",cy:"12",r:"2",key:"1j92g6"}],["circle",{cx:"20",cy:"19",r:"2",key:"1obnsp"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ge("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ge("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ge("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ge("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ge("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ge("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ge("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ge("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ge("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ge("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ge("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ge("list-todo",[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=ge("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ge("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ge("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=ge("message-square-plus",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=ge("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ge("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=ge("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=ge("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ge("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=ge("party-popper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ge("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=ge("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=ge("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ge("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ge("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=ge("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ge("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ge("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ge("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=ge("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=ge("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ge("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ge("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ge("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=ge("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=ge("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=ge("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=ge("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ge("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ge("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ge("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ry=()=>c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),c.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),c.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),c.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),ny=()=>c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M9 11l3 3L22 4"}),c.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),iy=()=>c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),c.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}),c.jsx("line",{x1:"8",y1:"7",x2:"16",y2:"7"}),c.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),sy=()=>c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),oy=()=>c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("polyline",{points:"4 17 10 11 4 5"}),c.jsx("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]}),ay=()=>c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.66 0 3-4.03 3-9s-1.34-9-3-9m0 18c-1.66 0-3-4.03-3-9s1.34-9 3-9m-9 9a9 9 0 0 1 9-9"})}),ly=()=>c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})}),cy=()=>c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"3"}),c.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),uy=()=>c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),dy=({collapsed:e})=>c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`collapse-icon ${e?"collapsed":""}`,children:c.jsx("polyline",{points:"15 18 9 12 15 6"})}),hy=[{id:"dashboard",labelKey:"sidebar.dashboard",icon:c.jsx(ry,{})},{id:"console",labelKey:"sidebar.console",icon:c.jsx(oy,{})},{id:"tasks",labelKey:"sidebar.tasks",icon:c.jsx(ny,{})},{id:"recipes",labelKey:"sidebar.recipes",icon:c.jsx(iy,{})},{id:"skills",labelKey:"sidebar.skills",icon:c.jsx(sy,{})},{id:"workspace",labelKey:"sidebar.workspace",icon:c.jsx(uy,{})},{id:"sync",labelKey:"sidebar.sync",icon:c.jsx(ay,{})},{id:"secrets",labelKey:"sidebar.secrets",icon:c.jsx(ly,{})},{id:"settings",labelKey:"sidebar.settings",icon:c.jsx(cy,{})}],fy=768;function py(){const{t:e}=Ue(),{currentPage:r,sidebarCollapsed:n,switchPage:s,toggleSidebar:a,setSidebarCollapsed:h,config:f,setTheme:o}=Je();J.useEffect(()=>{const p=()=>{window.innerWidth<fy&&h(!0)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[h]);const u=p=>r===p||p==="tasks"&&r==="task_detail"||p==="recipes"&&r==="recipe_detail"||p==="workspace"&&r==="project_detail";return c.jsxs("aside",{className:`sidebar ${n?"collapsed":""}`,children:[c.jsxs("div",{className:"sidebar-header",children:[c.jsx("div",{className:"sidebar-logo",children:"F"}),!n&&c.jsx("span",{className:"sidebar-title",children:"task-mind"})]}),c.jsx("nav",{className:"sidebar-nav",children:hy.map(p=>{const v=u(p.id),d=e(p.labelKey);return c.jsxs("button",{type:"button",onClick:()=>s(p.id),title:n?d:void 0,className:`sidebar-menu-item ${v?"active":""}`,children:[c.jsx("span",{className:"sidebar-menu-icon",children:p.icon}),!n&&c.jsx("span",{className:"sidebar-menu-label",children:d})]},p.id)})}),c.jsxs("div",{className:"sidebar-footer",children:[c.jsx("button",{type:"button",onClick:()=>o((f==null?void 0:f.theme)==="dark"?"light":"dark"),title:(f==null?void 0:f.theme)==="dark"?e("sidebar.theme.switchToLight"):e("sidebar.theme.switchToDark"),className:"sidebar-footer-btn",children:(f==null?void 0:f.theme)==="dark"?c.jsx(X0,{size:16}):c.jsx(U0,{size:16})}),c.jsx("button",{type:"button",onClick:a,title:e(n?"sidebar.collapse.expand":"sidebar.collapse.collapse"),className:"sidebar-footer-btn",children:c.jsx(dy,{collapsed:n})})]})]})}function my({showLabel:e=!1,className:r=""}){const{isConnected:n}=cd({autoConnect:!0});return Dn()==="pywebview"?null:c.jsx("div",{className:`flex items-center gap-1.5 ${r}`,title:n?"Connected to server":"Disconnected from server",children:n?c.jsxs(c.Fragment,{children:[c.jsx(ty,{size:14,className:"text-green-500"}),e&&c.jsx("span",{className:"text-xs text-green-500",children:"Server"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ey,{size:14,className:"text-red-500"}),e&&c.jsx("span",{className:"text-xs text-red-500",children:"Offline"})]})})}function gy(){const{systemStatus:e,loadSystemStatus:r,config:n}=Je();return J.useEffect(()=>{r();const s=setInterval(()=>{r()},15e3);return()=>clearInterval(s)},[r]),c.jsx("div",{className:"status-bar",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(my,{showLabel:!0}),(n==null?void 0:n.show_system_status)&&e&&c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"text-xs",children:["CPU: ",e.cpu_percent.toFixed(1),"%"]}),c.jsxs("span",{className:"text-xs",children:["Memory: ",e.memory_percent.toFixed(1),"%"]})]}),c.jsxs("span",{className:`text-xs ${e!=null&&e.chrome_connected?"text-[var(--accent-success)]":"text-[var(--text-muted)]"}`,children:["Chrome: ",e!=null&&e.chrome_connected?"Ready":"Off"]})]})})}function vy({children:e}){return c.jsxs("div",{className:"main-layout",children:[c.jsx(py,{}),c.jsxs("div",{className:"content-area",children:[c.jsx("main",{className:"main-content",children:e}),c.jsx(gy,{})]})]})}function xy(e){if(e<60)return`${Math.floor(e)}s`;if(e<3600)return`${Math.floor(e/60)}m`;const r=Math.floor(e/3600),n=Math.floor(e%3600/60);return`${r}h ${n}m`}function Nd(e){return new Date(e).getHours().toString().padStart(2,"0")+":00"}function yy({data:e,height:r=200}){const n={top:20,right:20,bottom:40,left:45},s=900,a=s-n.left-n.right,h=r-n.top-n.bottom,f=Math.max(1,...e.map(d=>d.session_count)),o=[0,Math.ceil(f/2),f],u=e.map((d,b)=>{const w=n.left+b/(e.length-1)*a,k=n.top+h-d.session_count/f*h;return{x:w,y:k,data:d}}),p=u.map((d,b)=>`${b===0?"M":"L"} ${d.x} ${d.y}`).join(" "),v=`${p} L ${u[u.length-1].x} ${n.top+h} L ${u[0].x} ${n.top+h} Z`;return c.jsxs("svg",{viewBox:`0 0 ${s} ${r}`,className:"activity-line-chart",preserveAspectRatio:"none",children:[o.map(d=>{const b=n.top+h-d/f*h;return c.jsxs("g",{children:[c.jsx("line",{x1:n.left,y1:b,x2:s-n.right,y2:b,className:"chart-grid-line"}),c.jsx("text",{x:n.left-10,y:b+4,className:"chart-axis-label",textAnchor:"end",children:d})]},d)}),c.jsx("line",{x1:n.left,y1:n.top+h,x2:s-n.right,y2:n.top+h,className:"chart-axis-line"}),c.jsx("line",{x1:n.left,y1:n.top,x2:n.left,y2:n.top+h,className:"chart-axis-line"}),c.jsx("path",{d:v,className:"chart-area"}),c.jsx("path",{d:p,className:"chart-line",fill:"none"}),u.map((d,b)=>c.jsxs("g",{children:[c.jsx("text",{x:d.x,y:n.top+h+25,className:"chart-axis-label",textAnchor:"middle",children:Nd(d.data.hour)}),c.jsx("circle",{cx:d.x,cy:d.y,r:4,className:"chart-point"}),c.jsx("title",{children:`${Nd(d.data.hour)}: ${d.data.session_count} sessions, ${d.data.tool_call_count} tool calls`})]},b)),c.jsx("text",{x:15,y:n.top+h/2,className:"chart-axis-title",textAnchor:"middle",transform:`rotate(-90, 15, ${n.top+h/2})`,children:"Sessions"})]})}function _y(){const{t:e}=Ue(),{switchPage:r}=Je(),[n,s]=J.useState(null),[a,h]=J.useState(!0);return J.useEffect(()=>{const f=async()=>{try{const u=await Qx();s(u)}catch(u){console.error("Failed to fetch dashboard data:",u)}finally{h(!1)}};f();const o=setInterval(f,6e4);return()=>clearInterval(o)},[]),a?c.jsx("div",{className:"page-scroll dashboard-loading",children:c.jsx("div",{className:"spinner"})}):c.jsxs("div",{className:"page-scroll dashboard-container",children:[c.jsxs("div",{className:"dashboard-header",children:[c.jsx("h1",{children:e("dashboard.title")}),c.jsx("p",{children:e("dashboard.pageDesc")})]}),c.jsxs("div",{className:"dashboard-stats-grid",children:[c.jsxs("div",{className:"dashboard-card",children:[c.jsxs("div",{className:"dashboard-card-icon-wrapper",children:[c.jsx("div",{className:`dashboard-card-icon ${n!=null&&n.server.running?"success":"error"}`,children:c.jsx(G0,{size:20,className:n!=null&&n.server.running?"text-success":"text-error"})}),c.jsx("span",{className:"dashboard-card-icon-label",children:e("dashboard.server")})]}),c.jsx("div",{className:"dashboard-card-value",children:n!=null&&n.server.running?e("dashboard.online"):e("dashboard.offline")}),c.jsxs("div",{className:"dashboard-card-label",children:[c.jsx(Rs,{size:12}),n!=null&&n.server.uptime_seconds?xy(n.server.uptime_seconds):"--"]})]}),c.jsxs("div",{className:"dashboard-card clickable",onClick:()=>r("tasks"),children:[c.jsxs("div",{className:"dashboard-card-icon-wrapper",children:[c.jsx("div",{className:"dashboard-card-icon info",children:c.jsx(O0,{size:20,className:"text-info"})}),c.jsx("span",{className:"dashboard-card-icon-label",children:e("dashboard.tasks")})]}),c.jsx("div",{className:"dashboard-card-value",children:(n==null?void 0:n.resource_counts.tasks)??0})]}),c.jsxs("div",{className:"dashboard-card clickable",onClick:()=>r("recipes"),children:[c.jsxs("div",{className:"dashboard-card-icon-wrapper",children:[c.jsx("div",{className:"dashboard-card-icon warning",children:c.jsx(Na,{size:20,className:"text-warning"})}),c.jsx("span",{className:"dashboard-card-icon-label",children:e("dashboard.recipes")})]}),c.jsx("div",{className:"dashboard-card-value",children:(n==null?void 0:n.resource_counts.recipes)??0})]}),c.jsxs("div",{className:"dashboard-card clickable",onClick:()=>r("skills"),children:[c.jsxs("div",{className:"dashboard-card-icon-wrapper",children:[c.jsx("div",{className:"dashboard-card-icon purple",children:c.jsx(Aa,{size:20,className:"text-purple"})}),c.jsx("span",{className:"dashboard-card-icon-label",children:e("dashboard.skills")})]}),c.jsx("div",{className:"dashboard-card-value",children:(n==null?void 0:n.resource_counts.skills)??0})]})]}),c.jsxs("div",{className:"dashboard-card dashboard-card-full",children:[c.jsxs("div",{className:"dashboard-section-header",children:[c.jsxs("h2",{className:"dashboard-section-title",children:[c.jsx(gd,{size:18}),e("dashboard.activityOverview")]}),c.jsxs("button",{type:"button",onClick:()=>r("tasks"),className:"dashboard-view-all-btn",children:[e("dashboard.viewAll")," ",c.jsx(dn,{size:14})]})]}),n!=null&&n.activity_overview&&n.activity_overview.hourly_distribution.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"activity-chart-container",children:c.jsx(yy,{data:n.activity_overview.hourly_distribution,height:220})}),c.jsxs("div",{className:"activity-stats-grid",children:[c.jsxs("div",{className:"activity-stat",children:[c.jsx(Rs,{size:16,className:"text-info"}),c.jsx("span",{className:"activity-stat-value",children:n.activity_overview.stats.total_sessions}),c.jsx("span",{className:"activity-stat-label",children:e("dashboard.sessions")})]}),c.jsxs("div",{className:"activity-stat",children:[c.jsx(As,{size:16,className:"text-warning"}),c.jsx("span",{className:"activity-stat-value",children:n.activity_overview.stats.total_tool_calls}),c.jsx("span",{className:"activity-stat-label",children:e("dashboard.toolCalls")})]}),c.jsxs("div",{className:"activity-stat",children:[c.jsx(Bt,{size:16,className:"text-success"}),c.jsx("span",{className:"activity-stat-value",children:n.activity_overview.stats.completed_sessions}),c.jsx("span",{className:"activity-stat-label",children:e("dashboard.completed")})]}),n.activity_overview.stats.running_sessions>0&&c.jsxs("div",{className:"activity-stat",children:[c.jsx(gd,{size:16,className:"text-warning"}),c.jsx("span",{className:"activity-stat-value",children:n.activity_overview.stats.running_sessions}),c.jsx("span",{className:"activity-stat-label",children:e("dashboard.running")})]}),n.activity_overview.stats.error_sessions>0&&c.jsxs("div",{className:"activity-stat",children:[c.jsx(_i,{size:16,className:"text-error"}),c.jsx("span",{className:"activity-stat-value",children:n.activity_overview.stats.error_sessions}),c.jsx("span",{className:"activity-stat-label",children:e("dashboard.errors")})]})]})]}):c.jsx("div",{className:"dashboard-empty",children:e("dashboard.noActivityData")})]})]})}function by(e,r,n=!0){const s=J.useRef(e),a=J.useRef(null);J.useEffect(()=>{s.current=e},[e]);const h=J.useCallback(()=>{s.current()},[]);return J.useEffect(()=>{if(!n){a.current&&(clearInterval(a.current),a.current=null);return}return s.current(),a.current=setInterval(()=>{s.current()},r),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[r,n]),{trigger:h}}function wy(e=3e4){const{tasks:r,taskDetail:n,isLoading:s,loadTasks:a,openTaskDetail:h,currentPage:f,dataInitialized:o}=Je(),u=f==="tasks"&&!o,{trigger:p}=by(a,e,u),v=J.useCallback(d=>{h(d)},[h]);return{tasks:r,taskDetail:n,isLoading:s,refresh:p,viewDetail:v}}function Sy(e){const r=new Date(e),s=new Date().getTime()-r.getTime();return s<6e4?"just now":s<36e5?`${Math.floor(s/6e4)} min ago`:s<864e5?`${Math.floor(s/36e5)} hr ago`:r.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function ky(e){if(e<1e3)return"<1s";if(e<6e4)return`${Math.floor(e/1e3)}s`;const r=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return r<60?`${r}m ${n}s`:`${Math.floor(r/60)}h ${r%60}m`}const jd={running:{label:"Running",Icon:Aa},completed:{label:"Completed",Icon:jr},error:{label:"Error",Icon:fn},cancelled:{label:"Cancelled",Icon:xd}};function Cy({task:e,onClick:r,onDelete:n}){const{label:s,Icon:a}=jd[e.status]||jd.completed,h=e.status==="running";e.step_count<5&&console.log("TaskCard task:",e.session_id.slice(0,8),"is_invalid:",e.is_invalid,"step_count:",e.step_count);const f=o=>{o.stopPropagation(),n&&n(e.session_id)};return c.jsxs("div",{className:"task-card-v2",onClick:r,children:[c.jsx("div",{className:`task-status-badge ${e.status}`,children:c.jsx(a,{size:14})}),c.jsxs("div",{className:"task-main",children:[c.jsxs("div",{className:"task-header",children:[c.jsx("span",{className:"task-title",title:e.name,children:e.name}),e.is_invalid&&c.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",title:"",children:""}),c.jsx("span",{className:"task-time",children:Sy(e.started_at)})]}),h&&c.jsx("div",{className:"task-progress",children:c.jsx("div",{className:"task-progress-bar",children:c.jsx("div",{className:"task-progress-fill"})})}),c.jsxs("div",{className:"task-footer",children:[c.jsx("span",{className:`task-status-label status-${e.status}`,children:s}),c.jsxs("span",{className:"task-stat",children:[c.jsx(Rs,{size:11}),ky(e.duration_ms)]}),c.jsxs("span",{className:"task-stat",children:[c.jsx(bd,{size:11}),e.step_count," steps"]}),e.tool_call_count>0&&c.jsxs("span",{className:"task-stat",children:[c.jsx(As,{size:11}),e.tool_call_count," calls"]})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[n&&!h&&c.jsx("button",{onClick:f,className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Delete task",children:c.jsx(Ed,{size:16})}),c.jsx("div",{className:"task-arrow",children:c.jsx(dn,{size:20})})]})]})}function Is({Icon:e=A0,title:r,description:n}){return c.jsxs("div",{className:"empty-state",children:[c.jsx("div",{className:"empty-state-icon",children:c.jsx(e,{size:48,strokeWidth:1.5})}),c.jsx("div",{className:"empty-state-title",children:r}),n&&c.jsx("div",{className:"empty-state-description",children:n})]})}function Ld(){const{t:e}=Ue(),{tasks:r,viewDetail:n,refresh:s}=wy(),{config:a,updateConfig:h,showToast:f,removeTask:o}=Je(),[u,p]=J.useState(""),[v,d]=J.useState(""),[b,w]=J.useState("agent"),[k,C]=J.useState(!1),m=(a==null?void 0:a.ai_title_enabled)??!1,x=async()=>{const N=u.trim();if(!(!N||k)){C(!0);try{let D=N;b==="do"?D=`/task-mind.do ${N}`:b==="run"&&(D=`/task-mind.run ${N}`),(await Ax(D,v||void 0)).status==="ok"&&(p(""),s==null||s())}finally{C(!1)}}},_=N=>{N.key==="Enter"&&(N.ctrlKey||N.metaKey)&&(N.preventDefault(),x())},y=async()=>{try{const N=await ad();N.status==="ok"&&N.path?d(N.path):N.status==="error"&&f(N.error||"Failed to select directory","error")}catch(N){console.error("Directory selection failed:",N),f("Failed to select directory","error")}},E=async N=>{await h({ai_title_enabled:N}),s==null||s()},j=async N=>{if(confirm("? Claude Code ")){o(N),f("...","info");try{console.log("[TaskList] Deleting task:",N);const D=await Ix(N);console.log("[TaskList] Delete result:",D),D.status==="ok"?(f("","success"),setTimeout(()=>s==null?void 0:s(),1e3)):(f(D.error||"","error"),s==null||s())}catch(D){console.error("[TaskList] Delete task failed:",D),f("","error"),s==null||s()}}};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"flex items-center justify-end px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-gray-500 dark:text-gray-400",children:[c.jsx("input",{type:"checkbox",checked:m,onChange:N=>E(N.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500","aria-label":e("tasks.aiTitleToggle")}),c.jsx("span",{children:e("tasks.aiTitleToggle")})]})}),r.length===0?c.jsx(Is,{Icon:w0,title:e("tasks.noTasks"),description:e("tasks.noTasksDescription")}):c.jsx("div",{className:"page-scroll flex flex-col gap-2",children:r.map(N=>c.jsx(Cy,{task:N,onClick:()=>n(N.session_id),onDelete:j},N.session_id))}),c.jsxs("div",{className:"task-input-area",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border-b border-gray-200 dark:border-gray-700",children:[c.jsxs("select",{value:b,onChange:N=>w(N.target.value),className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"agent",children:"Agent (default)"}),c.jsx("option",{value:"do",children:"/task-mind.do (task executor)"}),c.jsx("option",{value:"run",children:"/task-mind.run (explorer)"})]}),c.jsxs("button",{onClick:y,className:"flex items-center gap-1.5 px-2 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors",children:[c.jsx(Pn,{size:16}),c.jsx("span",{children:v||e("tasks.selectProjectPath")||"Select project"})]}),v&&c.jsx("button",{onClick:()=>d(""),className:"text-xs text-gray-500 hover:text-red-600",children:""})]}),c.jsxs("div",{className:"task-input-wrapper",children:[c.jsx("textarea",{className:"task-input",placeholder:e("tasks.inputPlaceholder"),value:u,onChange:N=>p(N.target.value),onKeyDown:_}),c.jsx("button",{className:`task-input-btn ${u.trim()?"visible":""}`,onClick:x,disabled:k||!u.trim(),children:k?c.jsx("div",{className:"spinner"}):c.jsx(Ta,{size:16})})]})]})]})}function WN(){}function VN(){}function Ey(e,r){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Ny=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jy=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ly={};function Rd(e,r){return(Ly.jsx?jy:Ny).test(e)}const Ry=/[ \t\n\f\r]/g;function Ty(e){return typeof e=="object"?e.type==="text"?Td(e.value):!1:Td(e)}function Td(e){return e.replace(Ry,"")===""}class Si{constructor(r,n,s){this.normal=n,this.property=r,s&&(this.space=s)}}Si.prototype.normal={},Si.prototype.property={},Si.prototype.space=void 0;function Dd(e,r){const n={},s={};for(const a of e)Object.assign(n,a.property),Object.assign(s,a.normal);return new Si(n,s,r)}function Ia(e){return e.toLowerCase()}class Lt{constructor(r,n){this.attribute=n,this.property=r}}Lt.prototype.attribute="",Lt.prototype.booleanish=!1,Lt.prototype.boolean=!1,Lt.prototype.commaOrSpaceSeparated=!1,Lt.prototype.commaSeparated=!1,Lt.prototype.defined=!1,Lt.prototype.mustUseProperty=!1,Lt.prototype.number=!1,Lt.prototype.overloadedBoolean=!1,Lt.prototype.property="",Lt.prototype.spaceSeparated=!1,Lt.prototype.space=void 0;let Dy=0;const Ie=pn(),st=pn(),Pa=pn(),de=pn(),Ke=pn(),Mn=pn(),Ft=pn();function pn(){return 2**++Dy}const Ma=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ie,booleanish:st,commaOrSpaceSeparated:Ft,commaSeparated:Mn,number:de,overloadedBoolean:Pa,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),Oa=Object.keys(Ma);class Ba extends Lt{constructor(r,n,s,a){let h=-1;if(super(r,n),Ad(this,"space",a),typeof s=="number")for(;++h<Oa.length;){const f=Oa[h];Ad(this,Oa[h],(s&Ma[f])===Ma[f])}}}Ba.prototype.defined=!0;function Ad(e,r,n){n&&(e[r]=n)}function On(e){const r={},n={};for(const[s,a]of Object.entries(e.properties)){const h=new Ba(s,e.transform(e.attributes||{},s),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(h.mustUseProperty=!0),r[s]=h,n[Ia(s)]=s,n[Ia(h.attribute)]=s}return new Si(r,n,e.space)}const Id=On({properties:{ariaActiveDescendant:null,ariaAtomic:st,ariaAutoComplete:null,ariaBusy:st,ariaChecked:st,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:st,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:st,ariaFlowTo:Ke,ariaGrabbed:st,ariaHasPopup:null,ariaHidden:st,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:de,ariaLive:null,ariaModal:st,ariaMultiLine:st,ariaMultiSelectable:st,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:st,ariaReadOnly:st,ariaRelevant:null,ariaRequired:st,ariaRoleDescription:Ke,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:st,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()}});function Pd(e,r){return r in e?e[r]:r}function Md(e,r){return Pd(e,r.toLowerCase())}const Ay=On({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Mn,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:Ie,allowPaymentRequest:Ie,allowUserMedia:Ie,alt:null,as:null,async:Ie,autoCapitalize:null,autoComplete:Ke,autoFocus:Ie,autoPlay:Ie,blocking:Ke,capture:null,charSet:null,checked:Ie,cite:null,className:Ke,cols:de,colSpan:null,content:null,contentEditable:st,controls:Ie,controlsList:Ke,coords:de|Mn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ie,defer:Ie,dir:null,dirName:null,disabled:Ie,download:Pa,draggable:st,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ie,formTarget:null,headers:Ke,height:de,hidden:Pa,high:de,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:Ie,inputMode:null,integrity:null,is:null,isMap:Ie,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:Ie,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ie,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Ie,muted:Ie,name:null,nonce:null,noModule:Ie,noValidate:Ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ie,optimum:de,pattern:null,ping:Ke,placeholder:null,playsInline:Ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ie,referrerPolicy:null,rel:Ke,required:Ie,reversed:Ie,rows:de,rowSpan:de,sandbox:Ke,scope:null,scoped:Ie,seamless:Ie,selected:Ie,shadowRootClonable:Ie,shadowRootDelegatesFocus:Ie,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:st,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Ie,useMap:null,value:st,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ie,declare:Ie,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Ie,noHref:Ie,noShade:Ie,noWrap:Ie,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:st,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ie,disableRemotePlayback:Ie,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:Md}),Iy=On({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ft,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Mn,g2:Mn,glyphName:Mn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:Ft,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ft,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ft,rev:Ft,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ft,requiredFeatures:Ft,requiredFonts:Ft,requiredFormats:Ft,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:Ft,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ft,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ft,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Pd}),Od=On({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,r){return"xlink:"+r.slice(5).toLowerCase()}}),Bd=On({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Md}),Fd=On({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,r){return"xml:"+r.slice(3).toLowerCase()}}),Py={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},My=/[A-Z]/g,zd=/-[a-z]/g,Oy=/^data[-\w.:]+$/i;function By(e,r){const n=Ia(r);let s=r,a=Lt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Oy.test(r)){if(r.charAt(4)==="-"){const h=r.slice(5).replace(zd,zy);s="data"+h.charAt(0).toUpperCase()+h.slice(1)}else{const h=r.slice(4);if(!zd.test(h)){let f=h.replace(My,Fy);f.charAt(0)!=="-"&&(f="-"+f),r="data"+f}}a=Ba}return new a(s,r)}function Fy(e){return"-"+e.toLowerCase()}function zy(e){return e.charAt(1).toUpperCase()}const Hy=Dd([Id,Ay,Od,Bd,Fd],"html"),Fa=Dd([Id,Iy,Od,Bd,Fd],"svg");function $y(e){return e.join(" ").trim()}var Bn={},za,Hd;function Uy(){if(Hd)return za;Hd=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,h=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,f=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,p="/",v="*",d="",b="comment",w="declaration";function k(m,x){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];x=x||{};var _=1,y=1;function E(W){var q=W.match(r);q&&(_+=q.length);var ee=W.lastIndexOf(u);y=~ee?W.length-ee:y+W.length}function j(){var W={line:_,column:y};return function(q){return q.position=new N(W),A(),q}}function N(W){this.start=W,this.end={line:_,column:y},this.source=x.source}N.prototype.content=m;function D(W){var q=new Error(x.source+":"+_+":"+y+": "+W);if(q.reason=W,q.filename=x.source,q.line=_,q.column=y,q.source=m,!x.silent)throw q}function L(W){var q=W.exec(m);if(q){var ee=q[0];return E(ee),m=m.slice(ee.length),q}}function A(){L(n)}function P(W){var q;for(W=W||[];q=U();)q!==!1&&W.push(q);return W}function U(){var W=j();if(!(p!=m.charAt(0)||v!=m.charAt(1))){for(var q=2;d!=m.charAt(q)&&(v!=m.charAt(q)||p!=m.charAt(q+1));)++q;if(q+=2,d===m.charAt(q-1))return D("End of comment missing");var ee=m.slice(2,q-2);return y+=2,E(ee),m=m.slice(q),y+=2,W({type:b,comment:ee})}}function F(){var W=j(),q=L(s);if(q){if(U(),!L(a))return D("property missing ':'");var ee=L(h),G=W({type:w,property:C(q[0].replace(e,d)),value:ee?C(ee[0].replace(e,d)):d});return L(f),G}}function $(){var W=[];P(W);for(var q;q=F();)q!==!1&&(W.push(q),P(W));return W}return A(),$()}function C(m){return m?m.replace(o,d):d}return za=k,za}var $d;function Wy(){if($d)return Bn;$d=1;var e=Bn&&Bn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.default=n;const r=e(Uy());function n(s,a){let h=null;if(!s||typeof s!="string")return h;const f=(0,r.default)(s),o=typeof a=="function";return f.forEach(u=>{if(u.type!=="declaration")return;const{property:p,value:v}=u;o?a(p,v,u):v&&(h=h||{},h[p]=v)}),h}return Bn}var ki={},Ud;function Vy(){if(Ud)return ki;Ud=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,r=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,h=function(p){return!p||n.test(p)||e.test(p)},f=function(p,v){return v.toUpperCase()},o=function(p,v){return"".concat(v,"-")},u=function(p,v){return v===void 0&&(v={}),h(p)?p:(p=p.toLowerCase(),v.reactCompat?p=p.replace(a,o):p=p.replace(s,o),p.replace(r,f))};return ki.camelCase=u,ki}var Ci,Wd;function Ky(){if(Wd)return Ci;Wd=1;var e=Ci&&Ci.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},r=e(Wy()),n=Vy();function s(a,h){var f={};return!a||typeof a!="string"||(0,r.default)(a,function(o,u){o&&u&&(f[(0,n.camelCase)(o,h)]=u)}),f}return s.default=s,Ci=s,Ci}var qy=Ky();const Gy=rr(qy),Vd=Kd("end"),Ha=Kd("start");function Kd(e){return r;function r(n){const s=n&&n.position&&n.position[e]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function Yy(e){const r=Ha(e),n=Vd(e);if(r&&n)return{start:r,end:n}}function Ei(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?qd(e.position):"start"in e||"end"in e?qd(e):"line"in e||"column"in e?$a(e):""}function $a(e){return Gd(e&&e.line)+":"+Gd(e&&e.column)}function qd(e){return $a(e&&e.start)+"-"+$a(e&&e.end)}function Gd(e){return e&&typeof e=="number"?e:1}class xt extends Error{constructor(r,n,s){super(),typeof n=="string"&&(s=n,n=void 0);let a="",h={},f=!1;if(n&&("line"in n&&"column"in n?h={place:n}:"start"in n&&"end"in n?h={place:n}:"type"in n?h={ancestors:[n],place:n.position}:h={...n}),typeof r=="string"?a=r:!h.cause&&r&&(f=!0,a=r.message,h.cause=r),!h.ruleId&&!h.source&&typeof s=="string"){const u=s.indexOf(":");u===-1?h.ruleId=s:(h.source=s.slice(0,u),h.ruleId=s.slice(u+1))}if(!h.place&&h.ancestors&&h.ancestors){const u=h.ancestors[h.ancestors.length-1];u&&(h.place=u.position)}const o=h.place&&"start"in h.place?h.place.start:h.place;this.ancestors=h.ancestors||void 0,this.cause=h.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=Ei(h.place)||"1:1",this.place=h.place||void 0,this.reason=this.message,this.ruleId=h.ruleId||void 0,this.source=h.source||void 0,this.stack=f&&h.cause&&typeof h.cause.stack=="string"?h.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}xt.prototype.file="",xt.prototype.name="",xt.prototype.reason="",xt.prototype.message="",xt.prototype.stack="",xt.prototype.column=void 0,xt.prototype.line=void 0,xt.prototype.ancestors=void 0,xt.prototype.cause=void 0,xt.prototype.fatal=void 0,xt.prototype.place=void 0,xt.prototype.ruleId=void 0,xt.prototype.source=void 0;const Ua={}.hasOwnProperty,Xy=new Map,Jy=/[A-Z]/g,Qy=new Set(["table","tbody","thead","tfoot","tr"]),Zy=new Set(["td","th"]),Yd="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function e_(e,r){if(!r||r.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=r.filePath||void 0;let s;if(r.development){if(typeof r.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=l_(n,r.jsxDEV)}else{if(typeof r.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof r.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=a_(n,r.jsx,r.jsxs)}const a={Fragment:r.Fragment,ancestors:[],components:r.components||{},create:s,elementAttributeNameCase:r.elementAttributeNameCase||"react",evaluater:r.createEvaluater?r.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:r.ignoreInvalidStyle||!1,passKeys:r.passKeys!==!1,passNode:r.passNode||!1,schema:r.space==="svg"?Fa:Hy,stylePropertyNameCase:r.stylePropertyNameCase||"dom",tableCellAlignToStyle:r.tableCellAlignToStyle!==!1},h=Xd(a,e,void 0);return h&&typeof h!="string"?h:a.create(e,a.Fragment,{children:h||void 0},void 0)}function Xd(e,r,n){if(r.type==="element")return t_(e,r,n);if(r.type==="mdxFlowExpression"||r.type==="mdxTextExpression")return r_(e,r);if(r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement")return i_(e,r,n);if(r.type==="mdxjsEsm")return n_(e,r);if(r.type==="root")return s_(e,r,n);if(r.type==="text")return o_(e,r)}function t_(e,r,n){const s=e.schema;let a=s;r.tagName.toLowerCase()==="svg"&&s.space==="html"&&(a=Fa,e.schema=a),e.ancestors.push(r);const h=Qd(e,r.tagName,!1),f=c_(e,r);let o=Va(e,r);return Qy.has(r.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!Ty(u):!0})),Jd(e,f,h,r),Wa(f,o),e.ancestors.pop(),e.schema=s,e.create(r,h,f,n)}function r_(e,r){if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];return s.type,e.evaluater.evaluateExpression(s.expression)}Ni(e,r.position)}function n_(e,r){if(r.data&&r.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(r.data.estree);Ni(e,r.position)}function i_(e,r,n){const s=e.schema;let a=s;r.name==="svg"&&s.space==="html"&&(a=Fa,e.schema=a),e.ancestors.push(r);const h=r.name===null?e.Fragment:Qd(e,r.name,!0),f=u_(e,r),o=Va(e,r);return Jd(e,f,h,r),Wa(f,o),e.ancestors.pop(),e.schema=s,e.create(r,h,f,n)}function s_(e,r,n){const s={};return Wa(s,Va(e,r)),e.create(r,e.Fragment,s,n)}function o_(e,r){return r.value}function Jd(e,r,n,s){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(r.node=s)}function Wa(e,r){if(r.length>0){const n=r.length>1?r:r[0];n&&(e.children=n)}}function a_(e,r,n){return s;function s(a,h,f,o){const p=Array.isArray(f.children)?n:r;return o?p(h,f,o):p(h,f)}}function l_(e,r){return n;function n(s,a,h,f){const o=Array.isArray(h.children),u=Ha(s);return r(a,h,f,o,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function c_(e,r){const n={};let s,a;for(a in r.properties)if(a!=="children"&&Ua.call(r.properties,a)){const h=d_(e,a,r.properties[a]);if(h){const[f,o]=h;e.tableCellAlignToStyle&&f==="align"&&typeof o=="string"&&Zy.has(r.tagName)?s=o:n[f]=o}}if(s){const h=n.style||(n.style={});h[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function u_(e,r){const n={};for(const s of r.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const h=s.data.estree.body[0];h.type;const f=h.expression;f.type;const o=f.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Ni(e,r.position);else{const a=s.name;let h;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const o=s.value.data.estree.body[0];o.type,h=e.evaluater.evaluateExpression(o.expression)}else Ni(e,r.position);else h=s.value===null?!0:s.value;n[a]=h}return n}function Va(e,r){const n=[];let s=-1;const a=e.passKeys?new Map:Xy;for(;++s<r.children.length;){const h=r.children[s];let f;if(e.passKeys){const u=h.type==="element"?h.tagName:h.type==="mdxJsxFlowElement"||h.type==="mdxJsxTextElement"?h.name:void 0;if(u){const p=a.get(u)||0;f=u+"-"+p,a.set(u,p+1)}}const o=Xd(e,h,f);o!==void 0&&n.push(o)}return n}function d_(e,r,n){const s=By(e.schema,r);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?Ey(n):$y(n)),s.property==="style"){let a=typeof n=="object"?n:h_(e,String(n));return e.stylePropertyNameCase==="css"&&(a=f_(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&s.space?Py[s.property]||s.property:s.attribute,n]}}function h_(e,r){try{return Gy(r,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const s=n,a=new xt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=Yd+"#cannot-parse-style-attribute",a}}function Qd(e,r,n){let s;if(!n)s={type:"Literal",value:r};else if(r.includes(".")){const a=r.split(".");let h=-1,f;for(;++h<a.length;){const o=Rd(a[h])?{type:"Identifier",name:a[h]}:{type:"Literal",value:a[h]};f=f?{type:"MemberExpression",object:f,property:o,computed:!!(h&&o.type==="Literal"),optional:!1}:o}s=f}else s=Rd(r)&&!/^[a-z]/.test(r)?{type:"Identifier",name:r}:{type:"Literal",value:r};if(s.type==="Literal"){const a=s.value;return Ua.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(s);Ni(e)}function Ni(e,r){const n=new xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:r,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Yd+"#cannot-handle-mdx-estrees-without-createevaluater",n}function f_(e){const r={};let n;for(n in e)Ua.call(e,n)&&(r[p_(n)]=e[n]);return r}function p_(e){let r=e.replace(Jy,m_);return r.slice(0,3)==="ms-"&&(r="-"+r),r}function m_(e){return"-"+e.toLowerCase()}const Ka={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},g_={};function qa(e,r){const n=g_,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Zd(e,s,a)}function Zd(e,r,n){if(v_(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(r&&"alt"in e&&e.alt)return e.alt;if("children"in e)return eh(e.children,r,n)}return Array.isArray(e)?eh(e,r,n):""}function eh(e,r,n){const s=[];let a=-1;for(;++a<e.length;)s[a]=Zd(e[a],r,n);return s.join("")}function v_(e){return!!(e&&typeof e=="object")}const th=document.createElement("i");function Ga(e){const r="&"+e+";";th.innerHTML=r;const n=th.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===r?!1:n}function zt(e,r,n,s){const a=e.length;let h=0,f;if(r<0?r=-r>a?0:a+r:r=r>a?a:r,n=n>0?n:0,s.length<1e4)f=Array.from(s),f.unshift(r,n),e.splice(...f);else for(n&&e.splice(r,n);h<s.length;)f=s.slice(h,h+1e4),f.unshift(r,0),e.splice(...f),h+=1e4,r+=1e4}function Kt(e,r){return e.length>0?(zt(e,e.length,0,r),e):r}const rh={}.hasOwnProperty;function nh(e){const r={};let n=-1;for(;++n<e.length;)x_(r,e[n]);return r}function x_(e,r){let n;for(n in r){const a=(rh.call(e,n)?e[n]:void 0)||(e[n]={}),h=r[n];let f;if(h)for(f in h){rh.call(a,f)||(a[f]=[]);const o=h[f];y_(a[f],Array.isArray(o)?o:o?[o]:[])}}}function y_(e,r){let n=-1;const s=[];for(;++n<r.length;)(r[n].add==="after"?e:s).push(r[n]);zt(e,0,0,s)}function ih(e,r){const n=Number.parseInt(e,r);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ir(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const kt=Hr(/[A-Za-z]/),yt=Hr(/[\dA-Za-z]/),__=Hr(/[#-'*+\--9=?A-Z^-~]/);function Ps(e){return e!==null&&(e<32||e===127)}const Ya=Hr(/\d/),b_=Hr(/[\dA-Fa-f]/),w_=Hr(/[!-/:-@[-`{-~]/);function ke(e){return e!==null&&e<-2}function Ve(e){return e!==null&&(e<0||e===32)}function Me(e){return e===-2||e===-1||e===32}const Ms=Hr(new RegExp("\\p{P}|\\p{S}","u")),mn=Hr(/\s/);function Hr(e){return r;function r(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Fn(e){const r=[];let n=-1,s=0,a=0;for(;++n<e.length;){const h=e.charCodeAt(n);let f="";if(h===37&&yt(e.charCodeAt(n+1))&&yt(e.charCodeAt(n+2)))a=2;else if(h<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(h))||(f=String.fromCharCode(h));else if(h>55295&&h<57344){const o=e.charCodeAt(n+1);h<56320&&o>56319&&o<57344?(f=String.fromCharCode(h,o),a=1):f=""}else f=String.fromCharCode(h);f&&(r.push(e.slice(s,n),encodeURIComponent(f)),s=n+a+1,f=""),a&&(n+=a,a=0)}return r.join("")+e.slice(s)}function Be(e,r,n,s){const a=s?s-1:Number.POSITIVE_INFINITY;let h=0;return f;function f(u){return Me(u)?(e.enter(n),o(u)):r(u)}function o(u){return Me(u)&&h++<a?(e.consume(u),o):(e.exit(n),r(u))}}const S_={tokenize:k_};function k_(e){const r=e.attempt(this.parser.constructs.contentInitial,s,a);let n;return r;function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Be(e,r,"linePrefix")}function a(o){return e.enter("paragraph"),h(o)}function h(o){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,f(o)}function f(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ke(o)?(e.consume(o),e.exit("chunkText"),h):(e.consume(o),f)}}const C_={tokenize:E_},sh={tokenize:N_};function E_(e){const r=this,n=[];let s=0,a,h,f;return o;function o(y){if(s<n.length){const E=n[s];return r.containerState=E[1],e.attempt(E[0].continuation,u,p)(y)}return p(y)}function u(y){if(s++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,a&&_();const E=r.events.length;let j=E,N;for(;j--;)if(r.events[j][0]==="exit"&&r.events[j][1].type==="chunkFlow"){N=r.events[j][1].end;break}x(s);let D=E;for(;D<r.events.length;)r.events[D][1].end={...N},D++;return zt(r.events,j+1,0,r.events.slice(E)),r.events.length=D,p(y)}return o(y)}function p(y){if(s===n.length){if(!a)return b(y);if(a.currentConstruct&&a.currentConstruct.concrete)return k(y);r.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return r.containerState={},e.check(sh,v,d)(y)}function v(y){return a&&_(),x(s),b(y)}function d(y){return r.parser.lazy[r.now().line]=s!==n.length,f=r.now().offset,k(y)}function b(y){return r.containerState={},e.attempt(sh,w,k)(y)}function w(y){return s++,n.push([r.currentConstruct,r.containerState]),b(y)}function k(y){if(y===null){a&&_(),x(0),e.consume(y);return}return a=a||r.parser.flow(r.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:h}),C(y)}function C(y){if(y===null){m(e.exit("chunkFlow"),!0),x(0),e.consume(y);return}return ke(y)?(e.consume(y),m(e.exit("chunkFlow")),s=0,r.interrupt=void 0,o):(e.consume(y),C)}function m(y,E){const j=r.sliceStream(y);if(E&&j.push(null),y.previous=h,h&&(h.next=y),h=y,a.defineSkip(y.start),a.write(j),r.parser.lazy[y.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<f&&(!a.events[N][1].end||a.events[N][1].end.offset>f))return;const D=r.events.length;let L=D,A,P;for(;L--;)if(r.events[L][0]==="exit"&&r.events[L][1].type==="chunkFlow"){if(A){P=r.events[L][1].end;break}A=!0}for(x(s),N=D;N<r.events.length;)r.events[N][1].end={...P},N++;zt(r.events,L+1,0,r.events.slice(D)),r.events.length=N}}function x(y){let E=n.length;for(;E-- >y;){const j=n[E];r.containerState=j[1],j[0].exit.call(r,e)}n.length=y}function _(){a.write([null]),h=void 0,a=void 0,r.containerState._closeFlow=void 0}}function N_(e,r,n){return Be(e,e.attempt(this.parser.constructs.document,r,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zn(e){if(e===null||Ve(e)||mn(e))return 1;if(Ms(e))return 2}function Os(e,r,n){const s=[];let a=-1;for(;++a<e.length;){const h=e[a].resolveAll;h&&!s.includes(h)&&(r=h(r,n),s.push(h))}return r}const Xa={name:"attention",resolveAll:j_,tokenize:L_};function j_(e,r){let n=-1,s,a,h,f,o,u,p,v;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(s=n;s--;)if(e[s][0]==="exit"&&e[s][1].type==="attentionSequence"&&e[s][1]._open&&r.sliceSerialize(e[s][1]).charCodeAt(0)===r.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[s][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[s][1].end.offset-e[s][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[s][1].end.offset-e[s][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[s][1].end},b={...e[n][1].start};oh(d,-u),oh(b,u),f={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[s][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:b},h={type:u>1?"strongText":"emphasisText",start:{...e[s][1].end},end:{...e[n][1].start}},a={type:u>1?"strong":"emphasis",start:{...f.start},end:{...o.end}},e[s][1].end={...f.start},e[n][1].start={...o.end},p=[],e[s][1].end.offset-e[s][1].start.offset&&(p=Kt(p,[["enter",e[s][1],r],["exit",e[s][1],r]])),p=Kt(p,[["enter",a,r],["enter",f,r],["exit",f,r],["enter",h,r]]),p=Kt(p,Os(r.parser.constructs.insideSpan.null,e.slice(s+1,n),r)),p=Kt(p,[["exit",h,r],["enter",o,r],["exit",o,r],["exit",a,r]]),e[n][1].end.offset-e[n][1].start.offset?(v=2,p=Kt(p,[["enter",e[n][1],r],["exit",e[n][1],r]])):v=0,zt(e,s-1,n-s+3,p),n=s+p.length-v-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function L_(e,r){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,a=zn(s);let h;return f;function f(u){return h=u,e.enter("attentionSequence"),o(u)}function o(u){if(u===h)return e.consume(u),o;const p=e.exit("attentionSequence"),v=zn(u),d=!v||v===2&&a||n.includes(u),b=!a||a===2&&v||n.includes(s);return p._open=!!(h===42?d:d&&(a||!b)),p._close=!!(h===42?b:b&&(v||!d)),r(u)}}function oh(e,r){e.column+=r,e.offset+=r,e._bufferIndex+=r}const R_={name:"autolink",tokenize:T_};function T_(e,r,n){let s=0;return a;function a(w){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),h}function h(w){return kt(w)?(e.consume(w),f):w===64?n(w):p(w)}function f(w){return w===43||w===45||w===46||yt(w)?(s=1,o(w)):p(w)}function o(w){return w===58?(e.consume(w),s=0,u):(w===43||w===45||w===46||yt(w))&&s++<32?(e.consume(w),o):(s=0,p(w))}function u(w){return w===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),r):w===null||w===32||w===60||Ps(w)?n(w):(e.consume(w),u)}function p(w){return w===64?(e.consume(w),v):__(w)?(e.consume(w),p):n(w)}function v(w){return yt(w)?d(w):n(w)}function d(w){return w===46?(e.consume(w),s=0,v):w===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(w),e.exit("autolinkMarker"),e.exit("autolink"),r):b(w)}function b(w){if((w===45||yt(w))&&s++<63){const k=w===45?b:d;return e.consume(w),k}return n(w)}}const ji={partial:!0,tokenize:D_};function D_(e,r,n){return s;function s(h){return Me(h)?Be(e,a,"linePrefix")(h):a(h)}function a(h){return h===null||ke(h)?r(h):n(h)}}const ah={continuation:{tokenize:I_},exit:P_,name:"blockQuote",tokenize:A_};function A_(e,r,n){const s=this;return a;function a(f){if(f===62){const o=s.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(f),e.exit("blockQuoteMarker"),h}return n(f)}function h(f){return Me(f)?(e.enter("blockQuotePrefixWhitespace"),e.consume(f),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),r):(e.exit("blockQuotePrefix"),r(f))}}function I_(e,r,n){const s=this;return a;function a(f){return Me(f)?Be(e,h,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f):h(f)}function h(f){return e.attempt(ah,r,n)(f)}}function P_(e){e.exit("blockQuote")}const lh={name:"characterEscape",tokenize:M_};function M_(e,r,n){return s;function s(h){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(h),e.exit("escapeMarker"),a}function a(h){return w_(h)?(e.enter("characterEscapeValue"),e.consume(h),e.exit("characterEscapeValue"),e.exit("characterEscape"),r):n(h)}}const ch={name:"characterReference",tokenize:O_};function O_(e,r,n){const s=this;let a=0,h,f;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),p):(e.enter("characterReferenceValue"),h=31,f=yt,v(d))}function p(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),h=6,f=b_,v):(e.enter("characterReferenceValue"),h=7,f=Ya,v(d))}function v(d){if(d===59&&a){const b=e.exit("characterReferenceValue");return f===yt&&!Ga(s.sliceSerialize(b))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),r)}return f(d)&&a++<h?(e.consume(d),v):n(d)}}const uh={partial:!0,tokenize:F_},dh={concrete:!0,name:"codeFenced",tokenize:B_};function B_(e,r,n){const s=this,a={partial:!0,tokenize:j};let h=0,f=0,o;return u;function u(N){return p(N)}function p(N){const D=s.events[s.events.length-1];return h=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),v(N)}function v(N){return N===o?(f++,e.consume(N),v):f<3?n(N):(e.exit("codeFencedFenceSequence"),Me(N)?Be(e,d,"whitespace")(N):d(N))}function d(N){return N===null||ke(N)?(e.exit("codeFencedFence"),s.interrupt?r(N):e.check(uh,C,E)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(N))}function b(N){return N===null||ke(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(N)):Me(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Be(e,w,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),b)}function w(N){return N===null||ke(N)?d(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(N))}function k(N){return N===null||ke(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(N)):N===96&&N===o?n(N):(e.consume(N),k)}function C(N){return e.attempt(a,E,m)(N)}function m(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),x}function x(N){return h>0&&Me(N)?Be(e,_,"linePrefix",h+1)(N):_(N)}function _(N){return N===null||ke(N)?e.check(uh,C,E)(N):(e.enter("codeFlowValue"),y(N))}function y(N){return N===null||ke(N)?(e.exit("codeFlowValue"),_(N)):(e.consume(N),y)}function E(N){return e.exit("codeFenced"),r(N)}function j(N,D,L){let A=0;return P;function P(q){return N.enter("lineEnding"),N.consume(q),N.exit("lineEnding"),U}function U(q){return N.enter("codeFencedFence"),Me(q)?Be(N,F,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):F(q)}function F(q){return q===o?(N.enter("codeFencedFenceSequence"),$(q)):L(q)}function $(q){return q===o?(A++,N.consume(q),$):A>=f?(N.exit("codeFencedFenceSequence"),Me(q)?Be(N,W,"whitespace")(q):W(q)):L(q)}function W(q){return q===null||ke(q)?(N.exit("codeFencedFence"),D(q)):L(q)}}}function F_(e,r,n){const s=this;return a;function a(f){return f===null?n(f):(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),h)}function h(f){return s.parser.lazy[s.now().line]?n(f):r(f)}}const Ja={name:"codeIndented",tokenize:H_},z_={partial:!0,tokenize:$_};function H_(e,r,n){const s=this;return a;function a(p){return e.enter("codeIndented"),Be(e,h,"linePrefix",5)(p)}function h(p){const v=s.events[s.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?f(p):n(p)}function f(p){return p===null?u(p):ke(p)?e.attempt(z_,f,u)(p):(e.enter("codeFlowValue"),o(p))}function o(p){return p===null||ke(p)?(e.exit("codeFlowValue"),f(p)):(e.consume(p),o)}function u(p){return e.exit("codeIndented"),r(p)}}function $_(e,r,n){const s=this;return a;function a(f){return s.parser.lazy[s.now().line]?n(f):ke(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),a):Be(e,h,"linePrefix",5)(f)}function h(f){const o=s.events[s.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?r(f):ke(f)?a(f):n(f)}}const U_={name:"codeText",previous:V_,resolve:W_,tokenize:K_};function W_(e){let r=e.length-4,n=3,s,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[r][1].type==="lineEnding"||e[r][1].type==="space")){for(s=n;++s<r;)if(e[s][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[r][1].type="codeTextPadding",n+=2,r-=2;break}}for(s=n-1,r++;++s<=r;)a===void 0?s!==r&&e[s][1].type!=="lineEnding"&&(a=s):(s===r||e[s][1].type==="lineEnding")&&(e[a][1].type="codeTextData",s!==a+2&&(e[a][1].end=e[s-1][1].end,e.splice(a+2,s-a-2),r-=s-a-2,s=a+2),a=void 0);return e}function V_(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function K_(e,r,n){let s=0,a,h;return f;function f(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),s++,o):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(h=e.enter("codeTextSequence"),a=0,v(d)):ke(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),p(d))}function p(d){return d===null||d===32||d===96||ke(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),p)}function v(d){return d===96?(e.consume(d),a++,v):a===s?(e.exit("codeTextSequence"),e.exit("codeText"),r(d)):(h.type="codeTextData",p(d))}}class q_{constructor(r){this.left=r?[...r]:[],this.right=[]}get(r){if(r<0||r>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+r+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return r<this.left.length?this.left[r]:this.right[this.right.length-r+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(r,n){const s=n??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(r,s):r>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-r+this.left.length).reverse():this.left.slice(r).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(r,n,s){const a=n||0;this.setCursor(Math.trunc(r));const h=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return s&&Li(this.left,s),h.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(r){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(r)}pushMany(r){this.setCursor(Number.POSITIVE_INFINITY),Li(this.left,r)}unshift(r){this.setCursor(0),this.right.push(r)}unshiftMany(r){this.setCursor(0),Li(this.right,r.reverse())}setCursor(r){if(!(r===this.left.length||r>this.left.length&&this.right.length===0||r<0&&this.left.length===0))if(r<this.left.length){const n=this.left.splice(r,Number.POSITIVE_INFINITY);Li(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-r,Number.POSITIVE_INFINITY);Li(this.left,n.reverse())}}}function Li(e,r){let n=0;if(r.length<1e4)e.push(...r);else for(;n<r.length;)e.push(...r.slice(n,n+1e4)),n+=1e4}function hh(e){const r={};let n=-1,s,a,h,f,o,u,p;const v=new q_(e);for(;++n<v.length;){for(;n in r;)n=r[n];if(s=v.get(n),n&&s[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(u=s[1]._tokenizer.events,h=0,h<u.length&&u[h][1].type==="lineEndingBlank"&&(h+=2),h<u.length&&u[h][1].type==="content"))for(;++h<u.length&&u[h][1].type!=="content";)u[h][1].type==="chunkText"&&(u[h][1]._isInFirstContentOfListItem=!0,h++);if(s[0]==="enter")s[1].contentType&&(Object.assign(r,G_(v,n)),n=r[n],p=!0);else if(s[1]._container){for(h=n,a=void 0;h--;)if(f=v.get(h),f[1].type==="lineEnding"||f[1].type==="lineEndingBlank")f[0]==="enter"&&(a&&(v.get(a)[1].type="lineEndingBlank"),f[1].type="lineEnding",a=h);else if(!(f[1].type==="linePrefix"||f[1].type==="listItemIndent"))break;a&&(s[1].end={...v.get(a)[1].start},o=v.slice(a,n),o.unshift(s),v.splice(a,n-a+1,o))}}return zt(e,0,Number.POSITIVE_INFINITY,v.slice(0)),!p}function G_(e,r){const n=e.get(r)[1],s=e.get(r)[2];let a=r-1;const h=[];let f=n._tokenizer;f||(f=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(f._contentTypeTextTrailing=!0));const o=f.events,u=[],p={};let v,d,b=-1,w=n,k=0,C=0;const m=[C];for(;w;){for(;e.get(++a)[1]!==w;);h.push(a),w._tokenizer||(v=s.sliceStream(w),w.next||v.push(null),d&&f.defineSkip(w.start),w._isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=!0),f.write(v),w._isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=void 0)),d=w,w=w.next}for(w=n;++b<o.length;)o[b][0]==="exit"&&o[b-1][0]==="enter"&&o[b][1].type===o[b-1][1].type&&o[b][1].start.line!==o[b][1].end.line&&(C=b+1,m.push(C),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(f.events=[],w?(w._tokenizer=void 0,w.previous=void 0):m.pop(),b=m.length;b--;){const x=o.slice(m[b],m[b+1]),_=h.pop();u.push([_,_+x.length-1]),e.splice(_,2,x)}for(u.reverse(),b=-1;++b<u.length;)p[k+u[b][0]]=k+u[b][1],k+=u[b][1]-u[b][0]-1;return p}const Y_={resolve:J_,tokenize:Q_},X_={partial:!0,tokenize:Z_};function J_(e){return hh(e),e}function Q_(e,r){let n;return s;function s(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?h(o):ke(o)?e.check(X_,f,h)(o):(e.consume(o),a)}function h(o){return e.exit("chunkContent"),e.exit("content"),r(o)}function f(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Z_(e,r,n){const s=this;return a;function a(f){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Be(e,h,"linePrefix")}function h(f){if(f===null||ke(f))return n(f);const o=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?r(f):e.interrupt(s.parser.constructs.flow,n,r)(f)}}function fh(e,r,n,s,a,h,f,o,u){const p=u||Number.POSITIVE_INFINITY;let v=0;return d;function d(x){return x===60?(e.enter(s),e.enter(a),e.enter(h),e.consume(x),e.exit(h),b):x===null||x===32||x===41||Ps(x)?n(x):(e.enter(s),e.enter(f),e.enter(o),e.enter("chunkString",{contentType:"string"}),C(x))}function b(x){return x===62?(e.enter(h),e.consume(x),e.exit(h),e.exit(a),e.exit(s),r):(e.enter(o),e.enter("chunkString",{contentType:"string"}),w(x))}function w(x){return x===62?(e.exit("chunkString"),e.exit(o),b(x)):x===null||x===60||ke(x)?n(x):(e.consume(x),x===92?k:w)}function k(x){return x===60||x===62||x===92?(e.consume(x),w):w(x)}function C(x){return!v&&(x===null||x===41||Ve(x))?(e.exit("chunkString"),e.exit(o),e.exit(f),e.exit(s),r(x)):v<p&&x===40?(e.consume(x),v++,C):x===41?(e.consume(x),v--,C):x===null||x===32||x===40||Ps(x)?n(x):(e.consume(x),x===92?m:C)}function m(x){return x===40||x===41||x===92?(e.consume(x),C):C(x)}}function ph(e,r,n,s,a,h){const f=this;let o=0,u;return p;function p(w){return e.enter(s),e.enter(a),e.consume(w),e.exit(a),e.enter(h),v}function v(w){return o>999||w===null||w===91||w===93&&!u||w===94&&!o&&"_hiddenFootnoteSupport"in f.parser.constructs?n(w):w===93?(e.exit(h),e.enter(a),e.consume(w),e.exit(a),e.exit(s),r):ke(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),v):(e.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||w===91||w===93||ke(w)||o++>999?(e.exit("chunkString"),v(w)):(e.consume(w),u||(u=!Me(w)),w===92?b:d)}function b(w){return w===91||w===92||w===93?(e.consume(w),o++,d):d(w)}}function mh(e,r,n,s,a,h){let f;return o;function o(b){return b===34||b===39||b===40?(e.enter(s),e.enter(a),e.consume(b),e.exit(a),f=b===40?41:b,u):n(b)}function u(b){return b===f?(e.enter(a),e.consume(b),e.exit(a),e.exit(s),r):(e.enter(h),p(b))}function p(b){return b===f?(e.exit(h),u(f)):b===null?n(b):ke(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),Be(e,p,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),v(b))}function v(b){return b===f||b===null||ke(b)?(e.exit("chunkString"),p(b)):(e.consume(b),b===92?d:v)}function d(b){return b===f||b===92?(e.consume(b),v):v(b)}}function Ri(e,r){let n;return s;function s(a){return ke(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,s):Me(a)?Be(e,s,n?"linePrefix":"lineSuffix")(a):r(a)}}const e1={name:"definition",tokenize:r1},t1={partial:!0,tokenize:n1};function r1(e,r,n){const s=this;let a;return h;function h(w){return e.enter("definition"),f(w)}function f(w){return ph.call(s,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function o(w){return a=ir(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),u):n(w)}function u(w){return Ve(w)?Ri(e,p)(w):p(w)}function p(w){return fh(e,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function v(w){return e.attempt(t1,d,d)(w)}function d(w){return Me(w)?Be(e,b,"whitespace")(w):b(w)}function b(w){return w===null||ke(w)?(e.exit("definition"),s.parser.defined.push(a),r(w)):n(w)}}function n1(e,r,n){return s;function s(o){return Ve(o)?Ri(e,a)(o):n(o)}function a(o){return mh(e,h,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function h(o){return Me(o)?Be(e,f,"whitespace")(o):f(o)}function f(o){return o===null||ke(o)?r(o):n(o)}}const i1={name:"hardBreakEscape",tokenize:s1};function s1(e,r,n){return s;function s(h){return e.enter("hardBreakEscape"),e.consume(h),a}function a(h){return ke(h)?(e.exit("hardBreakEscape"),r(h)):n(h)}}const o1={name:"headingAtx",resolve:a1,tokenize:l1};function a1(e,r){let n=e.length-2,s=3,a,h;return e[s][1].type==="whitespace"&&(s+=2),n-2>s&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(s===n-1||n-4>s&&e[n-2][1].type==="whitespace")&&(n-=s+1===n?2:4),n>s&&(a={type:"atxHeadingText",start:e[s][1].start,end:e[n][1].end},h={type:"chunkText",start:e[s][1].start,end:e[n][1].end,contentType:"text"},zt(e,s,n-s+1,[["enter",a,r],["enter",h,r],["exit",h,r],["exit",a,r]])),e}function l1(e,r,n){let s=0;return a;function a(v){return e.enter("atxHeading"),h(v)}function h(v){return e.enter("atxHeadingSequence"),f(v)}function f(v){return v===35&&s++<6?(e.consume(v),f):v===null||Ve(v)?(e.exit("atxHeadingSequence"),o(v)):n(v)}function o(v){return v===35?(e.enter("atxHeadingSequence"),u(v)):v===null||ke(v)?(e.exit("atxHeading"),r(v)):Me(v)?Be(e,o,"whitespace")(v):(e.enter("atxHeadingText"),p(v))}function u(v){return v===35?(e.consume(v),u):(e.exit("atxHeadingSequence"),o(v))}function p(v){return v===null||v===35||Ve(v)?(e.exit("atxHeadingText"),o(v)):(e.consume(v),p)}}const c1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gh=["pre","script","style","textarea"],u1={concrete:!0,name:"htmlFlow",resolveTo:f1,tokenize:p1},d1={partial:!0,tokenize:g1},h1={partial:!0,tokenize:m1};function f1(e){let r=e.length;for(;r--&&!(e[r][0]==="enter"&&e[r][1].type==="htmlFlow"););return r>1&&e[r-2][1].type==="linePrefix"&&(e[r][1].start=e[r-2][1].start,e[r+1][1].start=e[r-2][1].start,e.splice(r-2,2)),e}function p1(e,r,n){const s=this;let a,h,f,o,u;return p;function p(z){return v(z)}function v(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),d}function d(z){return z===33?(e.consume(z),b):z===47?(e.consume(z),h=!0,C):z===63?(e.consume(z),a=3,s.interrupt?r:T):kt(z)?(e.consume(z),f=String.fromCharCode(z),m):n(z)}function b(z){return z===45?(e.consume(z),a=2,w):z===91?(e.consume(z),a=5,o=0,k):kt(z)?(e.consume(z),a=4,s.interrupt?r:T):n(z)}function w(z){return z===45?(e.consume(z),s.interrupt?r:T):n(z)}function k(z){const oe="CDATA[";return z===oe.charCodeAt(o++)?(e.consume(z),o===oe.length?s.interrupt?r:F:k):n(z)}function C(z){return kt(z)?(e.consume(z),f=String.fromCharCode(z),m):n(z)}function m(z){if(z===null||z===47||z===62||Ve(z)){const oe=z===47,ae=f.toLowerCase();return!oe&&!h&&gh.includes(ae)?(a=1,s.interrupt?r(z):F(z)):c1.includes(f.toLowerCase())?(a=6,oe?(e.consume(z),x):s.interrupt?r(z):F(z)):(a=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(z):h?_(z):y(z))}return z===45||yt(z)?(e.consume(z),f+=String.fromCharCode(z),m):n(z)}function x(z){return z===62?(e.consume(z),s.interrupt?r:F):n(z)}function _(z){return Me(z)?(e.consume(z),_):P(z)}function y(z){return z===47?(e.consume(z),P):z===58||z===95||kt(z)?(e.consume(z),E):Me(z)?(e.consume(z),y):P(z)}function E(z){return z===45||z===46||z===58||z===95||yt(z)?(e.consume(z),E):j(z)}function j(z){return z===61?(e.consume(z),N):Me(z)?(e.consume(z),j):y(z)}function N(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),u=z,D):Me(z)?(e.consume(z),N):L(z)}function D(z){return z===u?(e.consume(z),u=null,A):z===null||ke(z)?n(z):(e.consume(z),D)}function L(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Ve(z)?j(z):(e.consume(z),L)}function A(z){return z===47||z===62||Me(z)?y(z):n(z)}function P(z){return z===62?(e.consume(z),U):n(z)}function U(z){return z===null||ke(z)?F(z):Me(z)?(e.consume(z),U):n(z)}function F(z){return z===45&&a===2?(e.consume(z),ee):z===60&&a===1?(e.consume(z),G):z===62&&a===4?(e.consume(z),M):z===63&&a===3?(e.consume(z),T):z===93&&a===5?(e.consume(z),H):ke(z)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(d1,K,$)(z)):z===null||ke(z)?(e.exit("htmlFlowData"),$(z)):(e.consume(z),F)}function $(z){return e.check(h1,W,K)(z)}function W(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),q}function q(z){return z===null||ke(z)?$(z):(e.enter("htmlFlowData"),F(z))}function ee(z){return z===45?(e.consume(z),T):F(z)}function G(z){return z===47?(e.consume(z),f="",I):F(z)}function I(z){if(z===62){const oe=f.toLowerCase();return gh.includes(oe)?(e.consume(z),M):F(z)}return kt(z)&&f.length<8?(e.consume(z),f+=String.fromCharCode(z),I):F(z)}function H(z){return z===93?(e.consume(z),T):F(z)}function T(z){return z===62?(e.consume(z),M):z===45&&a===2?(e.consume(z),T):F(z)}function M(z){return z===null||ke(z)?(e.exit("htmlFlowData"),K(z)):(e.consume(z),M)}function K(z){return e.exit("htmlFlow"),r(z)}}function m1(e,r,n){const s=this;return a;function a(f){return ke(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),h):n(f)}function h(f){return s.parser.lazy[s.now().line]?n(f):r(f)}}function g1(e,r,n){return s;function s(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(ji,r,n)}}const v1={name:"htmlText",tokenize:x1};function x1(e,r,n){const s=this;let a,h,f;return o;function o(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),u}function u(T){return T===33?(e.consume(T),p):T===47?(e.consume(T),j):T===63?(e.consume(T),y):kt(T)?(e.consume(T),L):n(T)}function p(T){return T===45?(e.consume(T),v):T===91?(e.consume(T),h=0,k):kt(T)?(e.consume(T),_):n(T)}function v(T){return T===45?(e.consume(T),w):n(T)}function d(T){return T===null?n(T):T===45?(e.consume(T),b):ke(T)?(f=d,G(T)):(e.consume(T),d)}function b(T){return T===45?(e.consume(T),w):d(T)}function w(T){return T===62?ee(T):T===45?b(T):d(T)}function k(T){const M="CDATA[";return T===M.charCodeAt(h++)?(e.consume(T),h===M.length?C:k):n(T)}function C(T){return T===null?n(T):T===93?(e.consume(T),m):ke(T)?(f=C,G(T)):(e.consume(T),C)}function m(T){return T===93?(e.consume(T),x):C(T)}function x(T){return T===62?ee(T):T===93?(e.consume(T),x):C(T)}function _(T){return T===null||T===62?ee(T):ke(T)?(f=_,G(T)):(e.consume(T),_)}function y(T){return T===null?n(T):T===63?(e.consume(T),E):ke(T)?(f=y,G(T)):(e.consume(T),y)}function E(T){return T===62?ee(T):y(T)}function j(T){return kt(T)?(e.consume(T),N):n(T)}function N(T){return T===45||yt(T)?(e.consume(T),N):D(T)}function D(T){return ke(T)?(f=D,G(T)):Me(T)?(e.consume(T),D):ee(T)}function L(T){return T===45||yt(T)?(e.consume(T),L):T===47||T===62||Ve(T)?A(T):n(T)}function A(T){return T===47?(e.consume(T),ee):T===58||T===95||kt(T)?(e.consume(T),P):ke(T)?(f=A,G(T)):Me(T)?(e.consume(T),A):ee(T)}function P(T){return T===45||T===46||T===58||T===95||yt(T)?(e.consume(T),P):U(T)}function U(T){return T===61?(e.consume(T),F):ke(T)?(f=U,G(T)):Me(T)?(e.consume(T),U):A(T)}function F(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),a=T,$):ke(T)?(f=F,G(T)):Me(T)?(e.consume(T),F):(e.consume(T),W)}function $(T){return T===a?(e.consume(T),a=void 0,q):T===null?n(T):ke(T)?(f=$,G(T)):(e.consume(T),$)}function W(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||Ve(T)?A(T):(e.consume(T),W)}function q(T){return T===47||T===62||Ve(T)?A(T):n(T)}function ee(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),r):n(T)}function G(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),I}function I(T){return Me(T)?Be(e,H,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):H(T)}function H(T){return e.enter("htmlTextData"),f(T)}}const Qa={name:"labelEnd",resolveAll:w1,resolveTo:S1,tokenize:k1},y1={tokenize:C1},_1={tokenize:E1},b1={tokenize:N1};function w1(e){let r=-1;const n=[];for(;++r<e.length;){const s=e[r][1];if(n.push(e[r]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const a=s.type==="labelImage"?4:2;s.type="data",r+=a}}return e.length!==n.length&&zt(e,0,e.length,n),e}function S1(e,r){let n=e.length,s=0,a,h,f,o;for(;n--;)if(a=e[n][1],h){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(f){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(h=n,a.type!=="labelLink")){s=2;break}}else a.type==="labelEnd"&&(f=n);const u={type:e[h][1].type==="labelLink"?"link":"image",start:{...e[h][1].start},end:{...e[e.length-1][1].end}},p={type:"label",start:{...e[h][1].start},end:{...e[f][1].end}},v={type:"labelText",start:{...e[h+s+2][1].end},end:{...e[f-2][1].start}};return o=[["enter",u,r],["enter",p,r]],o=Kt(o,e.slice(h+1,h+s+3)),o=Kt(o,[["enter",v,r]]),o=Kt(o,Os(r.parser.constructs.insideSpan.null,e.slice(h+s+4,f-3),r)),o=Kt(o,[["exit",v,r],e[f-2],e[f-1],["exit",p,r]]),o=Kt(o,e.slice(f+1)),o=Kt(o,[["exit",u,r]]),zt(e,h,e.length,o),e}function k1(e,r,n){const s=this;let a=s.events.length,h,f;for(;a--;)if((s.events[a][1].type==="labelImage"||s.events[a][1].type==="labelLink")&&!s.events[a][1]._balanced){h=s.events[a][1];break}return o;function o(b){return h?h._inactive?d(b):(f=s.parser.defined.includes(ir(s.sliceSerialize({start:h.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),u):n(b)}function u(b){return b===40?e.attempt(y1,v,f?v:d)(b):b===91?e.attempt(_1,v,f?p:d)(b):f?v(b):d(b)}function p(b){return e.attempt(b1,v,d)(b)}function v(b){return r(b)}function d(b){return h._balanced=!0,n(b)}}function C1(e,r,n){return s;function s(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),a}function a(d){return Ve(d)?Ri(e,h)(d):h(d)}function h(d){return d===41?v(d):fh(e,f,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function f(d){return Ve(d)?Ri(e,u)(d):v(d)}function o(d){return n(d)}function u(d){return d===34||d===39||d===40?mh(e,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):v(d)}function p(d){return Ve(d)?Ri(e,v)(d):v(d)}function v(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),r):n(d)}}function E1(e,r,n){const s=this;return a;function a(o){return ph.call(s,e,h,f,"reference","referenceMarker","referenceString")(o)}function h(o){return s.parser.defined.includes(ir(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?r(o):n(o)}function f(o){return n(o)}}function N1(e,r,n){return s;function s(h){return e.enter("reference"),e.enter("referenceMarker"),e.consume(h),e.exit("referenceMarker"),a}function a(h){return h===93?(e.enter("referenceMarker"),e.consume(h),e.exit("referenceMarker"),e.exit("reference"),r):n(h)}}const j1={name:"labelStartImage",resolveAll:Qa.resolveAll,tokenize:L1};function L1(e,r,n){const s=this;return a;function a(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),h}function h(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),f):n(o)}function f(o){return o===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(o):r(o)}}const R1={name:"labelStartLink",resolveAll:Qa.resolveAll,tokenize:T1};function T1(e,r,n){const s=this;return a;function a(f){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelLink"),h}function h(f){return f===94&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):r(f)}}const Za={name:"lineEnding",tokenize:D1};function D1(e,r){return n;function n(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Be(e,r,"linePrefix")}}const Bs={name:"thematicBreak",tokenize:A1};function A1(e,r,n){let s=0,a;return h;function h(p){return e.enter("thematicBreak"),f(p)}function f(p){return a=p,o(p)}function o(p){return p===a?(e.enter("thematicBreakSequence"),u(p)):s>=3&&(p===null||ke(p))?(e.exit("thematicBreak"),r(p)):n(p)}function u(p){return p===a?(e.consume(p),s++,u):(e.exit("thematicBreakSequence"),Me(p)?Be(e,o,"whitespace")(p):o(p))}}const Rt={continuation:{tokenize:O1},exit:F1,name:"list",tokenize:M1},I1={partial:!0,tokenize:z1},P1={partial:!0,tokenize:B1};function M1(e,r,n){const s=this,a=s.events[s.events.length-1];let h=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,f=0;return o;function o(w){const k=s.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!s.containerState.marker||w===s.containerState.marker:Ya(w)){if(s.containerState.type||(s.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),w===42||w===45?e.check(Bs,n,p)(w):p(w);if(!s.interrupt||w===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(w)}return n(w)}function u(w){return Ya(w)&&++f<10?(e.consume(w),u):(!s.interrupt||f<2)&&(s.containerState.marker?w===s.containerState.marker:w===41||w===46)?(e.exit("listItemValue"),p(w)):n(w)}function p(w){return e.enter("listItemMarker"),e.consume(w),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||w,e.check(ji,s.interrupt?n:v,e.attempt(I1,b,d))}function v(w){return s.containerState.initialBlankLine=!0,h++,b(w)}function d(w){return Me(w)?(e.enter("listItemPrefixWhitespace"),e.consume(w),e.exit("listItemPrefixWhitespace"),b):n(w)}function b(w){return s.containerState.size=h+s.sliceSerialize(e.exit("listItemPrefix"),!0).length,r(w)}}function O1(e,r,n){const s=this;return s.containerState._closeFlow=void 0,e.check(ji,a,h);function a(o){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,Be(e,r,"listItemIndent",s.containerState.size+1)(o)}function h(o){return s.containerState.furtherBlankLines||!Me(o)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,f(o)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(P1,r,f)(o))}function f(o){return s.containerState._closeFlow=!0,s.interrupt=void 0,Be(e,e.attempt(Rt,r,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function B1(e,r,n){const s=this;return Be(e,a,"listItemIndent",s.containerState.size+1);function a(h){const f=s.events[s.events.length-1];return f&&f[1].type==="listItemIndent"&&f[2].sliceSerialize(f[1],!0).length===s.containerState.size?r(h):n(h)}}function F1(e){e.exit(this.containerState.type)}function z1(e,r,n){const s=this;return Be(e,a,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(h){const f=s.events[s.events.length-1];return!Me(h)&&f&&f[1].type==="listItemPrefixWhitespace"?r(h):n(h)}}const vh={name:"setextUnderline",resolveTo:H1,tokenize:$1};function H1(e,r){let n=e.length,s,a,h;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){s=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!h&&e[n][1].type==="definition"&&(h=n);const f={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",h?(e.splice(a,0,["enter",f,r]),e.splice(h+1,0,["exit",e[s][1],r]),e[s][1].end={...e[h][1].end}):e[s][1]=f,e.push(["exit",f,r]),e}function $1(e,r,n){const s=this;let a;return h;function h(p){let v=s.events.length,d;for(;v--;)if(s.events[v][1].type!=="lineEnding"&&s.events[v][1].type!=="linePrefix"&&s.events[v][1].type!=="content"){d=s.events[v][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||d)?(e.enter("setextHeadingLine"),a=p,f(p)):n(p)}function f(p){return e.enter("setextHeadingLineSequence"),o(p)}function o(p){return p===a?(e.consume(p),o):(e.exit("setextHeadingLineSequence"),Me(p)?Be(e,u,"lineSuffix")(p):u(p))}function u(p){return p===null||ke(p)?(e.exit("setextHeadingLine"),r(p)):n(p)}}const U1={tokenize:W1};function W1(e){const r=this,n=e.attempt(ji,s,e.attempt(this.parser.constructs.flowInitial,a,Be(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Y_,a)),"linePrefix")));return n;function s(h){if(h===null){e.consume(h);return}return e.enter("lineEndingBlank"),e.consume(h),e.exit("lineEndingBlank"),r.currentConstruct=void 0,n}function a(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),r.currentConstruct=void 0,n}}const V1={resolveAll:yh()},K1=xh("string"),q1=xh("text");function xh(e){return{resolveAll:yh(e==="text"?G1:void 0),tokenize:r};function r(n){const s=this,a=this.parser.constructs[e],h=n.attempt(a,f,o);return f;function f(v){return p(v)?h(v):o(v)}function o(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),u}function u(v){return p(v)?(n.exit("data"),h(v)):(n.consume(v),u)}function p(v){if(v===null)return!0;const d=a[v];let b=-1;if(d)for(;++b<d.length;){const w=d[b];if(!w.previous||w.previous.call(s,s.previous))return!0}return!1}}}function yh(e){return r;function r(n,s){let a=-1,h;for(;++a<=n.length;)h===void 0?n[a]&&n[a][1].type==="data"&&(h=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==h+2&&(n[h][1].end=n[a-1][1].end,n.splice(h+2,a-h-2),a=h+2),h=void 0);return e?e(n,s):n}}function G1(e,r){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const s=e[n-1][1],a=r.sliceStream(s);let h=a.length,f=-1,o=0,u;for(;h--;){const p=a[h];if(typeof p=="string"){for(f=p.length;p.charCodeAt(f-1)===32;)o++,f--;if(f)break;f=-1}else if(p===-2)u=!0,o++;else if(p!==-1){h++;break}}if(r._contentTypeTextTrailing&&n===e.length&&(o=0),o){const p={type:n===e.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:h?f:s.start._bufferIndex+f,_index:s.start._index+h,line:s.end.line,column:s.end.column-o,offset:s.end.offset-o},end:{...s.end}};s.end={...p.start},s.start.offset===s.end.offset?Object.assign(s,p):(e.splice(n,0,["enter",p,r],["exit",p,r]),n+=2)}n++}return e}const Y1=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:{91:e1},disable:{null:[]},document:{42:Rt,43:Rt,45:Rt,48:Rt,49:Rt,50:Rt,51:Rt,52:Rt,53:Rt,54:Rt,55:Rt,56:Rt,57:Rt,62:ah},flow:{35:o1,42:Bs,45:[vh,Bs],60:u1,61:vh,95:Bs,96:dh,126:dh},flowInitial:{[-2]:Ja,[-1]:Ja,32:Ja},insideSpan:{null:[Xa,V1]},string:{38:ch,92:lh},text:{[-5]:Za,[-4]:Za,[-3]:Za,33:j1,38:ch,42:Xa,60:[R_,v1],91:R1,92:[i1,lh],93:Qa,95:Xa,96:U_}},Symbol.toStringTag,{value:"Module"}));function X1(e,r,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},h=[];let f=[],o=[];const u={attempt:D(j),check:D(N),consume:_,enter:y,exit:E,interrupt:D(N,{interrupt:!0})},p={code:null,containerState:{},defineSkip:C,events:[],now:k,parser:e,previous:null,sliceSerialize:b,sliceStream:w,write:d};let v=r.tokenize.call(p,u);return r.resolveAll&&h.push(r),p;function d(U){return f=Kt(f,U),m(),f[f.length-1]!==null?[]:(L(r,0),p.events=Os(h,p.events,p),p.events)}function b(U,F){return Q1(w(U),F)}function w(U){return J1(f,U)}function k(){const{_bufferIndex:U,_index:F,line:$,column:W,offset:q}=s;return{_bufferIndex:U,_index:F,line:$,column:W,offset:q}}function C(U){a[U.line]=U.column,P()}function m(){let U;for(;s._index<f.length;){const F=f[s._index];if(typeof F=="string")for(U=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===U&&s._bufferIndex<F.length;)x(F.charCodeAt(s._bufferIndex));else x(F)}}function x(U){v=v(U)}function _(U){ke(U)?(s.line++,s.column=1,s.offset+=U===-3?2:1,P()):U!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===f[s._index].length&&(s._bufferIndex=-1,s._index++)),p.previous=U}function y(U,F){const $=F||{};return $.type=U,$.start=k(),p.events.push(["enter",$,p]),o.push($),$}function E(U){const F=o.pop();return F.end=k(),p.events.push(["exit",F,p]),F}function j(U,F){L(U,F.from)}function N(U,F){F.restore()}function D(U,F){return $;function $(W,q,ee){let G,I,H,T;return Array.isArray(W)?K(W):"tokenize"in W?K([W]):M(W);function M(pe){return B;function B(Z){const Y=Z!==null&&pe[Z],ie=Z!==null&&pe.null,we=[...Array.isArray(Y)?Y:Y?[Y]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return K(we)(Z)}}function K(pe){return G=pe,I=0,pe.length===0?ee:z(pe[I])}function z(pe){return B;function B(Z){return T=A(),H=pe,pe.partial||(p.currentConstruct=pe),pe.name&&p.parser.constructs.disable.null.includes(pe.name)?ae():pe.tokenize.call(F?Object.assign(Object.create(p),F):p,u,oe,ae)(Z)}}function oe(pe){return U(H,T),q}function ae(pe){return T.restore(),++I<G.length?z(G[I]):ee}}}function L(U,F){U.resolveAll&&!h.includes(U)&&h.push(U),U.resolve&&zt(p.events,F,p.events.length-F,U.resolve(p.events.slice(F),p)),U.resolveTo&&(p.events=U.resolveTo(p.events,p))}function A(){const U=k(),F=p.previous,$=p.currentConstruct,W=p.events.length,q=Array.from(o);return{from:W,restore:ee};function ee(){s=U,p.previous=F,p.currentConstruct=$,p.events.length=W,o=q,P()}}function P(){s.line in a&&s.column<2&&(s.column=a[s.line],s.offset+=a[s.line]-1)}}function J1(e,r){const n=r.start._index,s=r.start._bufferIndex,a=r.end._index,h=r.end._bufferIndex;let f;if(n===a)f=[e[n].slice(s,h)];else{if(f=e.slice(n,a),s>-1){const o=f[0];typeof o=="string"?f[0]=o.slice(s):f.shift()}h>0&&f.push(e[a].slice(0,h))}return f}function Q1(e,r){let n=-1;const s=[];let a;for(;++n<e.length;){const h=e[n];let f;if(typeof h=="string")f=h;else switch(h){case-5:{f="\r";break}case-4:{f=`
`;break}case-3:{f=`\r
`;break}case-2:{f=r?" ":"	";break}case-1:{if(!r&&a)continue;f=" ";break}default:f=String.fromCharCode(h)}a=h===-2,s.push(f)}return s.join("")}function Z1(e){const s={constructs:nh([Y1,...(e||{}).extensions||[]]),content:a(S_),defined:[],document:a(C_),flow:a(U1),lazy:{},string:a(K1),text:a(q1)};return s;function a(h){return f;function f(o){return X1(s,h,o)}}}function eb(e){for(;!hh(e););return e}const _h=/[\0\t\n\r]/g;function tb(){let e=1,r="",n=!0,s;return a;function a(h,f,o){const u=[];let p,v,d,b,w;for(h=r+(typeof h=="string"?h.toString():new TextDecoder(f||void 0).decode(h)),d=0,r="",n&&(h.charCodeAt(0)===65279&&d++,n=void 0);d<h.length;){if(_h.lastIndex=d,p=_h.exec(h),b=p&&p.index!==void 0?p.index:h.length,w=h.charCodeAt(b),!p){r=h.slice(d);break}if(w===10&&d===b&&s)u.push(-3),s=void 0;else switch(s&&(u.push(-5),s=void 0),d<b&&(u.push(h.slice(d,b)),e+=b-d),w){case 0:{u.push(65533),e++;break}case 9:{for(v=Math.ceil(e/4)*4,u.push(-2);e++<v;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:s=!0,e=1}d=b+1}return o&&(s&&u.push(-5),r&&u.push(r),u.push(null)),u}}const rb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function nb(e){return e.replace(rb,ib)}function ib(e,r,n){if(r)return r;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),h=a===120||a===88;return ih(n.slice(h?2:1),h?16:10)}return Ga(n)||e}const bh={}.hasOwnProperty;function sb(e,r,n){return typeof r!="string"&&(n=r,r=void 0),ob(n)(eb(Z1(n).document().write(tb()(e,r,!0))))}function ob(e){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:h(yr),autolinkProtocol:A,autolinkEmail:A,atxHeading:h(ot),blockQuote:h(ie),characterEscape:A,characterReference:A,codeFenced:h(we),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:h(we,f),codeText:h(me,f),codeTextData:A,data:A,codeFlowValue:A,definition:h(Oe),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:h(Qe),hardBreakEscape:h(qt),hardBreakTrailing:h(qt),htmlFlow:h(Re,f),htmlFlowData:A,htmlText:h(Re,f),htmlTextData:A,image:h(xr),label:f,link:h(yr),listItem:h(Yt),listItemValue:b,listOrdered:h(Gt,d),listUnordered:h(Gt),paragraph:h(_r),reference:z,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:h(ot),strong:h(pt),thematicBreak:h(Ct)},exit:{atxHeading:u(),atxHeadingSequence:j,autolink:u(),autolinkEmail:Y,autolinkProtocol:Z,blockQuote:u(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:pe,characterReference:B,codeFenced:u(m),codeFencedFence:C,codeFencedFenceInfo:w,codeFencedFenceMeta:k,codeFlowValue:P,codeIndented:u(x),codeText:u(q),codeTextData:P,data:P,definition:u(),definitionDestinationString:E,definitionLabelString:_,definitionTitleString:y,emphasis:u(),hardBreakEscape:u(F),hardBreakTrailing:u(F),htmlFlow:u($),htmlFlowData:P,htmlText:u(W),htmlTextData:P,image:u(G),label:H,labelText:I,lineEnding:U,link:u(ee),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:oe,resourceDestinationString:T,resourceTitleString:M,resource:K,setextHeading:u(L),setextHeadingLineSequence:D,setextHeadingText:N,strong:u(),thematicBreak:u()}};wh(r,(e||{}).mdastExtensions||[]);const n={};return s;function s(se){let fe={type:"root",children:[]};const Se={stack:[fe],tokenStack:[],config:r,enter:o,exit:p,buffer:f,resume:v,data:n},De=[];let Ae=-1;for(;++Ae<se.length;)if(se[Ae][1].type==="listOrdered"||se[Ae][1].type==="listUnordered")if(se[Ae][0]==="enter")De.push(Ae);else{const Ze=De.pop();Ae=a(se,Ze,Ae)}for(Ae=-1;++Ae<se.length;){const Ze=r[se[Ae][0]];bh.call(Ze,se[Ae][1].type)&&Ze[se[Ae][1].type].call(Object.assign({sliceSerialize:se[Ae][2].sliceSerialize},Se),se[Ae][1])}if(Se.tokenStack.length>0){const Ze=Se.tokenStack[Se.tokenStack.length-1];(Ze[1]||Sh).call(Se,void 0,Ze[0])}for(fe.position={start:$r(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:$r(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},Ae=-1;++Ae<r.transforms.length;)fe=r.transforms[Ae](fe)||fe;return fe}function a(se,fe,Se){let De=fe-1,Ae=-1,Ze=!1,Fe,Tt,Ur,vn;for(;++De<=Se;){const mt=se[De];switch(mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{mt[0]==="enter"?Ae++:Ae--,vn=void 0;break}case"lineEndingBlank":{mt[0]==="enter"&&(Fe&&!vn&&!Ae&&!Ur&&(Ur=De),vn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vn=void 0}if(!Ae&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||Ae===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(Fe){let wr=De;for(Tt=void 0;wr--;){const Ht=se[wr];if(Ht[1].type==="lineEnding"||Ht[1].type==="lineEndingBlank"){if(Ht[0]==="exit")continue;Tt&&(se[Tt][1].type="lineEndingBlank",Ze=!0),Ht[1].type="lineEnding",Tt=wr}else if(!(Ht[1].type==="linePrefix"||Ht[1].type==="blockQuotePrefix"||Ht[1].type==="blockQuotePrefixWhitespace"||Ht[1].type==="blockQuoteMarker"||Ht[1].type==="listItemIndent"))break}Ur&&(!Tt||Ur<Tt)&&(Fe._spread=!0),Fe.end=Object.assign({},Tt?se[Tt][1].start:mt[1].end),se.splice(Tt||De,0,["exit",Fe,mt[2]]),De++,Se++}if(mt[1].type==="listItemPrefix"){const wr={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start),end:void 0};Fe=wr,se.splice(De,0,["enter",wr,mt[2]]),De++,Se++,Ur=void 0,vn=!0}}}return se[fe][1]._spread=Ze,Se}function h(se,fe){return Se;function Se(De){o.call(this,se(De),De),fe&&fe.call(this,De)}}function f(){this.stack.push({type:"fragment",children:[]})}function o(se,fe,Se){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([fe,Se||void 0]),se.position={start:$r(fe.start),end:void 0}}function u(se){return fe;function fe(Se){se&&se.call(this,Se),p.call(this,Se)}}function p(se,fe){const Se=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==se.type&&(fe?fe.call(this,se,De[0]):(De[1]||Sh).call(this,se,De[0]));else throw new Error("Cannot close `"+se.type+"` ("+Ei({start:se.start,end:se.end})+"): its not open");Se.position.end=$r(se.end)}function v(){return qa(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function b(se){if(this.data.expectingFirstListItemValue){const fe=this.stack[this.stack.length-2];fe.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function w(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.lang=se}function k(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.meta=se}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.value=se.replace(/(\r?\n|\r)$/g,"")}function _(se){const fe=this.resume(),Se=this.stack[this.stack.length-1];Se.label=fe,Se.identifier=ir(this.sliceSerialize(se)).toLowerCase()}function y(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.title=se}function E(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.url=se}function j(se){const fe=this.stack[this.stack.length-1];if(!fe.depth){const Se=this.sliceSerialize(se).length;fe.depth=Se}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function D(se){const fe=this.stack[this.stack.length-1];fe.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function A(se){const Se=this.stack[this.stack.length-1].children;let De=Se[Se.length-1];(!De||De.type!=="text")&&(De=br(),De.position={start:$r(se.start),end:void 0},Se.push(De)),this.stack.push(De)}function P(se){const fe=this.stack.pop();fe.value+=this.sliceSerialize(se),fe.position.end=$r(se.end)}function U(se){const fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=fe.children[fe.children.length-1];Se.position.end=$r(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&r.canContainEols.includes(fe.type)&&(A.call(this,se),P.call(this,se))}function F(){this.data.atHardBreak=!0}function $(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.value=se}function W(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.value=se}function q(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.value=se}function ee(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=fe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function G(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const fe=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=fe,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function I(se){const fe=this.sliceSerialize(se),Se=this.stack[this.stack.length-2];Se.label=nb(fe),Se.identifier=ir(fe).toLowerCase()}function H(){const se=this.stack[this.stack.length-1],fe=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const De=se.children;Se.children=De}else Se.alt=fe}function T(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.url=se}function M(){const se=this.resume(),fe=this.stack[this.stack.length-1];fe.title=se}function K(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function oe(se){const fe=this.resume(),Se=this.stack[this.stack.length-1];Se.label=fe,Se.identifier=ir(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function ae(se){this.data.characterReferenceType=se.type}function pe(se){const fe=this.sliceSerialize(se),Se=this.data.characterReferenceType;let De;Se?(De=ih(fe,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=Ga(fe);const Ae=this.stack[this.stack.length-1];Ae.value+=De}function B(se){const fe=this.stack.pop();fe.position.end=$r(se.end)}function Z(se){P.call(this,se);const fe=this.stack[this.stack.length-1];fe.url=this.sliceSerialize(se)}function Y(se){P.call(this,se);const fe=this.stack[this.stack.length-1];fe.url="mailto:"+this.sliceSerialize(se)}function ie(){return{type:"blockquote",children:[]}}function we(){return{type:"code",lang:null,meta:null,value:""}}function me(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Qe(){return{type:"emphasis",children:[]}}function ot(){return{type:"heading",depth:0,children:[]}}function qt(){return{type:"break"}}function Re(){return{type:"html",value:""}}function xr(){return{type:"image",title:null,url:"",alt:null}}function yr(){return{type:"link",title:null,url:"",children:[]}}function Gt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function Yt(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function _r(){return{type:"paragraph",children:[]}}function pt(){return{type:"strong",children:[]}}function br(){return{type:"text",value:""}}function Ct(){return{type:"thematicBreak"}}}function $r(e){return{line:e.line,column:e.column,offset:e.offset}}function wh(e,r){let n=-1;for(;++n<r.length;){const s=r[n];Array.isArray(s)?wh(e,s):ab(e,s)}}function ab(e,r){let n;for(n in r)if(bh.call(r,n))switch(n){case"canContainEols":{const s=r[n];s&&e[n].push(...s);break}case"transforms":{const s=r[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=r[n];s&&Object.assign(e[n],s);break}}}function Sh(e,r){throw e?new Error("Cannot close `"+e.type+"` ("+Ei({start:e.start,end:e.end})+"): a different token (`"+r.type+"`, "+Ei({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+Ei({start:r.start,end:r.end})+") is still open")}function lb(e){const r=this;r.parser=n;function n(s){return sb(s,{...r.data("settings"),...e,extensions:r.data("micromarkExtensions")||[],mdastExtensions:r.data("fromMarkdownExtensions")||[]})}}function cb(e,r){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(r),!0)};return e.patch(r,n),e.applyData(r,n)}function ub(e,r){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(r,n),[e.applyData(r,n),{type:"text",value:`
`}]}function db(e,r){const n=r.value?r.value+`
`:"",s={},a=r.lang?r.lang.split(/\s+/):[];a.length>0&&(s.className=["language-"+a[0]]);let h={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return r.meta&&(h.data={meta:r.meta}),e.patch(r,h),h=e.applyData(r,h),h={type:"element",tagName:"pre",properties:{},children:[h]},e.patch(r,h),h}function hb(e,r){const n={type:"element",tagName:"del",properties:{},children:e.all(r)};return e.patch(r,n),e.applyData(r,n)}function fb(e,r){const n={type:"element",tagName:"em",properties:{},children:e.all(r)};return e.patch(r,n),e.applyData(r,n)}function pb(e,r){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=String(r.identifier).toUpperCase(),a=Fn(s.toLowerCase()),h=e.footnoteOrder.indexOf(s);let f,o=e.footnoteCounts.get(s);o===void 0?(o=0,e.footnoteOrder.push(s),f=e.footnoteOrder.length):f=h+1,o+=1,e.footnoteCounts.set(s,o);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(f)}]};e.patch(r,u);const p={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(r,p),e.applyData(r,p)}function mb(e,r){const n={type:"element",tagName:"h"+r.depth,properties:{},children:e.all(r)};return e.patch(r,n),e.applyData(r,n)}function gb(e,r){if(e.options.allowDangerousHtml){const n={type:"raw",value:r.value};return e.patch(r,n),e.applyData(r,n)}}function kh(e,r){const n=r.referenceType;let s="]";if(n==="collapsed"?s+="[]":n==="full"&&(s+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return[{type:"text",value:"!["+r.alt+s}];const a=e.all(r),h=a[0];h&&h.type==="text"?h.value="["+h.value:a.unshift({type:"text",value:"["});const f=a[a.length-1];return f&&f.type==="text"?f.value+=s:a.push({type:"text",value:s}),a}function vb(e,r){const n=String(r.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return kh(e,r);const a={src:Fn(s.url||""),alt:r.alt};s.title!==null&&s.title!==void 0&&(a.title=s.title);const h={type:"element",tagName:"img",properties:a,children:[]};return e.patch(r,h),e.applyData(r,h)}function xb(e,r){const n={src:Fn(r.url)};r.alt!==null&&r.alt!==void 0&&(n.alt=r.alt),r.title!==null&&r.title!==void 0&&(n.title=r.title);const s={type:"element",tagName:"img",properties:n,children:[]};return e.patch(r,s),e.applyData(r,s)}function yb(e,r){const n={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};e.patch(r,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(r,s),e.applyData(r,s)}function _b(e,r){const n=String(r.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return kh(e,r);const a={href:Fn(s.url||"")};s.title!==null&&s.title!==void 0&&(a.title=s.title);const h={type:"element",tagName:"a",properties:a,children:e.all(r)};return e.patch(r,h),e.applyData(r,h)}function bb(e,r){const n={href:Fn(r.url)};r.title!==null&&r.title!==void 0&&(n.title=r.title);const s={type:"element",tagName:"a",properties:n,children:e.all(r)};return e.patch(r,s),e.applyData(r,s)}function wb(e,r,n){const s=e.all(r),a=n?Sb(n):Ch(r),h={},f=[];if(typeof r.checked=="boolean"){const v=s[0];let d;v&&v.type==="element"&&v.tagName==="p"?d=v:(d={type:"element",tagName:"p",properties:{},children:[]},s.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),h.className=["task-list-item"]}let o=-1;for(;++o<s.length;){const v=s[o];(a||o!==0||v.type!=="element"||v.tagName!=="p")&&f.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!a?f.push(...v.children):f.push(v)}const u=s[s.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&f.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:h,children:f};return e.patch(r,p),e.applyData(r,p)}function Sb(e){let r=!1;if(e.type==="list"){r=e.spread||!1;const n=e.children;let s=-1;for(;!r&&++s<n.length;)r=Ch(n[s])}return r}function Ch(e){const r=e.spread;return r??e.children.length>1}function kb(e,r){const n={},s=e.all(r);let a=-1;for(typeof r.start=="number"&&r.start!==1&&(n.start=r.start);++a<s.length;){const f=s[a];if(f.type==="element"&&f.tagName==="li"&&f.properties&&Array.isArray(f.properties.className)&&f.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const h={type:"element",tagName:r.ordered?"ol":"ul",properties:n,children:e.wrap(s,!0)};return e.patch(r,h),e.applyData(r,h)}function Cb(e,r){const n={type:"element",tagName:"p",properties:{},children:e.all(r)};return e.patch(r,n),e.applyData(r,n)}function Eb(e,r){const n={type:"root",children:e.wrap(e.all(r))};return e.patch(r,n),e.applyData(r,n)}function Nb(e,r){const n={type:"element",tagName:"strong",properties:{},children:e.all(r)};return e.patch(r,n),e.applyData(r,n)}function jb(e,r){const n=e.all(r),s=n.shift(),a=[];if(s){const f={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(r.children[0],f),a.push(f)}if(n.length>0){const f={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Ha(r.children[1]),u=Vd(r.children[r.children.length-1]);o&&u&&(f.position={start:o,end:u}),a.push(f)}const h={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(r,h),e.applyData(r,h)}function Lb(e,r,n){const s=n?n.children:void 0,h=(s?s.indexOf(r):1)===0?"th":"td",f=n&&n.type==="table"?n.align:void 0,o=f?f.length:r.children.length;let u=-1;const p=[];for(;++u<o;){const d=r.children[u],b={},w=f?f[u]:void 0;w&&(b.align=w);let k={type:"element",tagName:h,properties:b,children:[]};d&&(k.children=e.all(d),e.patch(d,k),k=e.applyData(d,k)),p.push(k)}const v={type:"element",tagName:"tr",properties:{},children:e.wrap(p,!0)};return e.patch(r,v),e.applyData(r,v)}function Rb(e,r){const n={type:"element",tagName:"td",properties:{},children:e.all(r)};return e.patch(r,n),e.applyData(r,n)}const Eh=9,Nh=32;function Tb(e){const r=String(e),n=/\r?\n|\r/g;let s=n.exec(r),a=0;const h=[];for(;s;)h.push(jh(r.slice(a,s.index),a>0,!0),s[0]),a=s.index+s[0].length,s=n.exec(r);return h.push(jh(r.slice(a),a>0,!1)),h.join("")}function jh(e,r,n){let s=0,a=e.length;if(r){let h=e.codePointAt(s);for(;h===Eh||h===Nh;)s++,h=e.codePointAt(s)}if(n){let h=e.codePointAt(a-1);for(;h===Eh||h===Nh;)a--,h=e.codePointAt(a-1)}return a>s?e.slice(s,a):""}function Db(e,r){const n={type:"text",value:Tb(String(r.value))};return e.patch(r,n),e.applyData(r,n)}function Ab(e,r){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(r,n),e.applyData(r,n)}const Ib={blockquote:cb,break:ub,code:db,delete:hb,emphasis:fb,footnoteReference:pb,heading:mb,html:gb,imageReference:vb,image:xb,inlineCode:yb,linkReference:_b,link:bb,listItem:wb,list:kb,paragraph:Cb,root:Eb,strong:Nb,table:jb,tableCell:Rb,tableRow:Lb,text:Db,thematicBreak:Ab,toml:Fs,yaml:Fs,definition:Fs,footnoteDefinition:Fs};function Fs(){}const Lh=-1,zs=0,Ti=1,Hs=2,el=3,tl=4,rl=5,nl=6,Rh=7,Th=8,Dh=typeof self=="object"?self:globalThis,Pb=(e,r)=>{const n=(a,h)=>(e.set(h,a),a),s=a=>{if(e.has(a))return e.get(a);const[h,f]=r[a];switch(h){case zs:case Lh:return n(f,a);case Ti:{const o=n([],a);for(const u of f)o.push(s(u));return o}case Hs:{const o=n({},a);for(const[u,p]of f)o[s(u)]=s(p);return o}case el:return n(new Date(f),a);case tl:{const{source:o,flags:u}=f;return n(new RegExp(o,u),a)}case rl:{const o=n(new Map,a);for(const[u,p]of f)o.set(s(u),s(p));return o}case nl:{const o=n(new Set,a);for(const u of f)o.add(s(u));return o}case Rh:{const{name:o,message:u}=f;return n(new Dh[o](u),a)}case Th:return n(BigInt(f),a);case"BigInt":return n(Object(BigInt(f)),a);case"ArrayBuffer":return n(new Uint8Array(f).buffer,f);case"DataView":{const{buffer:o}=new Uint8Array(f);return n(new DataView(o),f)}}return n(new Dh[h](f),a)};return s},Ah=e=>Pb(new Map,e)(0),Hn="",{toString:Mb}={},{keys:Ob}=Object,Di=e=>{const r=typeof e;if(r!=="object"||!e)return[zs,r];const n=Mb.call(e).slice(8,-1);switch(n){case"Array":return[Ti,Hn];case"Object":return[Hs,Hn];case"Date":return[el,Hn];case"RegExp":return[tl,Hn];case"Map":return[rl,Hn];case"Set":return[nl,Hn];case"DataView":return[Ti,n]}return n.includes("Array")?[Ti,n]:n.includes("Error")?[Rh,n]:[Hs,n]},$s=([e,r])=>e===zs&&(r==="function"||r==="symbol"),Bb=(e,r,n,s)=>{const a=(f,o)=>{const u=s.push(f)-1;return n.set(o,u),u},h=f=>{if(n.has(f))return n.get(f);let[o,u]=Di(f);switch(o){case zs:{let v=f;switch(u){case"bigint":o=Th,v=f.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);v=null;break;case"undefined":return a([Lh],f)}return a([o,v],f)}case Ti:{if(u){let b=f;return u==="DataView"?b=new Uint8Array(f.buffer):u==="ArrayBuffer"&&(b=new Uint8Array(f)),a([u,[...b]],f)}const v=[],d=a([o,v],f);for(const b of f)v.push(h(b));return d}case Hs:{if(u)switch(u){case"BigInt":return a([u,f.toString()],f);case"Boolean":case"Number":case"String":return a([u,f.valueOf()],f)}if(r&&"toJSON"in f)return h(f.toJSON());const v=[],d=a([o,v],f);for(const b of Ob(f))(e||!$s(Di(f[b])))&&v.push([h(b),h(f[b])]);return d}case el:return a([o,f.toISOString()],f);case tl:{const{source:v,flags:d}=f;return a([o,{source:v,flags:d}],f)}case rl:{const v=[],d=a([o,v],f);for(const[b,w]of f)(e||!($s(Di(b))||$s(Di(w))))&&v.push([h(b),h(w)]);return d}case nl:{const v=[],d=a([o,v],f);for(const b of f)(e||!$s(Di(b)))&&v.push(h(b));return d}}const{message:p}=f;return a([o,{name:u,message:p}],f)};return h},Ih=(e,{json:r,lossy:n}={})=>{const s=[];return Bb(!(r||n),!!r,new Map,s)(e),s},Us=typeof structuredClone=="function"?(e,r)=>r&&("json"in r||"lossy"in r)?Ah(Ih(e,r)):structuredClone(e):(e,r)=>Ah(Ih(e,r));function Fb(e,r){const n=[{type:"text",value:""}];return r>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(r)}]}),n}function zb(e,r){return"Back to reference "+(e+1)+(r>1?"-"+r:"")}function Hb(e){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Fb,s=e.options.footnoteBackLabel||zb,a=e.options.footnoteLabel||"Footnotes",h=e.options.footnoteLabelTagName||"h2",f=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<e.footnoteOrder.length;){const p=e.footnoteById.get(e.footnoteOrder[u]);if(!p)continue;const v=e.all(p),d=String(p.identifier).toUpperCase(),b=Fn(d.toLowerCase());let w=0;const k=[],C=e.footnoteCounts.get(d);for(;C!==void 0&&++w<=C;){k.length>0&&k.push({type:"text",value:" "});let _=typeof n=="string"?n:n(u,w);typeof _=="string"&&(_={type:"text",value:_}),k.push({type:"element",tagName:"a",properties:{href:"#"+r+"fnref-"+b+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(u,w),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const m=v[v.length-1];if(m&&m.type==="element"&&m.tagName==="p"){const _=m.children[m.children.length-1];_&&_.type==="text"?_.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...k)}else v.push(...k);const x={type:"element",tagName:"li",properties:{id:r+"fn-"+b},children:e.wrap(v,!0)};e.patch(p,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:h,properties:{...Us(f),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Ws=(function(e){if(e==null)return Vb;if(typeof e=="function")return Vs(e);if(typeof e=="object")return Array.isArray(e)?$b(e):Ub(e);if(typeof e=="string")return Wb(e);throw new Error("Expected function, string, or object as test")});function $b(e){const r=[];let n=-1;for(;++n<e.length;)r[n]=Ws(e[n]);return Vs(s);function s(...a){let h=-1;for(;++h<r.length;)if(r[h].apply(this,a))return!0;return!1}}function Ub(e){const r=e;return Vs(n);function n(s){const a=s;let h;for(h in e)if(a[h]!==r[h])return!1;return!0}}function Wb(e){return Vs(r);function r(n){return n&&n.type===e}}function Vs(e){return r;function r(n,s,a){return!!(Kb(n)&&e.call(this,n,typeof s=="number"?s:void 0,a||void 0))}}function Vb(){return!0}function Kb(e){return e!==null&&typeof e=="object"&&"type"in e}function tj(e){return e}const Ph=[],qb=!0,il=!1,Gb="skip";function Mh(e,r,n,s){let a;typeof r=="function"&&typeof n!="function"?(s=n,n=r):a=r;const h=Ws(a),f=s?-1:1;o(e,void 0,[])();function o(u,p,v){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const w=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(u.type+(w?"<"+w+">":""))+")"})}return b;function b(){let w=Ph,k,C,m;if((!r||h(u,p,v[v.length-1]||void 0))&&(w=Yb(n(u,v)),w[0]===il))return w;if("children"in u&&u.children){const x=u;if(x.children&&w[0]!==Gb)for(C=(s?x.children.length:-1)+f,m=v.concat(x);C>-1&&C<x.children.length;){const _=x.children[C];if(k=o(_,C,m)(),k[0]===il)return k;C=typeof k[1]=="number"?k[1]:C+f}}return w}}}function Yb(e){return Array.isArray(e)?e:typeof e=="number"?[qb,e]:e==null?Ph:[e]}function sl(e,r,n,s){let a,h,f;typeof r=="function"&&typeof n!="function"?(h=void 0,f=r,a=n):(h=r,f=n,a=s),Mh(e,h,o,a);function o(u,p){const v=p[p.length-1],d=v?v.children.indexOf(u):void 0;return f(u,d,v)}}const ol={}.hasOwnProperty,Xb={};function Jb(e,r){const n=r||Xb,s=new Map,a=new Map,h=new Map,f={...Ib,...n.handlers},o={all:p,applyData:Zb,definitionById:s,footnoteById:a,footnoteCounts:h,footnoteOrder:[],handlers:f,one:u,options:n,patch:Qb,wrap:tw};return sl(e,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const d=v.type==="definition"?s:a,b=String(v.identifier).toUpperCase();d.has(b)||d.set(b,v)}}),o;function u(v,d){const b=v.type,w=o.handlers[b];if(ol.call(o.handlers,b)&&w)return w(o,v,d);if(o.options.passThrough&&o.options.passThrough.includes(b)){if("children"in v){const{children:C,...m}=v,x=Us(m);return x.children=o.all(v),x}return Us(v)}return(o.options.unknownHandler||ew)(o,v,d)}function p(v){const d=[];if("children"in v){const b=v.children;let w=-1;for(;++w<b.length;){const k=o.one(b[w],v);if(k){if(w&&b[w-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=Oh(k.value)),!Array.isArray(k)&&k.type==="element")){const C=k.children[0];C&&C.type==="text"&&(C.value=Oh(C.value))}Array.isArray(k)?d.push(...k):d.push(k)}}}return d}}function Qb(e,r){e.position&&(r.position=Yy(e))}function Zb(e,r){let n=r;if(e&&e.data){const s=e.data.hName,a=e.data.hChildren,h=e.data.hProperties;if(typeof s=="string")if(n.type==="element")n.tagName=s;else{const f="children"in n?n.children:[n];n={type:"element",tagName:s,properties:{},children:f}}n.type==="element"&&h&&Object.assign(n.properties,Us(h)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function ew(e,r){const n=r.data||{},s="value"in r&&!(ol.call(n,"hProperties")||ol.call(n,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:e.all(r)};return e.patch(r,s),e.applyData(r,s)}function tw(e,r){const n=[];let s=-1;for(r&&n.push({type:"text",value:`
`});++s<e.length;)s&&n.push({type:"text",value:`
`}),n.push(e[s]);return r&&e.length>0&&n.push({type:"text",value:`
`}),n}function Oh(e){let r=0,n=e.charCodeAt(r);for(;n===9||n===32;)r++,n=e.charCodeAt(r);return e.slice(r)}function Bh(e,r){const n=Jb(e,r),s=n.one(e,void 0),a=Hb(n),h=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return a&&h.children.push({type:"text",value:`
`},a),h}function rw(e,r){return e&&"run"in e?async function(n,s){const a=Bh(n,{file:s,...r});await e.run(a,s)}:function(n,s){return Bh(n,{file:s,...e||r})}}function Fh(e){if(e)throw e}var al,zh;function nw(){if(zh)return al;zh=1;var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):r.call(p)==="[object Array]"},h=function(p){if(!p||r.call(p)!=="[object Object]")return!1;var v=e.call(p,"constructor"),d=p.constructor&&p.constructor.prototype&&e.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!d)return!1;var b;for(b in p);return typeof b>"u"||e.call(p,b)},f=function(p,v){n&&v.name==="__proto__"?n(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},o=function(p,v){if(v==="__proto__")if(e.call(p,v)){if(s)return s(p,v).value}else return;return p[v]};return al=function u(){var p,v,d,b,w,k,C=arguments[0],m=1,x=arguments.length,_=!1;for(typeof C=="boolean"&&(_=C,C=arguments[1]||{},m=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});m<x;++m)if(p=arguments[m],p!=null)for(v in p)d=o(C,v),b=o(p,v),C!==b&&(_&&b&&(h(b)||(w=a(b)))?(w?(w=!1,k=d&&a(d)?d:[]):k=d&&h(d)?d:{},f(C,{name:v,newValue:u(_,k,b)})):typeof b<"u"&&f(C,{name:v,newValue:b}));return C},al}var iw=nw();const ll=rr(iw);function cl(e){if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function sw(){const e=[],r={run:n,use:s};return r;function n(...a){let h=-1;const f=a.pop();if(typeof f!="function")throw new TypeError("Expected function as last argument, not "+f);o(null,...a);function o(u,...p){const v=e[++h];let d=-1;if(u){f(u);return}for(;++d<a.length;)(p[d]===null||p[d]===void 0)&&(p[d]=a[d]);a=p,v?ow(v,o)(...p):f(null,...p)}}function s(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),r}}function ow(e,r){let n;return s;function s(...f){const o=e.length>f.length;let u;o&&f.push(a);try{u=e.apply(this,f)}catch(p){const v=p;if(o&&n)throw v;return a(v)}o||(u&&u.then&&typeof u.then=="function"?u.then(h,a):u instanceof Error?a(u):h(u))}function a(f,...o){n||(n=!0,r(f,...o))}function h(f){a(null,f)}}const gr={basename:aw,dirname:lw,extname:cw,join:uw,sep:"/"};function aw(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Ai(e);let n=0,s=-1,a=e.length,h;if(r===void 0||r.length===0||r.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(h){n=a+1;break}}else s<0&&(h=!0,s=a+1);return s<0?"":e.slice(n,s)}if(r===e)return"";let f=-1,o=r.length-1;for(;a--;)if(e.codePointAt(a)===47){if(h){n=a+1;break}}else f<0&&(h=!0,f=a+1),o>-1&&(e.codePointAt(a)===r.codePointAt(o--)?o<0&&(s=a):(o=-1,s=f));return n===s?s=f:s<0&&(s=e.length),e.slice(n,s)}function lw(e){if(Ai(e),e.length===0)return".";let r=-1,n=e.length,s;for(;--n;)if(e.codePointAt(n)===47){if(s){r=n;break}}else s||(s=!0);return r<0?e.codePointAt(0)===47?"/":".":r===1&&e.codePointAt(0)===47?"//":e.slice(0,r)}function cw(e){Ai(e);let r=e.length,n=-1,s=0,a=-1,h=0,f;for(;r--;){const o=e.codePointAt(r);if(o===47){if(f){s=r+1;break}continue}n<0&&(f=!0,n=r+1),o===46?a<0?a=r:h!==1&&(h=1):a>-1&&(h=-1)}return a<0||n<0||h===0||h===1&&a===n-1&&a===s+1?"":e.slice(a,n)}function uw(...e){let r=-1,n;for(;++r<e.length;)Ai(e[r]),e[r]&&(n=n===void 0?e[r]:n+"/"+e[r]);return n===void 0?".":dw(n)}function dw(e){Ai(e);const r=e.codePointAt(0)===47;let n=hw(e,!r);return n.length===0&&!r&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),r?"/"+n:n}function hw(e,r){let n="",s=0,a=-1,h=0,f=-1,o,u;for(;++f<=e.length;){if(f<e.length)o=e.codePointAt(f);else{if(o===47)break;o=47}if(o===47){if(!(a===f-1||h===1))if(a!==f-1&&h===2){if(n.length<2||s!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",s=0):(n=n.slice(0,u),s=n.length-1-n.lastIndexOf("/")),a=f,h=0;continue}}else if(n.length>0){n="",s=0,a=f,h=0;continue}}r&&(n=n.length>0?n+"/..":"..",s=2)}else n.length>0?n+="/"+e.slice(a+1,f):n=e.slice(a+1,f),s=f-a-1;a=f,h=0}else o===46&&h>-1?h++:h=-1}return n}function Ai(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const fw={cwd:pw};function pw(){return"/"}function ul(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function mw(e){if(typeof e=="string")e=new URL(e);else if(!ul(e)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(e.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return gw(e)}function gw(e){if(e.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const r=e.pathname;let n=-1;for(;++n<r.length;)if(r.codePointAt(n)===37&&r.codePointAt(n+1)===50){const s=r.codePointAt(n+2);if(s===70||s===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(r)}const dl=["history","path","basename","stem","extname","dirname"];class Hh{constructor(r){let n;r?ul(r)?n={path:r}:typeof r=="string"||vw(r)?n={value:r}:n=r:n={},this.cwd="cwd"in n?"":fw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<dl.length;){const h=dl[s];h in n&&n[h]!==void 0&&n[h]!==null&&(this[h]=h==="history"?[...n[h]]:n[h])}let a;for(a in n)dl.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?gr.basename(this.path):void 0}set basename(r){fl(r,"basename"),hl(r,"basename"),this.path=gr.join(this.dirname||"",r)}get dirname(){return typeof this.path=="string"?gr.dirname(this.path):void 0}set dirname(r){$h(this.basename,"dirname"),this.path=gr.join(r||"",this.basename)}get extname(){return typeof this.path=="string"?gr.extname(this.path):void 0}set extname(r){if(hl(r,"extname"),$h(this.dirname,"extname"),r){if(r.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gr.join(this.dirname,this.stem+(r||""))}get path(){return this.history[this.history.length-1]}set path(r){ul(r)&&(r=mw(r)),fl(r,"path"),this.path!==r&&this.history.push(r)}get stem(){return typeof this.path=="string"?gr.basename(this.path,this.extname):void 0}set stem(r){fl(r,"stem"),hl(r,"stem"),this.path=gr.join(this.dirname||"",r+(this.extname||""))}fail(r,n,s){const a=this.message(r,n,s);throw a.fatal=!0,a}info(r,n,s){const a=this.message(r,n,s);return a.fatal=void 0,a}message(r,n,s){const a=new xt(r,n,s);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(r){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(r||void 0).decode(this.value)}}function hl(e,r){if(e&&e.includes(gr.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+gr.sep+"`")}function fl(e,r){if(!e)throw new Error("`"+r+"` cannot be empty")}function $h(e,r){if(!e)throw new Error("Setting `"+r+"` requires `path` to be set too")}function vw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xw=(function(e){const s=this.constructor.prototype,a=s[e],h=function(){return a.apply(h,arguments)};return Object.setPrototypeOf(h,s),h}),yw={}.hasOwnProperty;class pl extends xw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=sw()}copy(){const r=new pl;let n=-1;for(;++n<this.attachers.length;){const s=this.attachers[n];r.use(...s)}return r.data(ll(!0,{},this.namespace)),r}data(r,n){return typeof r=="string"?arguments.length===2?(vl("data",this.frozen),this.namespace[r]=n,this):yw.call(this.namespace,r)&&this.namespace[r]||void 0:r?(vl("data",this.frozen),this.namespace=r,this):this.namespace}freeze(){if(this.frozen)return this;const r=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const a=n.call(r,...s);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(r){this.freeze();const n=Ks(r),s=this.parser||this.Parser;return ml("parse",s),s(String(n),n)}process(r,n){const s=this;return this.freeze(),ml("process",this.parser||this.Parser),gl("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(h,f){const o=Ks(r),u=s.parse(o);s.run(u,o,function(v,d,b){if(v||!d||!b)return p(v);const w=d,k=s.stringify(w,b);ww(k)?b.value=k:b.result=k,p(v,b)});function p(v,d){v||!d?f(v):h?h(d):n(void 0,d)}}}processSync(r){let n=!1,s;return this.freeze(),ml("processSync",this.parser||this.Parser),gl("processSync",this.compiler||this.Compiler),this.process(r,a),Wh("processSync","process",n),s;function a(h,f){n=!0,Fh(h),s=f}}run(r,n,s){Uh(r),this.freeze();const a=this.transformers;return!s&&typeof n=="function"&&(s=n,n=void 0),s?h(void 0,s):new Promise(h);function h(f,o){const u=Ks(n);a.run(r,u,p);function p(v,d,b){const w=d||r;v?o(v):f?f(w):s(void 0,w,b)}}}runSync(r,n){let s=!1,a;return this.run(r,n,h),Wh("runSync","run",s),a;function h(f,o){Fh(f),a=o,s=!0}}stringify(r,n){this.freeze();const s=Ks(n),a=this.compiler||this.Compiler;return gl("stringify",a),Uh(r),a(r,s)}use(r,...n){const s=this.attachers,a=this.namespace;if(vl("use",this.frozen),r!=null)if(typeof r=="function")u(r,n);else if(typeof r=="object")Array.isArray(r)?o(r):f(r);else throw new TypeError("Expected usable value, not `"+r+"`");return this;function h(p){if(typeof p=="function")u(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[v,...d]=p;u(v,d)}else f(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function f(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(p.plugins),p.settings&&(a.settings=ll(!0,a.settings,p.settings))}function o(p){let v=-1;if(p!=null)if(Array.isArray(p))for(;++v<p.length;){const d=p[v];h(d)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function u(p,v){let d=-1,b=-1;for(;++d<s.length;)if(s[d][0]===p){b=d;break}if(b===-1)s.push([p,...v]);else if(v.length>0){let[w,...k]=v;const C=s[b][1];cl(C)&&cl(w)&&(w=ll(!0,C,w)),s[b]=[p,w,...k]}}}}const _w=new pl().freeze();function ml(e,r){if(typeof r!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function gl(e,r){if(typeof r!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function vl(e,r){if(r)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Uh(e){if(!cl(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Wh(e,r,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+r+"` instead")}function Ks(e){return bw(e)?e:new Hh(e)}function bw(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ww(e){return typeof e=="string"||Sw(e)}function Sw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const kw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Vh=[],Kh={allowDangerousHtml:!0},Cw=/^(https?|ircs?|mailto|xmpp)$/i,Ew=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Nw(e){const r=jw(e),n=Lw(e);return Rw(r.runSync(r.parse(n),n),e)}function jw(e){const r=e.rehypePlugins||Vh,n=e.remarkPlugins||Vh,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Kh}:Kh;return _w().use(lb).use(n).use(rw,s).use(r)}function Lw(e){const r=e.children||"",n=new Hh;return typeof r=="string"&&(n.value=r),n}function Rw(e,r){const n=r.allowedElements,s=r.allowElement,a=r.components,h=r.disallowedElements,f=r.skipHtml,o=r.unwrapDisallowed,u=r.urlTransform||Tw;for(const v of Ew)Object.hasOwn(r,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+kw+v.id,void 0);return sl(e,p),e_(e,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function p(v,d,b){if(v.type==="raw"&&b&&typeof d=="number")return f?b.children.splice(d,1):b.children[d]={type:"text",value:v.value},d;if(v.type==="element"){let w;for(w in Ka)if(Object.hasOwn(Ka,w)&&Object.hasOwn(v.properties,w)){const k=v.properties[w],C=Ka[w];(C===null||C.includes(v.tagName))&&(v.properties[w]=u(String(k||""),w,v))}}if(v.type==="element"){let w=n?!n.includes(v.tagName):h?h.includes(v.tagName):!1;if(!w&&s&&typeof d=="number"&&(w=!s(v,d,b)),w&&b&&typeof d=="number")return o&&v.children?b.children.splice(d,1,...v.children):b.children.splice(d,1),d}}}function Tw(e){const r=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),a=e.indexOf("/");return r===-1||a!==-1&&r>a||n!==-1&&r>n||s!==-1&&r>s||Cw.test(e.slice(0,r))?e:""}function qh(e,r){const n=String(e);if(typeof r!="string")throw new TypeError("Expected character");let s=0,a=n.indexOf(r);for(;a!==-1;)s++,a=n.indexOf(r,a+r.length);return s}function Dw(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Aw(e,r,n){const a=Ws((n||{}).ignore||[]),h=Iw(r);let f=-1;for(;++f<h.length;)Mh(e,"text",o);function o(p,v){let d=-1,b;for(;++d<v.length;){const w=v[d],k=b?b.children:void 0;if(a(w,k?k.indexOf(w):void 0,b))return;b=w}if(b)return u(p,v)}function u(p,v){const d=v[v.length-1],b=h[f][0],w=h[f][1];let k=0;const m=d.children.indexOf(p);let x=!1,_=[];b.lastIndex=0;let y=b.exec(p.value);for(;y;){const E=y.index,j={index:y.index,input:y.input,stack:[...v,p]};let N=w(...y,j);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?b.lastIndex=E+1:(k!==E&&_.push({type:"text",value:p.value.slice(k,E)}),Array.isArray(N)?_.push(...N):N&&_.push(N),k=E+y[0].length,x=!0),!b.global)break;y=b.exec(p.value)}return x?(k<p.value.length&&_.push({type:"text",value:p.value.slice(k)}),d.children.splice(m,1,..._)):_=[p],m+_.length}}function Iw(e){const r=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let s=-1;for(;++s<n.length;){const a=n[s];r.push([Pw(a[0]),Mw(a[1])])}return r}function Pw(e){return typeof e=="string"?new RegExp(Dw(e),"g"):e}function Mw(e){return typeof e=="function"?e:function(){return e}}const xl="phrasing",yl=["autolink","link","image","label"];function Ow(){return{transforms:[Ww],enter:{literalAutolink:Fw,literalAutolinkEmail:_l,literalAutolinkHttp:_l,literalAutolinkWww:_l},exit:{literalAutolink:Uw,literalAutolinkEmail:$w,literalAutolinkHttp:zw,literalAutolinkWww:Hw}}}function Bw(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:xl,notInConstruct:yl},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:xl,notInConstruct:yl},{character:":",before:"[ps]",after:"\\/",inConstruct:xl,notInConstruct:yl}]}}function Fw(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function _l(e){this.config.enter.autolinkProtocol.call(this,e)}function zw(e){this.config.exit.autolinkProtocol.call(this,e)}function Hw(e){this.config.exit.data.call(this,e);const r=this.stack[this.stack.length-1];r.type,r.url="http://"+this.sliceSerialize(e)}function $w(e){this.config.exit.autolinkEmail.call(this,e)}function Uw(e){this.exit(e)}function Ww(e){Aw(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Vw],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Kw]],{ignore:["link","linkReference"]})}function Vw(e,r,n,s,a){let h="";if(!Gh(a)||(/^w/i.test(r)&&(n=r+n,r="",h="http://"),!qw(n)))return!1;const f=Gw(n+s);if(!f[0])return!1;const o={type:"link",title:null,url:h+r+f[0],children:[{type:"text",value:r+f[0]}]};return f[1]?[o,{type:"text",value:f[1]}]:o}function Kw(e,r,n,s){return!Gh(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+r+"@"+n,children:[{type:"text",value:r+"@"+n}]}}function qw(e){const r=e.split(".");return!(r.length<2||r[r.length-1]&&(/_/.test(r[r.length-1])||!/[a-zA-Z\d]/.test(r[r.length-1]))||r[r.length-2]&&(/_/.test(r[r.length-2])||!/[a-zA-Z\d]/.test(r[r.length-2])))}function Gw(e){const r=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!r)return[e,void 0];e=e.slice(0,r.index);let n=r[0],s=n.indexOf(")");const a=qh(e,"(");let h=qh(e,")");for(;s!==-1&&a>h;)e+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),h++;return[e,n]}function Gh(e,r){const n=e.input.charCodeAt(e.index-1);return(e.index===0||mn(n)||Ms(n))&&(!r||n!==47)}Yh.peek=nS;function Yw(){this.buffer()}function Xw(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Jw(){this.buffer()}function Qw(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Zw(e){const r=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ir(this.sliceSerialize(e)).toLowerCase(),n.label=r}function eS(e){this.exit(e)}function tS(e){const r=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ir(this.sliceSerialize(e)).toLowerCase(),n.label=r}function rS(e){this.exit(e)}function nS(){return"["}function Yh(e,r,n,s){const a=n.createTracker(s);let h=a.move("[^");const f=n.enter("footnoteReference"),o=n.enter("reference");return h+=a.move(n.safe(n.associationId(e),{after:"]",before:h})),o(),f(),h+=a.move("]"),h}function iS(){return{enter:{gfmFootnoteCallString:Yw,gfmFootnoteCall:Xw,gfmFootnoteDefinitionLabelString:Jw,gfmFootnoteDefinition:Qw},exit:{gfmFootnoteCallString:Zw,gfmFootnoteCall:eS,gfmFootnoteDefinitionLabelString:tS,gfmFootnoteDefinition:rS}}}function sS(e){let r=!1;return e&&e.firstLineBlank&&(r=!0),{handlers:{footnoteDefinition:n,footnoteReference:Yh},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,a,h,f){const o=h.createTracker(f);let u=o.move("[^");const p=h.enter("footnoteDefinition"),v=h.enter("label");return u+=o.move(h.safe(h.associationId(s),{before:u,after:"]"})),v(),u+=o.move("]:"),s.children&&s.children.length>0&&(o.shift(4),u+=o.move((r?`
`:" ")+h.indentLines(h.containerFlow(s,o.current()),r?Xh:oS))),p(),u}}function oS(e,r,n){return r===0?e:Xh(e,r,n)}function Xh(e,r,n){return(n?"":"    ")+e}const aS=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Jh.peek=hS;function lS(){return{canContainEols:["delete"],enter:{strikethrough:uS},exit:{strikethrough:dS}}}function cS(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:aS}],handlers:{delete:Jh}}}function uS(e){this.enter({type:"delete",children:[]},e)}function dS(e){this.exit(e)}function Jh(e,r,n,s){const a=n.createTracker(s),h=n.enter("strikethrough");let f=a.move("~~");return f+=n.containerPhrasing(e,{...a.current(),before:f,after:"~"}),f+=a.move("~~"),h(),f}function hS(){return"~"}function fS(e){return e.length}function pS(e,r){const n=r||{},s=(n.align||[]).concat(),a=n.stringLength||fS,h=[],f=[],o=[],u=[];let p=0,v=-1;for(;++v<e.length;){const C=[],m=[];let x=-1;for(e[v].length>p&&(p=e[v].length);++x<e[v].length;){const _=mS(e[v][x]);if(n.alignDelimiters!==!1){const y=a(_);m[x]=y,(u[x]===void 0||y>u[x])&&(u[x]=y)}C.push(_)}f[v]=C,o[v]=m}let d=-1;if(typeof s=="object"&&"length"in s)for(;++d<p;)h[d]=Qh(s[d]);else{const C=Qh(s);for(;++d<p;)h[d]=C}d=-1;const b=[],w=[];for(;++d<p;){const C=h[d];let m="",x="";C===99?(m=":",x=":"):C===108?m=":":C===114&&(x=":");let _=n.alignDelimiters===!1?1:Math.max(1,u[d]-m.length-x.length);const y=m+"-".repeat(_)+x;n.alignDelimiters!==!1&&(_=m.length+_+x.length,_>u[d]&&(u[d]=_),w[d]=_),b[d]=y}f.splice(1,0,b),o.splice(1,0,w),v=-1;const k=[];for(;++v<f.length;){const C=f[v],m=o[v];d=-1;const x=[];for(;++d<p;){const _=C[d]||"";let y="",E="";if(n.alignDelimiters!==!1){const j=u[d]-(m[d]||0),N=h[d];N===114?y=" ".repeat(j):N===99?j%2?(y=" ".repeat(j/2+.5),E=" ".repeat(j/2-.5)):(y=" ".repeat(j/2),E=y):E=" ".repeat(j)}n.delimiterStart!==!1&&!d&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||d)&&x.push(" "),n.alignDelimiters!==!1&&x.push(y),x.push(_),n.alignDelimiters!==!1&&x.push(E),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||d!==p-1)&&x.push("|")}k.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return k.join(`
`)}function mS(e){return e==null?"":String(e)}function Qh(e){const r=typeof e=="string"?e.codePointAt(0):0;return r===67||r===99?99:r===76||r===108?108:r===82||r===114?114:0}function gS(e,r,n,s){const a=n.enter("blockquote"),h=n.createTracker(s);h.move("> "),h.shift(2);const f=n.indentLines(n.containerFlow(e,h.current()),vS);return a(),f}function vS(e,r,n){return">"+(n?"":" ")+e}function xS(e,r){return Zh(e,r.inConstruct,!0)&&!Zh(e,r.notInConstruct,!1)}function Zh(e,r,n){if(typeof r=="string"&&(r=[r]),!r||r.length===0)return n;let s=-1;for(;++s<r.length;)if(e.includes(r[s]))return!0;return!1}function ef(e,r,n,s){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&xS(n.stack,n.unsafe[a]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function yS(e,r){const n=String(e);let s=n.indexOf(r),a=s,h=0,f=0;if(typeof r!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===a?++h>f&&(f=h):h=1,a=s+r.length,s=n.indexOf(r,a);return f}function _S(e,r){return!!(r.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function bS(e){const r=e.options.fence||"`";if(r!=="`"&&r!=="~")throw new Error("Cannot serialize code with `"+r+"` for `options.fence`, expected `` ` `` or `~`");return r}function wS(e,r,n,s){const a=bS(n),h=e.value||"",f=a==="`"?"GraveAccent":"Tilde";if(_S(e,n)){const d=n.enter("codeIndented"),b=n.indentLines(h,SS);return d(),b}const o=n.createTracker(s),u=a.repeat(Math.max(yS(h,a)+1,3)),p=n.enter("codeFenced");let v=o.move(u);if(e.lang){const d=n.enter(`codeFencedLang${f}`);v+=o.move(n.safe(e.lang,{before:v,after:" ",encode:["`"],...o.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${f}`);v+=o.move(" "),v+=o.move(n.safe(e.meta,{before:v,after:`
`,encode:["`"],...o.current()})),d()}return v+=o.move(`
`),h&&(v+=o.move(h+`
`)),v+=o.move(u),p(),v}function SS(e,r,n){return(n?"":"    ")+e}function bl(e){const r=e.options.quote||'"';if(r!=='"'&&r!=="'")throw new Error("Cannot serialize title with `"+r+"` for `options.quote`, expected `\"`, or `'`");return r}function kS(e,r,n,s){const a=bl(n),h=a==='"'?"Quote":"Apostrophe",f=n.enter("definition");let o=n.enter("label");const u=n.createTracker(s);let p=u.move("[");return p+=u.move(n.safe(n.associationId(e),{before:p,after:"]",...u.current()})),p+=u.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(e.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(o=n.enter("destinationRaw"),p+=u.move(n.safe(e.url,{before:p,after:e.title?" ":`
`,...u.current()}))),o(),e.title&&(o=n.enter(`title${h}`),p+=u.move(" "+a),p+=u.move(n.safe(e.title,{before:p,after:a,...u.current()})),p+=u.move(a),o()),f(),p}function CS(e){const r=e.options.emphasis||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize emphasis with `"+r+"` for `options.emphasis`, expected `*`, or `_`");return r}function Ii(e){return"&#x"+e.toString(16).toUpperCase()+";"}function qs(e,r,n){const s=zn(e),a=zn(r);return s===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}tf.peek=ES;function tf(e,r,n,s){const a=CS(n),h=n.enter("emphasis"),f=n.createTracker(s),o=f.move(a);let u=f.move(n.containerPhrasing(e,{after:a,before:o,...f.current()}));const p=u.charCodeAt(0),v=qs(s.before.charCodeAt(s.before.length-1),p,a);v.inside&&(u=Ii(p)+u.slice(1));const d=u.charCodeAt(u.length-1),b=qs(s.after.charCodeAt(0),d,a);b.inside&&(u=u.slice(0,-1)+Ii(d));const w=f.move(a);return h(),n.attentionEncodeSurroundingInfo={after:b.outside,before:v.outside},o+u+w}function ES(e,r,n){return n.options.emphasis||"*"}function NS(e,r){let n=!1;return sl(e,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,il}),!!((!e.depth||e.depth<3)&&qa(e)&&(r.options.setext||n))}function jS(e,r,n,s){const a=Math.max(Math.min(6,e.depth||1),1),h=n.createTracker(s);if(NS(e,n)){const v=n.enter("headingSetext"),d=n.enter("phrasing"),b=n.containerPhrasing(e,{...h.current(),before:`
`,after:`
`});return d(),v(),b+`
`+(a===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const f="#".repeat(a),o=n.enter("headingAtx"),u=n.enter("phrasing");h.move(f+" ");let p=n.containerPhrasing(e,{before:"# ",after:`
`,...h.current()});return/^[\t ]/.test(p)&&(p=Ii(p.charCodeAt(0))+p.slice(1)),p=p?f+" "+p:f,n.options.closeAtx&&(p+=" "+f),u(),o(),p}rf.peek=LS;function rf(e){return e.value||""}function LS(){return"<"}nf.peek=RS;function nf(e,r,n,s){const a=bl(n),h=a==='"'?"Quote":"Apostrophe",f=n.enter("image");let o=n.enter("label");const u=n.createTracker(s);let p=u.move("![");return p+=u.move(n.safe(e.alt,{before:p,after:"]",...u.current()})),p+=u.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),p+=u.move("<"),p+=u.move(n.safe(e.url,{before:p,after:">",...u.current()})),p+=u.move(">")):(o=n.enter("destinationRaw"),p+=u.move(n.safe(e.url,{before:p,after:e.title?" ":")",...u.current()}))),o(),e.title&&(o=n.enter(`title${h}`),p+=u.move(" "+a),p+=u.move(n.safe(e.title,{before:p,after:a,...u.current()})),p+=u.move(a),o()),p+=u.move(")"),f(),p}function RS(){return"!"}sf.peek=TS;function sf(e,r,n,s){const a=e.referenceType,h=n.enter("imageReference");let f=n.enter("label");const o=n.createTracker(s);let u=o.move("![");const p=n.safe(e.alt,{before:u,after:"]",...o.current()});u+=o.move(p+"]["),f();const v=n.stack;n.stack=[],f=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return f(),n.stack=v,h(),a==="full"||!p||p!==d?u+=o.move(d+"]"):a==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function TS(){return"!"}of.peek=DS;function of(e,r,n){let s=e.value||"",a="`",h=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(s);)a+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++h<n.unsafe.length;){const f=n.unsafe[h],o=n.compilePattern(f);let u;if(f.atBreak)for(;u=o.exec(s);){let p=u.index;s.charCodeAt(p)===10&&s.charCodeAt(p-1)===13&&p--,s=s.slice(0,p)+" "+s.slice(u.index+1)}}return a+s+a}function DS(){return"`"}function af(e,r){const n=qa(e);return!!(!r.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}lf.peek=AS;function lf(e,r,n,s){const a=bl(n),h=a==='"'?"Quote":"Apostrophe",f=n.createTracker(s);let o,u;if(af(e,n)){const v=n.stack;n.stack=[],o=n.enter("autolink");let d=f.move("<");return d+=f.move(n.containerPhrasing(e,{before:d,after:">",...f.current()})),d+=f.move(">"),o(),n.stack=v,d}o=n.enter("link"),u=n.enter("label");let p=f.move("[");return p+=f.move(n.containerPhrasing(e,{before:p,after:"](",...f.current()})),p+=f.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),p+=f.move("<"),p+=f.move(n.safe(e.url,{before:p,after:">",...f.current()})),p+=f.move(">")):(u=n.enter("destinationRaw"),p+=f.move(n.safe(e.url,{before:p,after:e.title?" ":")",...f.current()}))),u(),e.title&&(u=n.enter(`title${h}`),p+=f.move(" "+a),p+=f.move(n.safe(e.title,{before:p,after:a,...f.current()})),p+=f.move(a),u()),p+=f.move(")"),o(),p}function AS(e,r,n){return af(e,n)?"<":"["}cf.peek=IS;function cf(e,r,n,s){const a=e.referenceType,h=n.enter("linkReference");let f=n.enter("label");const o=n.createTracker(s);let u=o.move("[");const p=n.containerPhrasing(e,{before:u,after:"]",...o.current()});u+=o.move(p+"]["),f();const v=n.stack;n.stack=[],f=n.enter("reference");const d=n.safe(n.associationId(e),{before:u,after:"]",...o.current()});return f(),n.stack=v,h(),a==="full"||!p||p!==d?u+=o.move(d+"]"):a==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function IS(){return"["}function wl(e){const r=e.options.bullet||"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bullet`, expected `*`, `+`, or `-`");return r}function PS(e){const r=wl(e),n=e.options.bulletOther;if(!n)return r==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===r)throw new Error("Expected `bullet` (`"+r+"`) and `bulletOther` (`"+n+"`) to be different");return n}function MS(e){const r=e.options.bulletOrdered||".";if(r!=="."&&r!==")")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOrdered`, expected `.` or `)`");return r}function uf(e){const r=e.options.rule||"*";if(r!=="*"&&r!=="-"&&r!=="_")throw new Error("Cannot serialize rules with `"+r+"` for `options.rule`, expected `*`, `-`, or `_`");return r}function OS(e,r,n,s){const a=n.enter("list"),h=n.bulletCurrent;let f=e.ordered?MS(n):wl(n);const o=e.ordered?f==="."?")":".":PS(n);let u=r&&n.bulletLastUsed?f===n.bulletLastUsed:!1;if(!e.ordered){const v=e.children?e.children[0]:void 0;if((f==="*"||f==="-")&&v&&(!v.children||!v.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),uf(n)===f&&v){let d=-1;for(;++d<e.children.length;){const b=e.children[d];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(f=o),n.bulletCurrent=f;const p=n.containerFlow(e,s);return n.bulletLastUsed=f,n.bulletCurrent=h,a(),p}function BS(e){const r=e.options.listItemIndent||"one";if(r!=="tab"&&r!=="one"&&r!=="mixed")throw new Error("Cannot serialize items with `"+r+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return r}function FS(e,r,n,s){const a=BS(n);let h=n.bulletCurrent||wl(n);r&&r.type==="list"&&r.ordered&&(h=(typeof r.start=="number"&&r.start>-1?r.start:1)+(n.options.incrementListMarker===!1?0:r.children.indexOf(e))+h);let f=h.length+1;(a==="tab"||a==="mixed"&&(r&&r.type==="list"&&r.spread||e.spread))&&(f=Math.ceil(f/4)*4);const o=n.createTracker(s);o.move(h+" ".repeat(f-h.length)),o.shift(f);const u=n.enter("listItem"),p=n.indentLines(n.containerFlow(e,o.current()),v);return u(),p;function v(d,b,w){return b?(w?"":" ".repeat(f))+d:(w?h:h+" ".repeat(f-h.length))+d}}function zS(e,r,n,s){const a=n.enter("paragraph"),h=n.enter("phrasing"),f=n.containerPhrasing(e,s);return h(),a(),f}const HS=Ws(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $S(e,r,n,s){return(e.children.some(function(f){return HS(f)})?n.containerPhrasing:n.containerFlow).call(n,e,s)}function US(e){const r=e.options.strong||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize strong with `"+r+"` for `options.strong`, expected `*`, or `_`");return r}df.peek=WS;function df(e,r,n,s){const a=US(n),h=n.enter("strong"),f=n.createTracker(s),o=f.move(a+a);let u=f.move(n.containerPhrasing(e,{after:a,before:o,...f.current()}));const p=u.charCodeAt(0),v=qs(s.before.charCodeAt(s.before.length-1),p,a);v.inside&&(u=Ii(p)+u.slice(1));const d=u.charCodeAt(u.length-1),b=qs(s.after.charCodeAt(0),d,a);b.inside&&(u=u.slice(0,-1)+Ii(d));const w=f.move(a+a);return h(),n.attentionEncodeSurroundingInfo={after:b.outside,before:v.outside},o+u+w}function WS(e,r,n){return n.options.strong||"*"}function VS(e,r,n,s){return n.safe(e.value,s)}function KS(e){const r=e.options.ruleRepetition||3;if(r<3)throw new Error("Cannot serialize rules with repetition `"+r+"` for `options.ruleRepetition`, expected `3` or more");return r}function qS(e,r,n){const s=(uf(n)+(n.options.ruleSpaces?" ":"")).repeat(KS(n));return n.options.ruleSpaces?s.slice(0,-1):s}const hf={blockquote:gS,break:ef,code:wS,definition:kS,emphasis:tf,hardBreak:ef,heading:jS,html:rf,image:nf,imageReference:sf,inlineCode:of,link:lf,linkReference:cf,list:OS,listItem:FS,paragraph:zS,root:$S,strong:df,text:VS,thematicBreak:qS};function GS(){return{enter:{table:YS,tableData:ff,tableHeader:ff,tableRow:JS},exit:{codeText:QS,table:XS,tableData:Sl,tableHeader:Sl,tableRow:Sl}}}function YS(e){const r=e._align;this.enter({type:"table",align:r.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function XS(e){this.exit(e),this.data.inTable=void 0}function JS(e){this.enter({type:"tableRow",children:[]},e)}function Sl(e){this.exit(e)}function ff(e){this.enter({type:"tableCell",children:[]},e)}function QS(e){let r=this.resume();this.data.inTable&&(r=r.replace(/\\([\\|])/g,ZS));const n=this.stack[this.stack.length-1];n.type,n.value=r,this.exit(e)}function ZS(e,r){return r==="|"?r:e}function ek(e){const r=e||{},n=r.tableCellPadding,s=r.tablePipeAlign,a=r.stringLength,h=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:f,tableCell:u,tableRow:o}};function f(w,k,C,m){return p(v(w,C,m),w.align)}function o(w,k,C,m){const x=d(w,C,m),_=p([x]);return _.slice(0,_.indexOf(`
`))}function u(w,k,C,m){const x=C.enter("tableCell"),_=C.enter("phrasing"),y=C.containerPhrasing(w,{...m,before:h,after:h});return _(),x(),y}function p(w,k){return pS(w,{align:k,alignDelimiters:s,padding:n,stringLength:a})}function v(w,k,C){const m=w.children;let x=-1;const _=[],y=k.enter("table");for(;++x<m.length;)_[x]=d(m[x],k,C);return y(),_}function d(w,k,C){const m=w.children;let x=-1;const _=[],y=k.enter("tableRow");for(;++x<m.length;)_[x]=u(m[x],w,k,C);return y(),_}function b(w,k,C){let m=hf.inlineCode(w,k,C);return C.stack.includes("tableCell")&&(m=m.replace(/\|/g,"\\$&")),m}}function tk(){return{exit:{taskListCheckValueChecked:pf,taskListCheckValueUnchecked:pf,paragraph:nk}}}function rk(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ik}}}function pf(e){const r=this.stack[this.stack.length-2];r.type,r.checked=e.type==="taskListCheckValueChecked"}function nk(e){const r=this.stack[this.stack.length-2];if(r&&r.type==="listItem"&&typeof r.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const s=n.children[0];if(s&&s.type==="text"){const a=r.children;let h=-1,f;for(;++h<a.length;){const o=a[h];if(o.type==="paragraph"){f=o;break}}f===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(e)}function ik(e,r,n,s){const a=e.children[0],h=typeof e.checked=="boolean"&&a&&a.type==="paragraph",f="["+(e.checked?"x":" ")+"] ",o=n.createTracker(s);h&&o.move(f);let u=hf.listItem(e,r,n,{...s,...o.current()});return h&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,p)),u;function p(v){return v+f}}function sk(){return[Ow(),iS(),lS(),GS(),tk()]}function ok(e){return{extensions:[Bw(),sS(e),cS(),ek(e),rk()]}}const ak={tokenize:fk,partial:!0},mf={tokenize:pk,partial:!0},gf={tokenize:mk,partial:!0},vf={tokenize:gk,partial:!0},lk={tokenize:vk,partial:!0},xf={name:"wwwAutolink",tokenize:dk,previous:_f},yf={name:"protocolAutolink",tokenize:hk,previous:bf},Rr={name:"emailAutolink",tokenize:uk,previous:wf},vr={};function ck(){return{text:vr}}let gn=48;for(;gn<123;)vr[gn]=Rr,gn++,gn===58?gn=65:gn===91&&(gn=97);vr[43]=Rr,vr[45]=Rr,vr[46]=Rr,vr[95]=Rr,vr[72]=[Rr,yf],vr[104]=[Rr,yf],vr[87]=[Rr,xf],vr[119]=[Rr,xf];function uk(e,r,n){const s=this;let a,h;return f;function f(d){return!kl(d)||!wf.call(s,s.previous)||Cl(s.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return kl(d)?(e.consume(d),o):d===64?(e.consume(d),u):n(d)}function u(d){return d===46?e.check(lk,v,p)(d):d===45||d===95||yt(d)?(h=!0,e.consume(d),u):v(d)}function p(d){return e.consume(d),a=!0,u}function v(d){return h&&a&&kt(s.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),r(d)):n(d)}}function dk(e,r,n){const s=this;return a;function a(f){return f!==87&&f!==119||!_f.call(s,s.previous)||Cl(s.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ak,e.attempt(mf,e.attempt(gf,h),n),n)(f))}function h(f){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),r(f)}}function hk(e,r,n){const s=this;let a="",h=!1;return f;function f(d){return(d===72||d===104)&&bf.call(s,s.previous)&&!Cl(s.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(d),e.consume(d),o):n(d)}function o(d){if(kt(d)&&a.length<5)return a+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const b=a.toLowerCase();if(b==="http"||b==="https")return e.consume(d),u}return n(d)}function u(d){return d===47?(e.consume(d),h?p:(h=!0,u)):n(d)}function p(d){return d===null||Ps(d)||Ve(d)||mn(d)||Ms(d)?n(d):e.attempt(mf,e.attempt(gf,v),n)(d)}function v(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),r(d)}}function fk(e,r,n){let s=0;return a;function a(f){return(f===87||f===119)&&s<3?(s++,e.consume(f),a):f===46&&s===3?(e.consume(f),h):n(f)}function h(f){return f===null?n(f):r(f)}}function pk(e,r,n){let s,a,h;return f;function f(p){return p===46||p===95?e.check(vf,u,o)(p):p===null||Ve(p)||mn(p)||p!==45&&Ms(p)?u(p):(h=!0,e.consume(p),f)}function o(p){return p===95?s=!0:(a=s,s=void 0),e.consume(p),f}function u(p){return a||s||!h?n(p):r(p)}}function mk(e,r){let n=0,s=0;return a;function a(f){return f===40?(n++,e.consume(f),a):f===41&&s<n?h(f):f===33||f===34||f===38||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===60||f===63||f===93||f===95||f===126?e.check(vf,r,h)(f):f===null||Ve(f)||mn(f)?r(f):(e.consume(f),a)}function h(f){return f===41&&s++,e.consume(f),a}}function gk(e,r,n){return s;function s(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),s):o===38?(e.consume(o),h):o===93?(e.consume(o),a):o===60||o===null||Ve(o)||mn(o)?r(o):n(o)}function a(o){return o===null||o===40||o===91||Ve(o)||mn(o)?r(o):s(o)}function h(o){return kt(o)?f(o):n(o)}function f(o){return o===59?(e.consume(o),s):kt(o)?(e.consume(o),f):n(o)}}function vk(e,r,n){return s;function s(h){return e.consume(h),a}function a(h){return yt(h)?n(h):r(h)}}function _f(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ve(e)}function bf(e){return!kt(e)}function wf(e){return!(e===47||kl(e))}function kl(e){return e===43||e===45||e===46||e===95||yt(e)}function Cl(e){let r=e.length,n=!1;for(;r--;){const s=e[r][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const xk={tokenize:Ek,partial:!0};function yk(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Sk,continuation:{tokenize:kk},exit:Ck}},text:{91:{name:"gfmFootnoteCall",tokenize:wk},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:_k,resolveTo:bk}}}}function _k(e,r,n){const s=this;let a=s.events.length;const h=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let f;for(;a--;){const u=s.events[a][1];if(u.type==="labelImage"){f=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!f||!f._balanced)return n(u);const p=ir(s.sliceSerialize({start:f.end,end:s.now()}));return p.codePointAt(0)!==94||!h.includes(p.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),r(u))}}function bk(e,r){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const h={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},f={type:"chunkString",contentType:"string",start:Object.assign({},h.start),end:Object.assign({},h.end)},o=[e[n+1],e[n+2],["enter",s,r],e[n+3],e[n+4],["enter",a,r],["exit",a,r],["enter",h,r],["enter",f,r],["exit",f,r],["exit",h,r],e[e.length-2],e[e.length-1],["exit",s,r]];return e.splice(n,e.length-n+1,...o),e}function wk(e,r,n){const s=this,a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let h=0,f;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),u}function u(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",p)}function p(d){if(h>999||d===93&&!f||d===null||d===91||Ve(d))return n(d);if(d===93){e.exit("chunkString");const b=e.exit("gfmFootnoteCallString");return a.includes(ir(s.sliceSerialize(b)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),r):n(d)}return Ve(d)||(f=!0),h++,e.consume(d),d===92?v:p}function v(d){return d===91||d===92||d===93?(e.consume(d),h++,p):p(d)}}function Sk(e,r,n){const s=this,a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let h,f=0,o;return u;function u(k){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),p}function p(k){return k===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",v):n(k)}function v(k){if(f>999||k===93&&!o||k===null||k===91||Ve(k))return n(k);if(k===93){e.exit("chunkString");const C=e.exit("gfmFootnoteDefinitionLabelString");return h=ir(s.sliceSerialize(C)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(k),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),b}return Ve(k)||(o=!0),f++,e.consume(k),k===92?d:v}function d(k){return k===91||k===92||k===93?(e.consume(k),f++,v):v(k)}function b(k){return k===58?(e.enter("definitionMarker"),e.consume(k),e.exit("definitionMarker"),a.includes(h)||a.push(h),Be(e,w,"gfmFootnoteDefinitionWhitespace")):n(k)}function w(k){return r(k)}}function kk(e,r,n){return e.check(ji,r,e.attempt(xk,r,n))}function Ck(e){e.exit("gfmFootnoteDefinition")}function Ek(e,r,n){const s=this;return Be(e,a,"gfmFootnoteDefinitionIndent",5);function a(h){const f=s.events[s.events.length-1];return f&&f[1].type==="gfmFootnoteDefinitionIndent"&&f[2].sliceSerialize(f[1],!0).length===4?r(h):n(h)}}function Nk(e){let n=(e||{}).singleTilde;const s={name:"strikethrough",tokenize:h,resolveAll:a};return n==null&&(n=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function a(f,o){let u=-1;for(;++u<f.length;)if(f[u][0]==="enter"&&f[u][1].type==="strikethroughSequenceTemporary"&&f[u][1]._close){let p=u;for(;p--;)if(f[p][0]==="exit"&&f[p][1].type==="strikethroughSequenceTemporary"&&f[p][1]._open&&f[u][1].end.offset-f[u][1].start.offset===f[p][1].end.offset-f[p][1].start.offset){f[u][1].type="strikethroughSequence",f[p][1].type="strikethroughSequence";const v={type:"strikethrough",start:Object.assign({},f[p][1].start),end:Object.assign({},f[u][1].end)},d={type:"strikethroughText",start:Object.assign({},f[p][1].end),end:Object.assign({},f[u][1].start)},b=[["enter",v,o],["enter",f[p][1],o],["exit",f[p][1],o],["enter",d,o]],w=o.parser.constructs.insideSpan.null;w&&zt(b,b.length,0,Os(w,f.slice(p+1,u),o)),zt(b,b.length,0,[["exit",d,o],["enter",f[u][1],o],["exit",f[u][1],o],["exit",v,o]]),zt(f,p-1,u-p+3,b),u=p+b.length-2;break}}for(u=-1;++u<f.length;)f[u][1].type==="strikethroughSequenceTemporary"&&(f[u][1].type="data");return f}function h(f,o,u){const p=this.previous,v=this.events;let d=0;return b;function b(k){return p===126&&v[v.length-1][1].type!=="characterEscape"?u(k):(f.enter("strikethroughSequenceTemporary"),w(k))}function w(k){const C=zn(p);if(k===126)return d>1?u(k):(f.consume(k),d++,w);if(d<2&&!n)return u(k);const m=f.exit("strikethroughSequenceTemporary"),x=zn(k);return m._open=!x||x===2&&!!C,m._close=!C||C===2&&!!x,o(k)}}}class jk{constructor(){this.map=[]}add(r,n,s){Lk(this,r,n,s)}consume(r){if(this.map.sort(function(h,f){return h[0]-f[0]}),this.map.length===0)return;let n=this.map.length;const s=[];for(;n>0;)n-=1,s.push(r.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),r.length=this.map[n][0];s.push(r.slice()),r.length=0;let a=s.pop();for(;a;){for(const h of a)r.push(h);a=s.pop()}this.map.length=0}}function Lk(e,r,n,s){let a=0;if(!(n===0&&s.length===0)){for(;a<e.map.length;){if(e.map[a][0]===r){e.map[a][1]+=n,e.map[a][2].push(...s);return}a+=1}e.map.push([r,n,s])}}function Rk(e,r){let n=!1;const s=[];for(;r<e.length;){const a=e[r];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&s.push(e[r+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[r-1][1].type==="tableDelimiterMarker"){const h=s.length-1;s[h]=s[h]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);r+=1}return s}function Tk(){return{flow:{null:{name:"table",tokenize:Dk,resolveAll:Ak}}}}function Dk(e,r,n){const s=this;let a=0,h=0,f;return o;function o(P){let U=s.events.length-1;for(;U>-1;){const W=s.events[U][1].type;if(W==="lineEnding"||W==="linePrefix")U--;else break}const F=U>-1?s.events[U][1].type:null,$=F==="tableHead"||F==="tableRow"?N:u;return $===N&&s.parser.lazy[s.now().line]?n(P):$(P)}function u(P){return e.enter("tableHead"),e.enter("tableRow"),p(P)}function p(P){return P===124||(f=!0,h+=1),v(P)}function v(P){return P===null?n(P):ke(P)?h>1?(h=0,s.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),w):n(P):Me(P)?Be(e,v,"whitespace")(P):(h+=1,f&&(f=!1,a+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),f=!0,v):(e.enter("data"),d(P)))}function d(P){return P===null||P===124||Ve(P)?(e.exit("data"),v(P)):(e.consume(P),P===92?b:d)}function b(P){return P===92||P===124?(e.consume(P),d):d(P)}function w(P){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(P):(e.enter("tableDelimiterRow"),f=!1,Me(P)?Be(e,k,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):k(P))}function k(P){return P===45||P===58?m(P):P===124?(f=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),C):j(P)}function C(P){return Me(P)?Be(e,m,"whitespace")(P):m(P)}function m(P){return P===58?(h+=1,f=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),x):P===45?(h+=1,x(P)):P===null||ke(P)?E(P):j(P)}function x(P){return P===45?(e.enter("tableDelimiterFiller"),_(P)):j(P)}function _(P){return P===45?(e.consume(P),_):P===58?(f=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(P))}function y(P){return Me(P)?Be(e,E,"whitespace")(P):E(P)}function E(P){return P===124?k(P):P===null||ke(P)?!f||a!==h?j(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),r(P)):j(P)}function j(P){return n(P)}function N(P){return e.enter("tableRow"),D(P)}function D(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),D):P===null||ke(P)?(e.exit("tableRow"),r(P)):Me(P)?Be(e,D,"whitespace")(P):(e.enter("data"),L(P))}function L(P){return P===null||P===124||Ve(P)?(e.exit("data"),D(P)):(e.consume(P),P===92?A:L)}function A(P){return P===92||P===124?(e.consume(P),L):L(P)}}function Ak(e,r){let n=-1,s=!0,a=0,h=[0,0,0,0],f=[0,0,0,0],o=!1,u=0,p,v,d;const b=new jk;for(;++n<e.length;){const w=e[n],k=w[1];w[0]==="enter"?k.type==="tableHead"?(o=!1,u!==0&&(Sf(b,r,u,p,v),v=void 0,u=0),p={type:"table",start:Object.assign({},k.start),end:Object.assign({},k.end)},b.add(n,0,[["enter",p,r]])):k.type==="tableRow"||k.type==="tableDelimiterRow"?(s=!0,d=void 0,h=[0,0,0,0],f=[0,n+1,0,0],o&&(o=!1,v={type:"tableBody",start:Object.assign({},k.start),end:Object.assign({},k.end)},b.add(n,0,[["enter",v,r]])),a=k.type==="tableDelimiterRow"?2:v?3:1):a&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")?(s=!1,f[2]===0&&(h[1]!==0&&(f[0]=f[1],d=Gs(b,r,h,a,void 0,d),h=[0,0,0,0]),f[2]=n)):k.type==="tableCellDivider"&&(s?s=!1:(h[1]!==0&&(f[0]=f[1],d=Gs(b,r,h,a,void 0,d)),h=f,f=[h[1],n,0,0])):k.type==="tableHead"?(o=!0,u=n):k.type==="tableRow"||k.type==="tableDelimiterRow"?(u=n,h[1]!==0?(f[0]=f[1],d=Gs(b,r,h,a,n,d)):f[1]!==0&&(d=Gs(b,r,f,a,n,d)),a=0):a&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")&&(f[3]=n)}for(u!==0&&Sf(b,r,u,p,v),b.consume(r.events),n=-1;++n<r.events.length;){const w=r.events[n];w[0]==="enter"&&w[1].type==="table"&&(w[1]._align=Rk(r.events,n))}return e}function Gs(e,r,n,s,a,h){const f=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(h.end=Object.assign({},$n(r.events,n[0])),e.add(n[0],0,[["exit",h,r]]));const u=$n(r.events,n[1]);if(h={type:f,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",h,r]]),n[2]!==0){const p=$n(r.events,n[2]),v=$n(r.events,n[3]),d={type:o,start:Object.assign({},p),end:Object.assign({},v)};if(e.add(n[2],0,[["enter",d,r]]),s!==2){const b=r.events[n[2]],w=r.events[n[3]];if(b[1].end=Object.assign({},w[1].end),b[1].type="chunkText",b[1].contentType="text",n[3]>n[2]+1){const k=n[2]+1,C=n[3]-n[2]-1;e.add(k,C,[])}}e.add(n[3]+1,0,[["exit",d,r]])}return a!==void 0&&(h.end=Object.assign({},$n(r.events,a)),e.add(a,0,[["exit",h,r]]),h=void 0),h}function Sf(e,r,n,s,a){const h=[],f=$n(r.events,n);a&&(a.end=Object.assign({},f),h.push(["exit",a,r])),s.end=Object.assign({},f),h.push(["exit",s,r]),e.add(n+1,0,h)}function $n(e,r){const n=e[r],s=n[0]==="enter"?"start":"end";return n[1][s]}const Ik={name:"tasklistCheck",tokenize:Mk};function Pk(){return{text:{91:Ik}}}function Mk(e,r,n){const s=this;return a;function a(u){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),h)}function h(u){return Ve(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),f):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),f):n(u)}function f(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(u)}function o(u){return ke(u)?r(u):Me(u)?e.check({tokenize:Ok},r,n)(u):n(u)}}function Ok(e,r,n){return Be(e,s,"whitespace");function s(a){return a===null?n(a):r(a)}}function Bk(e){return nh([ck(),yk(),Nk(e),Tk(),Pk()])}const Fk={};function zk(e){const r=this,n=e||Fk,s=r.data(),a=s.micromarkExtensions||(s.micromarkExtensions=[]),h=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),f=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);a.push(Bk(n)),h.push(sk()),f.push(ok(n))}const Hk={pre({children:e,...r}){return c.jsx("pre",{className:"code-block",...r,children:e})},code({children:e,...r}){return r.className?c.jsx("code",{...r,children:e}):c.jsx("code",{className:"inline-code",...r,children:e})},a({href:e,children:r,...n}){return c.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",...n,children:r})}};function kf({content:e,className:r=""}){return c.jsx("div",{className:`markdown-content ${r}`,children:c.jsx(Nw,{remarkPlugins:[zk],components:Hk,children:e})})}function $k({content:e,className:r=""}){return c.jsx("pre",{className:`step-content-pre ${r}`,children:e})}function Pi({children:e,content:r,maxLines:n=5,maxChars:s=300}){const[a,h]=J.useState(!1),{shouldCollapse:f,lineCount:o}=J.useMemo(()=>{const p=r.split(`
`).length,v=r.length;return{shouldCollapse:p>n||v>s,lineCount:p}},[r,n,s]);return f?c.jsxs("div",{className:"collapsible-content",children:[c.jsx("div",{className:a?"":"collapsible-collapsed",children:e}),c.jsx("button",{type:"button",className:"collapsible-toggle",onClick:()=>h(!a),"aria-expanded":a?"true":"false",children:a?c.jsxs(c.Fragment,{children:[c.jsx(vd,{className:"icon-scaled-xs inline-block mr-1"}),"Show less"]}):c.jsxs(c.Fragment,{children:[c.jsx(In,{className:"icon-scaled-xs inline-block mr-1"}),"Show more (",o," lines)"]})})]}):c.jsx(c.Fragment,{children:e})}function Cf({content:e,className:r=""}){const[n,s]=J.useState(!1),a=Uk(e),h=async()=>{try{await navigator.clipboard.writeText(a),s(!0),setTimeout(()=>s(!1),2e3)}catch{}};return c.jsxs("div",{className:`bash-content ${r}`,children:[c.jsxs("div",{className:"bash-content-header",children:[c.jsx("span",{className:"bash-content-label",children:"Shell"}),c.jsx("button",{type:"button",className:"bash-content-copy",onClick:h,title:"Copy command",children:n?c.jsx(jr,{className:"icon-scaled-xs"}):c.jsx(S0,{className:"icon-scaled-xs"})})]}),c.jsxs("pre",{className:"bash-content-code",children:[c.jsx("span",{className:"bash-prompt",children:"$"})," ",a]})]})}function Uk(e){const r=e.match(/^\[Bash\]\s*(.+)$/);if(r){const n=r[1];return n.startsWith("command=")?n.slice(8).trim():n.trim()}return e.trim()}function Wk({content:e,toolName:r,className:n=""}){const s=Kk(e),a=Vk(r);return c.jsxs("div",{className:`file-content ${n}`,children:[c.jsxs("div",{className:"file-content-path",children:[c.jsx(a,{className:"icon-scaled-sm file-content-icon"}),c.jsx("code",{className:"file-path-text",children:s})]}),e!==s&&c.jsx("pre",{className:"file-content-detail",children:qk(e)})]})}function Vk(e){switch(e){case"Write":return j0;case"Edit":return N0;default:return wd}}function Kk(e){const r=e.match(/^\[(Read|Write|Edit)\]\s*file_path=([^\s]+)/);if(r)return r[2];const n=e.match(/(?:^|\s)(\/[^\s]+|[A-Za-z]:\\[^\s]+)/);return n?n[1]:e}function qk(e,r){let n=e;const s=n.match(/^\[(Read|Write|Edit)\]\s*/);if(s&&(n=n.slice(s[0].length)),n.startsWith("file_path=")){const a=n.match(/^file_path=[^\s]+\s*(.*)/s);a&&(n=a[1])}return n.trim()}function Ef({content:e,className:r=""}){const[n,s]=J.useState(!1),{parsed:a,isValid:h}=Gk(e);if(!h)return c.jsx("pre",{className:`step-content-pre ${r}`,children:e});const f=JSON.stringify(a,null,2),o=Yk(a);return c.jsxs("div",{className:`json-content ${r}`,children:[c.jsxs("button",{type:"button",className:"json-content-toggle",onClick:()=>s(!n),"aria-expanded":n?"true":"false",children:[n?c.jsx(In,{className:"icon-scaled-xs"}):c.jsx(dn,{className:"icon-scaled-xs"}),c.jsx("span",{className:"json-preview",children:o})]}),n&&c.jsx("pre",{className:"json-content-code",children:f})]})}function Gk(e){try{const r=e.search(/[{\[]/);if(r===-1)return{parsed:null,isValid:!1};const n=e.slice(r);return{parsed:JSON.parse(n),isValid:!0}}catch{return{parsed:null,isValid:!1}}}function Yk(e){if(Array.isArray(e))return`Array[${e.length}]`;if(e&&typeof e=="object"){const r=Object.keys(e);return r.length<=3?`{ ${r.join(", ")} }`:`Object { ${r.slice(0,3).join(", ")}, ... }`}return String(e)}function El({step:e}){const{type:r,content:n,tool_name:s}=e;if(r==="assistant_message")return c.jsx(Pi,{content:n,maxLines:10,maxChars:500,children:c.jsx(kf,{content:n})});if(r==="tool_call"&&s){if(s==="Bash")return c.jsx(Pi,{content:n,maxLines:5,maxChars:300,children:c.jsx(Cf,{content:n})});if(s==="Read"||s==="Write"||s==="Edit")return c.jsx(Pi,{content:n,maxLines:5,maxChars:300,children:c.jsx(Wk,{content:n,toolName:s})})}return r==="tool_result"&&Xk(n)?c.jsx(Pi,{content:n,maxLines:5,maxChars:300,children:c.jsx(Ef,{content:n})}):c.jsx(Pi,{content:n,maxLines:5,maxChars:300,children:c.jsx($k,{content:n})})}function Xk(e){const r=e.trim();if(r.startsWith("{")||r.startsWith("["))try{return JSON.parse(r),!0}catch{return!1}return!1}function Jk({call:e,result:r}){return c.jsxs("div",{className:"paired-tool-step",children:[c.jsxs("div",{className:"paired-step-call",children:[c.jsxs("div",{className:"paired-step-header",children:[c.jsx(As,{className:"icon-scaled-sm text-[var(--accent-warning)]"}),c.jsx("span",{className:"paired-step-label",children:"Tool"}),e.tool_name&&c.jsx("code",{className:"paired-step-tool-name",children:e.tool_name})]}),c.jsx("div",{className:"paired-step-content",children:c.jsx(El,{step:e})})]}),c.jsxs("div",{className:"paired-step-result",children:[c.jsxs("div",{className:"paired-step-header",children:[c.jsx(yi,{className:"icon-scaled-sm text-[var(--accent-success)]"}),c.jsx("span",{className:"paired-step-label",children:"Result"})]}),c.jsx("div",{className:"paired-step-content",children:c.jsx(El,{step:r})})]})]})}const Nf={user_message:{Icon:Q0,labelKey:"tasks.user",colorClass:"text-[var(--accent-primary)]"},assistant_message:{Icon:x0,labelKey:"tasks.assistant",colorClass:"text-[var(--accent-success)]"},tool_call:{Icon:As,labelKey:"tasks.tool",colorClass:"text-[var(--accent-warning)]"},tool_result:{Icon:yi,labelKey:"tasks.result",colorClass:"text-[var(--accent-warning)]"},system_event:{Icon:Da,labelKey:"tasks.system",colorClass:"text-[var(--accent-info)]"}};function jf(e){return Nf[e]||Nf.system_event}function Qk(e){return new Date(e).toLocaleString("en-US",{timeZone:"Asia/Shanghai",hour:"2-digit",minute:"2-digit",second:"2-digit"})}const Zk=["user_message","assistant_message","tool_call","tool_result","system_event"],Ys=50;function e2(e){const r=[],n=new Map,s=new Set;for(const a of e)if(a.type==="tool_result"&&a.tool_call_id){for(const h of e)if(h.type==="tool_call"&&h.tool_call_id===a.tool_call_id){n.set(a.tool_call_id,h),s.add(a.tool_call_id);break}}for(const a of e)if(!(a.type==="tool_call"&&a.tool_call_id&&s.has(a.tool_call_id))){if(a.type==="tool_result"&&a.tool_call_id){const h=n.get(a.tool_call_id);if(h){r.push({type:"paired",call:h,result:a,key:`paired-${a.tool_call_id}`});continue}}r.push({type:"single",step:a,key:`single-${a.step_id}`})}return r}function t2({steps:e}){const{t:r}=Ue(),[n,s]=J.useState(new Set),[a,h]=J.useState(Ys),f=J.useRef(null),o=w=>{s(k=>{const C=new Set(k);return C.has(w)?C.delete(w):C.add(w),C}),h(Ys)},u=n.size===0?e:e.filter(w=>n.has(w.type)),p=J.useMemo(()=>e2(u),[u]),v=p.slice(0,a),d=a<p.length,b=J.useCallback(()=>{const w=f.current;if(!w)return;const{scrollTop:k,scrollHeight:C,clientHeight:m}=w;C-k-m<100&&h(x=>x>=p.length?x:Math.min(x+Ys,p.length))},[p.length]);return J.useEffect(()=>{const w=f.current;if(!w)return;const k=()=>b();return w.addEventListener("scroll",k,{passive:!0}),()=>w.removeEventListener("scroll",k)},[b]),J.useEffect(()=>{const w=f.current;w&&w.scrollHeight<=w.clientHeight&&a<p.length&&h(p.length)},[a,p.length]),J.useEffect(()=>{h(Ys)},[n]),e.length===0?c.jsx("div",{className:"text-[var(--text-muted)] text-center py-scaled-4",children:r("tasks.noSteps")}):c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-1 pb-scaled-2 border-b border-[var(--border-primary)] mb-scaled-2 shrink-0",children:[c.jsxs("span",{className:"text-scaled-xs text-[var(--text-muted)]",children:[r("tasks.filter"),":"]}),Zk.map(w=>{const{Icon:k,labelKey:C,colorClass:m}=jf(w),x=r(C),_=n.has(w),y=n.size===0||_;return c.jsxs("button",{onClick:()=>o(w),className:`flex items-center gap-1 px-2 py-0.5 rounded text-scaled-xs transition-opacity ${y?"opacity-100":"opacity-40"} hover:opacity-100`,title:x,children:[c.jsx(k,{className:"icon-scaled-sm"}),c.jsx("span",{className:y?m:"text-[var(--text-muted)]",children:x})]},w)}),c.jsx("span",{className:"text-scaled-xs text-[var(--text-muted)] ml-auto",children:u.length})]}),c.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto min-h-0",children:[c.jsx("div",{className:"flex flex-col gap-scaled-2",children:v.map(w=>{if(w.type==="paired")return c.jsx(Jk,{call:w.call,result:w.result},w.key);const k=w.step,{Icon:C,labelKey:m,colorClass:x}=jf(k.type),_=r(m);return c.jsxs("div",{className:"step-item-new",children:[c.jsxs("div",{className:"flex items-center justify-between mb-scaled-1",children:[c.jsxs("div",{className:"flex items-center gap-scaled-2",children:[c.jsx(C,{className:"icon-scaled-sm"}),c.jsx("span",{className:`text-scaled-xs font-medium ${x}`,children:_}),k.tool_name&&c.jsx("code",{className:"text-scaled-xs px-scaled-2 py-0.5 bg-[var(--bg-secondary)] rounded font-mono",children:k.tool_name})]}),c.jsx("span",{className:"text-scaled-xs text-[var(--text-muted)]",children:Qk(k.timestamp)})]}),c.jsx("div",{className:"text-scaled-sm text-[var(--text-secondary)] break-words pl-scaled-5",children:c.jsx(El,{step:k})})]},w.key)})}),d&&c.jsx("div",{className:"text-center py-scaled-2 text-scaled-xs text-[var(--text-muted)]",children:r("tasks.scrollToLoadMore")})]})]})}function r2({steps:e,sessionId:r}){const n=J.useRef(null),[s,a]=J.useState(""),[h,f]=J.useState(!1);return J.useEffect(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[e,s]),J.useEffect(()=>{if(!r||!h)return;const o=new AbortController;return(async()=>{var p;try{const v=await fetch(`/api/logs/agent/${r}/stream`,{signal:o.signal});if(!v.ok){console.error("Failed to fetch log stream");return}const d=(p=v.body)==null?void 0:p.getReader(),b=new TextDecoder;if(!d)return;let w="";for(;;){const{done:k,value:C}=await d.read();if(k)break;const m=b.decode(C,{stream:!0});w+=m,a(w)}}catch(v){v instanceof Error&&v.name!=="AbortError"&&console.error("Error streaming log:",v)}})(),()=>{o.abort()}},[r,h]),!e||e.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[var(--text-muted)]",children:[c.jsx(Ds,{className:"icon-scaled-lg mb-scaled-2 opacity-50"}),c.jsx("p",{children:"No terminal output yet"})]}):c.jsxs("div",{className:"h-full flex flex-col",children:[r&&c.jsxs("div",{className:"flex gap-scaled-2 mb-scaled-2 shrink-0",children:[c.jsx("button",{className:`px-scaled-2 py-scaled-1 text-scaled-xs rounded ${h?"bg-[var(--bg-secondary)] text-[var(--text-muted)]":"bg-[var(--accent-primary)] text-white"}`,onClick:()=>f(!1),children:"Structured"}),c.jsx("button",{className:`px-scaled-2 py-scaled-1 text-scaled-xs rounded ${h?"bg-[var(--accent-primary)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-muted)]"}`,onClick:()=>f(!0),children:"Raw Log (Real-time)"})]}),c.jsx("div",{ref:n,className:"flex-1 overflow-y-auto bg-[var(--bg-elevated)] rounded p-scaled-3 font-mono text-scaled-xs",style:{fontFamily:"var(--font-geist-mono)"},children:h&&s?c.jsx("pre",{className:"whitespace-pre-wrap break-words text-[var(--text-primary)]",children:s}):e.map((o,u)=>c.jsxs("div",{className:"mb-scaled-2 border-b border-[var(--border-subtle)] pb-scaled-2",children:[c.jsxs("div",{className:"text-[var(--text-muted)] mb-scaled-1",children:["[",new Date(o.timestamp).toLocaleTimeString(),"] ",o.type,o.tool_name&&` - ${o.tool_name}`]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words text-[var(--text-primary)]",children:o.content})]},u))})]})}var Nl={exports:{}},Lf;function n2(){return Lf||(Lf=1,(function(e,r){(function(n,s){e.exports=s()})(self,(()=>(()=>{var n={4567:function(f,o,u){var p=this&&this.__decorate||function(y,E,j,N){var D,L=arguments.length,A=L<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,j):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,E,j,N);else for(var P=y.length-1;P>=0;P--)(D=y[P])&&(A=(L<3?D(A):L>3?D(E,j,A):D(E,j))||A);return L>3&&A&&Object.defineProperty(E,j,A),A},v=this&&this.__param||function(y,E){return function(j,N){E(j,N,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const d=u(9042),b=u(6114),w=u(9924),k=u(844),C=u(5596),m=u(4725),x=u(3656);let _=o.AccessibilityManager=class extends k.Disposable{constructor(y,E){super(),this._terminal=y,this._renderService=E,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let j=0;j<this._terminal.rows;j++)this._rowElements[j]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[j]);if(this._topBoundaryFocusListener=j=>this._handleBoundaryFocus(j,0),this._bottomBoundaryFocusListener=j=>this._handleBoundaryFocus(j,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new w.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((j=>this._handleResize(j.rows)))),this.register(this._terminal.onRender((j=>this._refreshRows(j.start,j.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((j=>this._handleChar(j)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((j=>this._handleTab(j)))),this.register(this._terminal.onKey((j=>this._handleKey(j.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this._screenDprMonitor=new C.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener((()=>this._refreshRowsDimensions())),this.register((0,x.addDisposableDomListener)(window,"resize",(()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,k.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(y){for(let E=0;E<y;E++)this._handleChar(" ")}_handleChar(y){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==y&&(this._charsToAnnounce+=y):this._charsToAnnounce+=y,y===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)),b.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((()=>{this._accessibilityContainer.appendChild(this._liveRegion)}),0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,b.isMac&&this._liveRegion.remove()}_handleKey(y){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(y)||this._charsToConsume.push(y)}_refreshRows(y,E){this._liveRegionDebouncer.refresh(y,E,this._terminal.rows)}_renderRows(y,E){const j=this._terminal.buffer,N=j.lines.length.toString();for(let D=y;D<=E;D++){const L=j.translateBufferLineToString(j.ydisp+D,!0),A=(j.ydisp+D+1).toString(),P=this._rowElements[D];P&&(L.length===0?P.innerText="":P.textContent=L,P.setAttribute("aria-posinset",A),P.setAttribute("aria-setsize",N))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(y,E){const j=y.target,N=this._rowElements[E===0?1:this._rowElements.length-2];if(j.getAttribute("aria-posinset")===(E===0?"1":`${this._terminal.buffer.lines.length}`)||y.relatedTarget!==N)return;let D,L;if(E===0?(D=j,L=this._rowElements.pop(),this._rowContainer.removeChild(L)):(D=this._rowElements.shift(),L=j,this._rowContainer.removeChild(D)),D.removeEventListener("focus",this._topBoundaryFocusListener),L.removeEventListener("focus",this._bottomBoundaryFocusListener),E===0){const A=this._createAccessibilityTreeNode();this._rowElements.unshift(A),this._rowContainer.insertAdjacentElement("afterbegin",A)}else{const A=this._createAccessibilityTreeNode();this._rowElements.push(A),this._rowContainer.appendChild(A)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(E===0?-1:1),this._rowElements[E===0?1:this._rowElements.length-2].focus(),y.preventDefault(),y.stopImmediatePropagation()}_handleResize(y){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let E=this._rowContainer.children.length;E<this._terminal.rows;E++)this._rowElements[E]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[E]);for(;this._rowElements.length>y;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const y=document.createElement("div");return y.setAttribute("role","listitem"),y.tabIndex=-1,this._refreshRowDimensions(y),y}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let y=0;y<this._terminal.rows;y++)this._refreshRowDimensions(this._rowElements[y])}}_refreshRowDimensions(y){y.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=_=p([v(1,m.IRenderService)],_)},3614:(f,o)=>{function u(b){return b.replace(/\r?\n/g,"\r")}function p(b,w){return w?"\x1B[200~"+b+"\x1B[201~":b}function v(b,w,k,C){b=p(b=u(b),k.decPrivateModes.bracketedPasteMode&&C.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(b,!0),w.value=""}function d(b,w,k){const C=k.getBoundingClientRect(),m=b.clientX-C.left-10,x=b.clientY-C.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${m}px`,w.style.top=`${x}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=u,o.bracketTextForPaste=p,o.copyHandler=function(b,w){b.clipboardData&&b.clipboardData.setData("text/plain",w.selectionText),b.preventDefault()},o.handlePasteEvent=function(b,w,k,C){b.stopPropagation(),b.clipboardData&&v(b.clipboardData.getData("text/plain"),w,k,C)},o.paste=v,o.moveTextAreaUnderMouseCursor=d,o.rightClickHandler=function(b,w,k,C,m){d(b,w,k),m&&C.rightClickSelect(b),w.value=C.selectionText,w.select()}},7239:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const p=u(1505);o.ColorContrastCache=class{constructor(){this._color=new p.TwoKeyMap,this._css=new p.TwoKeyMap}setCss(v,d,b){this._css.set(v,d,b)}getCss(v,d){return this._css.get(v,d)}setColor(v,d,b){this._color.set(v,d,b)}getColor(v,d){return this._color.get(v,d)}clear(){this._color.clear(),this._css.clear()}}},3656:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(u,p,v,d){u.addEventListener(p,v,d);let b=!1;return{dispose:()=>{b||(b=!0,u.removeEventListener(p,v,d))}}}},6465:function(f,o,u){var p=this&&this.__decorate||function(m,x,_,y){var E,j=arguments.length,N=j<3?x:y===null?y=Object.getOwnPropertyDescriptor(x,_):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(m,x,_,y);else for(var D=m.length-1;D>=0;D--)(E=m[D])&&(N=(j<3?E(N):j>3?E(x,_,N):E(x,_))||N);return j>3&&N&&Object.defineProperty(x,_,N),N},v=this&&this.__param||function(m,x){return function(_,y){x(_,y,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;const d=u(3656),b=u(8460),w=u(844),k=u(2585);let C=o.Linkifier2=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(m){super(),this._bufferService=m,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new b.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new b.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)((()=>{this._lastMouseEvent=void 0}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0})))}registerLinkProvider(m){return this._linkProviders.push(m),{dispose:()=>{const x=this._linkProviders.indexOf(m);x!==-1&&this._linkProviders.splice(x,1)}}}attachToDom(m,x,_){this._element=m,this._mouseService=x,this._renderService=_,this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){if(this._lastMouseEvent=m,!this._element||!this._mouseService)return;const x=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!x)return;this._isMouseOut=!1;const _=m.composedPath();for(let y=0;y<_.length;y++){const E=_[y];if(E.classList.contains("xterm"))break;if(E.classList.contains("xterm-hover"))return}this._lastBufferCell&&x.x===this._lastBufferCell.x&&x.y===this._lastBufferCell.y||(this._handleHover(x),this._lastBufferCell=x)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,x){var _,y;this._activeProviderReplies&&x||((_=this._activeProviderReplies)===null||_===void 0||_.forEach((j=>{j==null||j.forEach((N=>{N.link.dispose&&N.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=m.y);let E=!1;for(const[j,N]of this._linkProviders.entries())x?!((y=this._activeProviderReplies)===null||y===void 0)&&y.get(j)&&(E=this._checkLinkProviderResult(j,m,E)):N.provideLinks(m.y,(D=>{var L,A;if(this._isMouseOut)return;const P=D==null?void 0:D.map((U=>({link:U})));(L=this._activeProviderReplies)===null||L===void 0||L.set(j,P),E=this._checkLinkProviderResult(j,m,E),((A=this._activeProviderReplies)===null||A===void 0?void 0:A.size)===this._linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)}))}_removeIntersectingLinks(m,x){const _=new Set;for(let y=0;y<x.size;y++){const E=x.get(y);if(E)for(let j=0;j<E.length;j++){const N=E[j],D=N.link.range.start.y<m?0:N.link.range.start.x,L=N.link.range.end.y>m?this._bufferService.cols:N.link.range.end.x;for(let A=D;A<=L;A++){if(_.has(A)){E.splice(j--,1);break}_.add(A)}}}}_checkLinkProviderResult(m,x,_){var y;if(!this._activeProviderReplies)return _;const E=this._activeProviderReplies.get(m);let j=!1;for(let N=0;N<m;N++)this._activeProviderReplies.has(N)&&!this._activeProviderReplies.get(N)||(j=!0);if(!j&&E){const N=E.find((D=>this._linkAtPosition(D.link,x)));N&&(_=!0,this._handleNewLink(N))}if(this._activeProviderReplies.size===this._linkProviders.length&&!_)for(let N=0;N<this._activeProviderReplies.size;N++){const D=(y=this._activeProviderReplies.get(N))===null||y===void 0?void 0:y.find((L=>this._linkAtPosition(L.link,x)));if(D){_=!0,this._handleNewLink(D);break}}return _}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._element||!this._mouseService||!this._currentLink)return;const x=this._positionFromMouseEvent(m,this._element,this._mouseService);x&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,x)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,x){this._element&&this._currentLink&&this._lastMouseEvent&&(!m||!x||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=x)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const x=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);x&&this._linkAtPosition(m.link,x)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var _,y;return(y=(_=this._currentLink)===null||_===void 0?void 0:_.state)===null||y===void 0?void 0:y.decorations.pointerCursor},set:_=>{var y,E;!((y=this._currentLink)===null||y===void 0)&&y.state&&this._currentLink.state.decorations.pointerCursor!==_&&(this._currentLink.state.decorations.pointerCursor=_,this._currentLink.state.isHovered&&((E=this._element)===null||E===void 0||E.classList.toggle("xterm-cursor-pointer",_)))}},underline:{get:()=>{var _,y;return(y=(_=this._currentLink)===null||_===void 0?void 0:_.state)===null||y===void 0?void 0:y.decorations.underline},set:_=>{var y,E,j;!((y=this._currentLink)===null||y===void 0)&&y.state&&((j=(E=this._currentLink)===null||E===void 0?void 0:E.state)===null||j===void 0?void 0:j.decorations.underline)!==_&&(this._currentLink.state.decorations.underline=_,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,_))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((_=>{if(!this._currentLink)return;const y=_.start===0?0:_.start+1+this._bufferService.buffer.ydisp,E=this._bufferService.buffer.ydisp+1+_.end;if(this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=E&&(this._clearCurrentLink(y,E),this._lastMouseEvent&&this._element)){const j=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);j&&this._askForLink(j,!1)}}))))}_linkHover(m,x,_){var y;!((y=this._currentLink)===null||y===void 0)&&y.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(x,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),x.hover&&x.hover(_,x.text)}_fireUnderlineEvent(m,x){const _=m.range,y=this._bufferService.buffer.ydisp,E=this._createLinkUnderlineEvent(_.start.x-1,_.start.y-y-1,_.end.x,_.end.y-y-1,void 0);(x?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(E)}_linkLeave(m,x,_){var y;!((y=this._currentLink)===null||y===void 0)&&y.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(x,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),x.leave&&x.leave(_,x.text)}_linkAtPosition(m,x){const _=m.range.start.y*this._bufferService.cols+m.range.start.x,y=m.range.end.y*this._bufferService.cols+m.range.end.x,E=x.y*this._bufferService.cols+x.x;return _<=E&&E<=y}_positionFromMouseEvent(m,x,_){const y=_.getCoords(m,x,this._bufferService.cols,this._bufferService.rows);if(y)return{x:y[0],y:y[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,x,_,y,E){return{x1:m,y1:x,x2:_,y2:y,cols:this._bufferService.cols,fg:E}}};o.Linkifier2=C=p([v(0,k.IBufferService)],C)},9042:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(f,o,u){var p=this&&this.__decorate||function(C,m,x,_){var y,E=arguments.length,j=E<3?m:_===null?_=Object.getOwnPropertyDescriptor(m,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(C,m,x,_);else for(var N=C.length-1;N>=0;N--)(y=C[N])&&(j=(E<3?y(j):E>3?y(m,x,j):y(m,x))||j);return E>3&&j&&Object.defineProperty(m,x,j),j},v=this&&this.__param||function(C,m){return function(x,_){m(x,_,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const d=u(511),b=u(2585);let w=o.OscLinkProvider=class{constructor(C,m,x){this._bufferService=C,this._optionsService=m,this._oscLinkService=x}provideLinks(C,m){var x;const _=this._bufferService.buffer.lines.get(C-1);if(!_)return void m(void 0);const y=[],E=this._optionsService.rawOptions.linkHandler,j=new d.CellData,N=_.getTrimmedLength();let D=-1,L=-1,A=!1;for(let P=0;P<N;P++)if(L!==-1||_.hasContent(P)){if(_.loadCell(P,j),j.hasExtendedAttrs()&&j.extended.urlId){if(L===-1){L=P,D=j.extended.urlId;continue}A=j.extended.urlId!==D}else L!==-1&&(A=!0);if(A||L!==-1&&P===N-1){const U=(x=this._oscLinkService.getLinkData(D))===null||x===void 0?void 0:x.uri;if(U){const F={start:{x:L+1,y:C},end:{x:P+(A||P!==N-1?0:1),y:C}};let $=!1;if(!(E!=null&&E.allowNonHttpProtocols))try{const W=new URL(U);["http:","https:"].includes(W.protocol)||($=!0)}catch{$=!0}$||y.push({text:U,range:F,activate:(W,q)=>E?E.activate(W,q,F):k(0,q),hover:(W,q)=>{var ee;return(ee=E==null?void 0:E.hover)===null||ee===void 0?void 0:ee.call(E,W,q,F)},leave:(W,q)=>{var ee;return(ee=E==null?void 0:E.leave)===null||ee===void 0?void 0:ee.call(E,W,q,F)}})}A=!1,j.hasExtendedAttrs()&&j.extended.urlId?(L=P,D=j.extended.urlId):(L=-1,D=-1)}}m(y)}};function k(C,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const x=window.open();if(x){try{x.opener=null}catch{}x.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=w=p([v(0,b.IBufferService),v(1,b.IOptionsService),v(2,b.IOscLinkService)],w)},6193:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(u,p){this._parentWindow=u,this._renderCallback=p,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(u,p,v){this._rowCount=v,u=u!==void 0?u:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,p),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},5596:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;const p=u(844);class v extends p.Disposable{constructor(b){super(),this._parentWindow=b,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,p.toDisposable)((()=>{this.clearListener()})))}setListener(b){this._listener&&this.clearListener(),this._listener=b,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var b;this._outerListener&&((b=this._resolutionMediaMatchList)===null||b===void 0||b.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}o.ScreenDprMonitor=v},3236:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const p=u(3614),v=u(3656),d=u(6465),b=u(9042),w=u(3730),k=u(1680),C=u(3107),m=u(5744),x=u(2950),_=u(1296),y=u(428),E=u(4269),j=u(5114),N=u(8934),D=u(3230),L=u(9312),A=u(4725),P=u(6731),U=u(8055),F=u(8969),$=u(8460),W=u(844),q=u(6114),ee=u(8437),G=u(2584),I=u(7399),H=u(5941),T=u(9074),M=u(2585),K=u(5435),z=u(4567),oe=typeof window<"u"?window.document:null;class ae extends F.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(B={}){super(B),this.browser=q,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new W.MutableDisposable),this._onCursorMove=this.register(new $.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new $.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new $.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new $.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new $.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new $.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new $.EventEmitter),this._onBlur=this.register(new $.EventEmitter),this._onA11yCharEmitter=this.register(new $.EventEmitter),this._onA11yTabEmitter=this.register(new $.EventEmitter),this._onWillOpen=this.register(new $.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(d.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((Z,Y)=>this.refresh(Z,Y)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((Z=>this._reportWindowsOptions(Z)))),this.register(this._inputHandler.onColor((Z=>this._handleColorEvent(Z)))),this.register((0,$.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,$.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,$.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((Z=>this._afterResize(Z.cols,Z.rows)))),this.register((0,W.toDisposable)((()=>{var Z,Y;this._customKeyEventHandler=void 0,(Y=(Z=this.element)===null||Z===void 0?void 0:Z.parentNode)===null||Y===void 0||Y.removeChild(this.element)})))}_handleColorEvent(B){if(this._themeService)for(const Z of B){let Y,ie="";switch(Z.index){case 256:Y="foreground",ie="10";break;case 257:Y="background",ie="11";break;case 258:Y="cursor",ie="12";break;default:Y="ansi",ie="4;"+Z.index}switch(Z.type){case 0:const we=U.color.toColorRGB(Y==="ansi"?this._themeService.colors.ansi[Z.index]:this._themeService.colors[Y]);this.coreService.triggerDataEvent(`${G.C0.ESC}]${ie};${(0,H.toRgbString)(we)}${G.C1_ESCAPED.ST}`);break;case 1:if(Y==="ansi")this._themeService.modifyColors((me=>me.ansi[Z.index]=U.rgba.toColor(...Z.color)));else{const me=Y;this._themeService.modifyColors((Oe=>Oe[me]=U.rgba.toColor(...Z.color)))}break;case 2:this._themeService.restoreColor(Z.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){B?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(z.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[I"),this.updateCursorStyle(B),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)===null||B===void 0?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,Z=this.buffer.lines.get(B);if(!Z)return;const Y=Math.min(this.buffer.x,this.cols-1),ie=this._renderService.dimensions.css.cell.height,we=Z.getWidth(Y),me=this._renderService.dimensions.css.cell.width*we,Oe=this.buffer.y*this._renderService.dimensions.css.cell.height,Qe=Y*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Qe+"px",this.textarea.style.top=Oe+"px",this.textarea.style.width=me+"px",this.textarea.style.height=ie+"px",this.textarea.style.lineHeight=ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",(Z=>{this.hasSelection()&&(0,p.copyHandler)(Z,this._selectionService)})));const B=Z=>(0,p.handlePasteEvent)(Z,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,v.addDisposableDomListener)(this.element,"paste",B)),q.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",(Z=>{Z.button===2&&(0,p.rightClickHandler)(Z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",(Z=>{(0,p.rightClickHandler)(Z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),q.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",(Z=>{Z.button===1&&(0,p.moveTextAreaUnderMouseCursor)(Z,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",(B=>this._keyUp(B)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",(B=>this._keyDown(B)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",(B=>this._keyPress(B)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",(B=>this._compositionHelper.compositionupdate(B)))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,v.addDisposableDomListener)(this.textarea,"input",(B=>this._inputEvent(B)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(B){var Z;if(!B)throw new Error("Terminal requires a parent element.");B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=B.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),B.appendChild(this.element);const Y=oe.createDocumentFragment();this._viewportElement=oe.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Y.appendChild(this._viewportElement),this._viewportScrollArea=oe.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=oe.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=oe.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Y.appendChild(this.screenElement),this.textarea=oe.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",b.promptLabel),q.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(j.CoreBrowserService,this.textarea,(Z=this._document.defaultView)!==null&&Z!==void 0?Z:window),this._instantiationService.setService(A.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",(ie=>this._handleTextAreaFocus(ie)))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(y.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(A.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(P.ThemeService),this._instantiationService.setService(A.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(E.CharacterJoinerService),this._instantiationService.setService(A.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(D.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(A.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ie=>this._onRender.fire(ie)))),this.onResize((ie=>this._renderService.resize(ie.cols,ie.rows))),this._compositionView=oe.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(x.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Y);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(N.MouseService),this._instantiationService.setService(A.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(L.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(A.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ie=>this.scrollLines(ie.amount,ie.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ie=>this._renderService.handleSelectionChanged(ie.start,ie.end,ie.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ie=>{this.textarea.value=ie,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ie=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(C.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",(ie=>this._selectionService.handleMouseDown(ie)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(z.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ie=>this._handleScreenReaderModeOptionChange(ie)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ie=>{!this._overviewRulerRenderer&&ie&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(_.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const B=this,Z=this.element;function Y(me){const Oe=B._mouseService.getMouseReportCoords(me,B.screenElement);if(!Oe)return!1;let Qe,ot;switch(me.overrideType||me.type){case"mousemove":ot=32,me.buttons===void 0?(Qe=3,me.button!==void 0&&(Qe=me.button<3?me.button:3)):Qe=1&me.buttons?0:4&me.buttons?1:2&me.buttons?2:3;break;case"mouseup":ot=0,Qe=me.button<3?me.button:3;break;case"mousedown":ot=1,Qe=me.button<3?me.button:3;break;case"wheel":if(B.viewport.getLinesScrolled(me)===0)return!1;ot=me.deltaY<0?0:1,Qe=4;break;default:return!1}return!(ot===void 0||Qe===void 0||Qe>4)&&B.coreMouseService.triggerMouseEvent({col:Oe.col,row:Oe.row,x:Oe.x,y:Oe.y,button:Qe,action:ot,ctrl:me.ctrlKey,alt:me.altKey,shift:me.shiftKey})}const ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},we={mouseup:me=>(Y(me),me.buttons||(this._document.removeEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.removeEventListener("mousemove",ie.mousedrag)),this.cancel(me)),wheel:me=>(Y(me),this.cancel(me,!0)),mousedrag:me=>{me.buttons&&Y(me)},mousemove:me=>{me.buttons||Y(me)}};this.register(this.coreMouseService.onProtocolChange((me=>{me?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(me)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&me?ie.mousemove||(Z.addEventListener("mousemove",we.mousemove),ie.mousemove=we.mousemove):(Z.removeEventListener("mousemove",ie.mousemove),ie.mousemove=null),16&me?ie.wheel||(Z.addEventListener("wheel",we.wheel,{passive:!1}),ie.wheel=we.wheel):(Z.removeEventListener("wheel",ie.wheel),ie.wheel=null),2&me?ie.mouseup||(Z.addEventListener("mouseup",we.mouseup),ie.mouseup=we.mouseup):(this._document.removeEventListener("mouseup",ie.mouseup),Z.removeEventListener("mouseup",ie.mouseup),ie.mouseup=null),4&me?ie.mousedrag||(ie.mousedrag=we.mousedrag):(this._document.removeEventListener("mousemove",ie.mousedrag),ie.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(Z,"mousedown",(me=>{if(me.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(me))return Y(me),ie.mouseup&&this._document.addEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.addEventListener("mousemove",ie.mousedrag),this.cancel(me)}))),this.register((0,v.addDisposableDomListener)(Z,"wheel",(me=>{if(!ie.wheel){if(!this.buffer.hasScrollback){const Oe=this.viewport.getLinesScrolled(me);if(Oe===0)return;const Qe=G.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(me.deltaY<0?"A":"B");let ot="";for(let qt=0;qt<Math.abs(Oe);qt++)ot+=Qe;return this.coreService.triggerDataEvent(ot,!0),this.cancel(me,!0)}return this.viewport.handleWheel(me)?this.cancel(me):void 0}}),{passive:!1})),this.register((0,v.addDisposableDomListener)(Z,"touchstart",(me=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(me),this.cancel(me)}),{passive:!0})),this.register((0,v.addDisposableDomListener)(Z,"touchmove",(me=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(me)?void 0:this.cancel(me)}),{passive:!1}))}refresh(B,Z){var Y;(Y=this._renderService)===null||Y===void 0||Y.refreshRows(B,Z)}updateCursorStyle(B){var Z;!((Z=this._selectionService)===null||Z===void 0)&&Z.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,Z,Y=0){var ie;Y===1?(super.scrollLines(B,Z,Y),this.refresh(0,this.rows-1)):(ie=this.viewport)===null||ie===void 0||ie.scrollLines(B)}paste(B){(0,p.paste)(B,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}registerLinkProvider(B){return this.linkifier2.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Z=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),Z}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,Z,Y){this._selectionService.setSelection(B,Z,Y)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)===null||B===void 0||B.clearSelection()}selectAll(){var B;(B=this._selectionService)===null||B===void 0||B.selectAll()}selectLines(B,Z){var Y;(Y=this._selectionService)===null||Y===void 0||Y.selectLines(B,Z)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const Z=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!Z&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Z||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Y=(0,I.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),Y.type===3||Y.type===2){const ie=this.rows-1;return this.scrollLines(Y.type===2?-ie:ie),this.cancel(B,!0)}return Y.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||(Y.cancel&&this.cancel(B,!0),!Y.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Y.key!==G.C0.ETX&&Y.key!==G.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Y.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(Y.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,Z){const Y=B.isMac&&!this.options.macOptionIsMeta&&Z.altKey&&!Z.ctrlKey&&!Z.metaKey||B.isWindows&&Z.altKey&&Z.ctrlKey&&!Z.metaKey||B.isWindows&&Z.getModifierState("AltGraph");return Z.type==="keypress"?Y:Y&&(!Z.keyCode||Z.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||((function(Z){return Z.keyCode===16||Z.keyCode===17||Z.keyCode===18})(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let Z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)Z=B.charCode;else if(B.which===null||B.which===void 0)Z=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;Z=B.which}return!(!Z||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||(Z=String.fromCharCode(Z),this._onKey.fire({key:Z,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(Z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Z=B.data;return this.coreService.triggerDataEvent(Z,!0),this.cancel(B),!0}return!1}resize(B,Z){B!==this.cols||Z!==this.rows?super.resize(B,Z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,Z){var Y,ie;(Y=this._charSizeService)===null||Y===void 0||Y.measure(),(ie=this.viewport)===null||ie===void 0||ie.syncScrollArea(!0)}clear(){var B;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Z=1;Z<this.rows;Z++)this.buffer.lines.push(this.buffer.getBlankLine(ee.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(B=this.viewport)===null||B===void 0||B.reset(),this.refresh(0,this.rows-1)}}reset(){var B,Z;this.options.rows=this.rows,this.options.cols=this.cols;const Y=this._customKeyEventHandler;this._setup(),super.reset(),(B=this._selectionService)===null||B===void 0||B.reset(),this._decorationService.reset(),(Z=this.viewport)===null||Z===void 0||Z.reset(),this._customKeyEventHandler=Y,this.refresh(0,this.rows-1)}clearTextureAtlas(){var B;(B=this._renderService)===null||B===void 0||B.clearTextureAtlas()}_reportFocus(){var B;!((B=this.element)===null||B===void 0)&&B.classList.contains("focus")?this.coreService.triggerDataEvent(G.C0.ESC+"[I"):this.coreService.triggerDataEvent(G.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case K.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Z=this._renderService.dimensions.css.canvas.width.toFixed(0),Y=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[4;${Y};${Z}t`);break;case K.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ie=this._renderService.dimensions.css.cell.width.toFixed(0),we=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[6;${we};${ie}t`)}}cancel(B,Z){if(this.options.cancelEvents||Z)return B.preventDefault(),B.stopPropagation(),!1}}o.Terminal=ae},9924:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(u,p=1e3){this._renderCallback=u,this._debounceThresholdMS=p,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,p,v){this._rowCount=v,u=u!==void 0?u:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p;const d=Date.now();if(d-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=d,this._innerRefresh();else if(!this._additionalRefreshRequested){const b=d-this._lastRefreshMs,w=this._debounceThresholdMS-b;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,p)}}},1680:function(f,o,u){var p=this&&this.__decorate||function(x,_,y,E){var j,N=arguments.length,D=N<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(x,_,y,E);else for(var L=x.length-1;L>=0;L--)(j=x[L])&&(D=(N<3?j(D):N>3?j(_,y,D):j(_,y))||D);return N>3&&D&&Object.defineProperty(_,y,D),D},v=this&&this.__param||function(x,_){return function(y,E){_(y,E,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const d=u(3656),b=u(4725),w=u(8460),k=u(844),C=u(2585);let m=o.Viewport=class extends k.Disposable{constructor(x,_,y,E,j,N,D,L){super(),this._viewportElement=x,this._scrollArea=_,this._bufferService=y,this._optionsService=E,this._charSizeService=j,this._renderService=N,this._coreBrowserService=D,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((A=>this._activeBuffer=A.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((A=>this._renderDimensions=A))),this._handleThemeChange(L.colors),this.register(L.onChangeColors((A=>this._handleThemeChange(A)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(x){this._viewportElement.style.backgroundColor=x.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(x){if(x)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const _=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==_&&(this._lastRecordedBufferHeight=_,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const x=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==x&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=x),this._refreshAnimationFrame=null}syncScrollArea(x=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(x);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(x)}_handleScroll(x){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const _=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:_,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const x=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(x*(this._smoothScrollState.target-this._smoothScrollState.origin)),x<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(x,_){const y=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(_<0&&this._viewportElement.scrollTop!==0||_>0&&y<this._lastRecordedBufferHeight)||(x.cancelable&&x.preventDefault(),!1)}handleWheel(x){const _=this._getPixelsScrolled(x);return _!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+_:this._smoothScrollState.target+=_,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=_,this._bubbleScroll(x,_))}scrollLines(x){if(x!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const _=x*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+_,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:x,suppressScrollEvent:!1})}_getPixelsScrolled(x){if(x.deltaY===0||x.shiftKey)return 0;let _=this._applyScrollModifier(x.deltaY,x);return x.deltaMode===WheelEvent.DOM_DELTA_LINE?_*=this._currentRowHeight:x.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(_*=this._currentRowHeight*this._bufferService.rows),_}getBufferElements(x,_){var y;let E,j="";const N=[],D=_??this._bufferService.buffer.lines.length,L=this._bufferService.buffer.lines;for(let A=x;A<D;A++){const P=L.get(A);if(!P)continue;const U=(y=L.get(A+1))===null||y===void 0?void 0:y.isWrapped;if(j+=P.translateToString(!U),!U||A===L.length-1){const F=document.createElement("div");F.textContent=j,N.push(F),j.length>0&&(E=F),j=""}}return{bufferElements:N,cursorElement:E}}getLinesScrolled(x){if(x.deltaY===0||x.shiftKey)return 0;let _=this._applyScrollModifier(x.deltaY,x);return x.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(_/=this._currentRowHeight+0,this._wheelPartialScroll+=_,_=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):x.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(_*=this._bufferService.rows),_}_applyScrollModifier(x,_){const y=this._optionsService.rawOptions.fastScrollModifier;return y==="alt"&&_.altKey||y==="ctrl"&&_.ctrlKey||y==="shift"&&_.shiftKey?x*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:x*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(x){this._lastTouchY=x.touches[0].pageY}handleTouchMove(x){const _=this._lastTouchY-x.touches[0].pageY;return this._lastTouchY=x.touches[0].pageY,_!==0&&(this._viewportElement.scrollTop+=_,this._bubbleScroll(x,_))}};o.Viewport=m=p([v(2,C.IBufferService),v(3,C.IOptionsService),v(4,b.ICharSizeService),v(5,b.IRenderService),v(6,b.ICoreBrowserService),v(7,b.IThemeService)],m)},3107:function(f,o,u){var p=this&&this.__decorate||function(m,x,_,y){var E,j=arguments.length,N=j<3?x:y===null?y=Object.getOwnPropertyDescriptor(x,_):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(m,x,_,y);else for(var D=m.length-1;D>=0;D--)(E=m[D])&&(N=(j<3?E(N):j>3?E(x,_,N):E(x,_))||N);return j>3&&N&&Object.defineProperty(x,_,N),N},v=this&&this.__param||function(m,x){return function(_,y){x(_,y,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const d=u(3656),b=u(4725),w=u(844),k=u(2585);let C=o.BufferDecorationRenderer=class extends w.Disposable{constructor(m,x,_,y){super(),this._screenElement=m,this._bufferService=x,this._decorationService=_,this._renderService=y,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register((0,d.addDisposableDomListener)(window,"resize",(()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((E=>this._removeDecoration(E)))),this.register((0,w.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var x,_;const y=document.createElement("div");y.classList.add("xterm-decoration"),y.classList.toggle("xterm-decoration-top-layer",((x=m==null?void 0:m.options)===null||x===void 0?void 0:x.layer)==="top"),y.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,y.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",y.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",y.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const E=(_=m.options.x)!==null&&_!==void 0?_:0;return E&&E>this._bufferService.cols&&(y.style.display="none"),this._refreshXPosition(m,y),y}_refreshStyle(m){const x=m.marker.line-this._bufferService.buffers.active.ydisp;if(x<0||x>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let _=this._decorationElements.get(m);_||(_=this._createElement(m),m.element=_,this._decorationElements.set(m,_),this._container.appendChild(_),m.onDispose((()=>{this._decorationElements.delete(m),_.remove()}))),_.style.top=x*this._renderService.dimensions.css.cell.height+"px",_.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(_)}}_refreshXPosition(m,x=m.element){var _;if(!x)return;const y=(_=m.options.x)!==null&&_!==void 0?_:0;(m.options.anchor||"left")==="right"?x.style.right=y?y*this._renderService.dimensions.css.cell.width+"px":"":x.style.left=y?y*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var x;(x=this._decorationElements.get(m))===null||x===void 0||x.remove(),this._decorationElements.delete(m),m.dispose()}};o.BufferDecorationRenderer=C=p([v(1,k.IBufferService),v(2,k.IDecorationService),v(3,b.IRenderService)],C)},5871:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(const p of this._zones)if(p.color===u.options.overviewRulerOptions.color&&p.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(p,u.marker.line))return;if(this._lineAdjacentToZone(p,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(p,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,p){return p>=u.startBufferLine&&p<=u.endBufferLine}_lineAdjacentToZone(u,p,v){return p>=u.startBufferLine-this._linePadding[v||"full"]&&p<=u.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(u,p){u.startBufferLine=Math.min(u.startBufferLine,p),u.endBufferLine=Math.max(u.endBufferLine,p)}}},5744:function(f,o,u){var p=this&&this.__decorate||function(E,j,N,D){var L,A=arguments.length,P=A<3?j:D===null?D=Object.getOwnPropertyDescriptor(j,N):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(E,j,N,D);else for(var U=E.length-1;U>=0;U--)(L=E[U])&&(P=(A<3?L(P):A>3?L(j,N,P):L(j,N))||P);return A>3&&P&&Object.defineProperty(j,N,P),P},v=this&&this.__param||function(E,j){return function(N,D){j(N,D,E)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const d=u(5871),b=u(3656),w=u(4725),k=u(844),C=u(2585),m={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0},_={full:0,left:0,center:0,right:0};let y=o.OverviewRulerRenderer=class extends k.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(E,j,N,D,L,A,P){var U;super(),this._viewportElement=E,this._screenElement=j,this._bufferService=N,this._decorationService=D,this._renderService=L,this._optionsService=A,this._coreBrowseService=P,this._colorZoneStore=new d.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(U=this._viewportElement.parentElement)===null||U===void 0||U.insertBefore(this._canvas,this._viewportElement);const F=this._canvas.getContext("2d");if(!F)throw new Error("Ctx cannot be null");this._ctx=F,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,k.toDisposable)((()=>{var $;($=this._canvas)===null||$===void 0||$.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register((0,b.addDisposableDomListener)(this._coreBrowseService.window,"resize",(()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const E=Math.floor(this._canvas.width/3),j=Math.ceil(this._canvas.width/3);x.full=this._canvas.width,x.left=E,x.center=j,x.right=E,this._refreshDrawHeightConstants(),_.full=0,_.left=0,_.center=x.left,_.right=x.left+x.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowseService.dpr);const E=this._canvas.height/this._bufferService.buffer.lines.length,j=Math.round(Math.max(Math.min(E,12),6)*this._coreBrowseService.dpr);m.left=j,m.center=j,m.right=j}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const j of this._decorationService.decorations)this._colorZoneStore.addDecoration(j);this._ctx.lineWidth=1;const E=this._colorZoneStore.zones;for(const j of E)j.position!=="full"&&this._renderColorZone(j);for(const j of E)j.position==="full"&&this._renderColorZone(j);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(E){this._ctx.fillStyle=E.color,this._ctx.fillRect(_[E.position||"full"],Math.round((this._canvas.height-1)*(E.startBufferLine/this._bufferService.buffers.active.lines.length)-m[E.position||"full"]/2),x[E.position||"full"],Math.round((this._canvas.height-1)*((E.endBufferLine-E.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[E.position||"full"]))}_queueRefresh(E,j){this._shouldUpdateDimensions=E||this._shouldUpdateDimensions,this._shouldUpdateAnchor=j||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};o.OverviewRulerRenderer=y=p([v(2,C.IBufferService),v(3,C.IDecorationService),v(4,w.IRenderService),v(5,C.IOptionsService),v(6,w.ICoreBrowserService)],y)},2950:function(f,o,u){var p=this&&this.__decorate||function(C,m,x,_){var y,E=arguments.length,j=E<3?m:_===null?_=Object.getOwnPropertyDescriptor(m,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(C,m,x,_);else for(var N=C.length-1;N>=0;N--)(y=C[N])&&(j=(E<3?y(j):E>3?y(m,x,j):y(m,x))||j);return E>3&&j&&Object.defineProperty(m,x,j),j},v=this&&this.__param||function(C,m){return function(x,_){m(x,_,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const d=u(4725),b=u(2585),w=u(2584);let k=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(C,m,x,_,y,E){this._textarea=C,this._compositionView=m,this._bufferService=x,this._optionsService=_,this._coreService=y,this._renderService=E,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(C){this._compositionView.textContent=C.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(C){if(this._isComposing||this._isSendingComposition){if(C.keyCode===229||C.keyCode===16||C.keyCode===17||C.keyCode===18)return!1;this._finalizeComposition(!1)}return C.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(C){if(this._compositionView.classList.remove("active"),this._isComposing=!1,C){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let x;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,x=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),x.length>0&&this._coreService.triggerDataEvent(x,!0)}}),0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const C=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const m=this._textarea.value,x=m.replace(C,"");this._dataAlreadySent=x,m.length>C.length?this._coreService.triggerDataEvent(x,!0):m.length<C.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):m.length===C.length&&m!==C&&this._coreService.triggerDataEvent(m,!0)}}),0)}updateCompositionElements(C){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),x=this._renderService.dimensions.css.cell.height,_=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,y=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=y+"px",this._compositionView.style.top=_+"px",this._compositionView.style.height=x+"px",this._compositionView.style.lineHeight=x+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const E=this._compositionView.getBoundingClientRect();this._textarea.style.left=y+"px",this._textarea.style.top=_+"px",this._textarea.style.width=Math.max(E.width,1)+"px",this._textarea.style.height=Math.max(E.height,1)+"px",this._textarea.style.lineHeight=E.height+"px"}C||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};o.CompositionHelper=k=p([v(2,b.IBufferService),v(3,b.IOptionsService),v(4,b.ICoreService),v(5,d.IRenderService)],k)},9806:(f,o)=>{function u(p,v,d){const b=d.getBoundingClientRect(),w=p.getComputedStyle(d),k=parseInt(w.getPropertyValue("padding-left")),C=parseInt(w.getPropertyValue("padding-top"));return[v.clientX-b.left-k,v.clientY-b.top-C]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=u,o.getCoords=function(p,v,d,b,w,k,C,m,x){if(!k)return;const _=u(p,v,d);return _?(_[0]=Math.ceil((_[0]+(x?C/2:0))/C),_[1]=Math.ceil(_[1]/m),_[0]=Math.min(Math.max(_[0],1),b+(x?1:0)),_[1]=Math.min(Math.max(_[1],1),w),_):void 0}},9504:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const p=u(2584);function v(m,x,_,y){const E=m-d(m,_),j=x-d(x,_),N=Math.abs(E-j)-(function(D,L,A){let P=0;const U=D-d(D,A),F=L-d(L,A);for(let $=0;$<Math.abs(U-F);$++){const W=b(D,L)==="A"?-1:1,q=A.buffer.lines.get(U+W*$);q!=null&&q.isWrapped&&P++}return P})(m,x,_);return C(N,k(b(m,x),y))}function d(m,x){let _=0,y=x.buffer.lines.get(m),E=y==null?void 0:y.isWrapped;for(;E&&m>=0&&m<x.rows;)_++,y=x.buffer.lines.get(--m),E=y==null?void 0:y.isWrapped;return _}function b(m,x){return m>x?"A":"B"}function w(m,x,_,y,E,j){let N=m,D=x,L="";for(;N!==_||D!==y;)N+=E?1:-1,E&&N>j.cols-1?(L+=j.buffer.translateBufferLineToString(D,!1,m,N),N=0,m=0,D++):!E&&N<0&&(L+=j.buffer.translateBufferLineToString(D,!1,0,m+1),N=j.cols-1,m=N,D--);return L+j.buffer.translateBufferLineToString(D,!1,m,N)}function k(m,x){const _=x?"O":"[";return p.C0.ESC+_+m}function C(m,x){m=Math.floor(m);let _="";for(let y=0;y<m;y++)_+=x;return _}o.moveToCellSequence=function(m,x,_,y){const E=_.buffer.x,j=_.buffer.y;if(!_.buffer.hasScrollback)return(function(L,A,P,U,F,$){return v(A,U,F,$).length===0?"":C(w(L,A,L,A-d(A,F),!1,F).length,k("D",$))})(E,j,0,x,_,y)+v(j,x,_,y)+(function(L,A,P,U,F,$){let W;W=v(A,U,F,$).length>0?U-d(U,F):A;const q=U,ee=(function(G,I,H,T,M,K){let z;return z=v(H,T,M,K).length>0?T-d(T,M):I,G<H&&z<=T||G>=H&&z<T?"C":"D"})(L,A,P,U,F,$);return C(w(L,W,P,q,ee==="C",F).length,k(ee,$))})(E,j,m,x,_,y);let N;if(j===x)return N=E>m?"D":"C",C(Math.abs(E-m),k(N,y));N=j>x?"D":"C";const D=Math.abs(j-x);return C((function(L,A){return A.cols-L})(j>x?m:E,_)+(D-1)*_.cols+1+((j>x?E:m)-1),k(N,y))}},1296:function(f,o,u){var p=this&&this.__decorate||function(F,$,W,q){var ee,G=arguments.length,I=G<3?$:q===null?q=Object.getOwnPropertyDescriptor($,W):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(F,$,W,q);else for(var H=F.length-1;H>=0;H--)(ee=F[H])&&(I=(G<3?ee(I):G>3?ee($,W,I):ee($,W))||I);return G>3&&I&&Object.defineProperty($,W,I),I},v=this&&this.__param||function(F,$){return function(W,q){$(W,q,F)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const d=u(3787),b=u(2550),w=u(2223),k=u(6171),C=u(4725),m=u(8055),x=u(8460),_=u(844),y=u(2585),E="xterm-dom-renderer-owner-",j="xterm-rows",N="xterm-fg-",D="xterm-bg-",L="xterm-focus",A="xterm-selection";let P=1,U=o.DomRenderer=class extends _.Disposable{constructor(F,$,W,q,ee,G,I,H,T,M){super(),this._element=F,this._screenElement=$,this._viewportElement=W,this._linkifier2=q,this._charSizeService=G,this._optionsService=I,this._bufferService=H,this._coreBrowserService=T,this._themeService=M,this._terminalClass=P++,this._rowElements=[],this.onRequestRedraw=this.register(new x.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(j),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(A),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((K=>this._injectCss(K)))),this._injectCss(this._themeService.colors),this._rowFactory=ee.createInstance(d.DomRendererRowFactory,document),this._element.classList.add(E+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((K=>this._handleLinkHover(K)))),this.register(this._linkifier2.onHideLinkUnderline((K=>this._handleLinkLeave(K)))),this.register((0,_.toDisposable)((()=>{this._element.classList.remove(E+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new b.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const F=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*F,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*F),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/F),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/F),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const W of this._rowElements)W.style.width=`${this.dimensions.css.canvas.width}px`,W.style.height=`${this.dimensions.css.cell.height}px`,W.style.lineHeight=`${this.dimensions.css.cell.height}px`,W.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const $=`${this._terminalSelector} .${j} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=$,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(F){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let $=`${this._terminalSelector} .${j} { color: ${F.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;$+=`${this._terminalSelector} .${j} .xterm-dim { color: ${m.color.multiplyOpacity(F.foreground,.5).css};}`,$+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,$+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",$+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${F.cursor.css};  color: ${F.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${F.cursor.css}; }}`,$+=`${this._terminalSelector} .${j}.${L} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${j}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${j} .xterm-cursor.xterm-cursor-block { background-color: ${F.cursor.css}; color: ${F.cursorAccent.css};}${this._terminalSelector} .${j} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${F.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${j} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${F.cursor.css} inset;}${this._terminalSelector} .${j} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${F.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,$+=`${this._terminalSelector} .${A} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${A} div { position: absolute; background-color: ${F.selectionBackgroundOpaque.css};}${this._terminalSelector} .${A} div { position: absolute; background-color: ${F.selectionInactiveBackgroundOpaque.css};}`;for(const[W,q]of F.ansi.entries())$+=`${this._terminalSelector} .${N}${W} { color: ${q.css}; }${this._terminalSelector} .${N}${W}.xterm-dim { color: ${m.color.multiplyOpacity(q,.5).css}; }${this._terminalSelector} .${D}${W} { background-color: ${q.css}; }`;$+=`${this._terminalSelector} .${N}${w.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(F.background).css}; }${this._terminalSelector} .${N}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(F.background),.5).css}; }${this._terminalSelector} .${D}${w.INVERTED_DEFAULT_COLOR} { background-color: ${F.foreground.css}; }`,this._themeStyleElement.textContent=$}_setDefaultSpacing(){const F=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${F}px`,this._rowFactory.defaultSpacing=F}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(F,$){for(let W=this._rowElements.length;W<=$;W++){const q=document.createElement("div");this._rowContainer.appendChild(q),this._rowElements.push(q)}for(;this._rowElements.length>$;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(F,$){this._refreshRowElements(F,$),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(L)}handleFocus(){this._rowContainer.classList.add(L),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(F,$,W){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(F,$,W),this.renderRows(0,this._bufferService.rows-1),!F||!$)return;const q=F[1]-this._bufferService.buffer.ydisp,ee=$[1]-this._bufferService.buffer.ydisp,G=Math.max(q,0),I=Math.min(ee,this._bufferService.rows-1);if(G>=this._bufferService.rows||I<0)return;const H=document.createDocumentFragment();if(W){const T=F[0]>$[0];H.appendChild(this._createSelectionElement(G,T?$[0]:F[0],T?F[0]:$[0],I-G+1))}else{const T=q===G?F[0]:0,M=G===ee?$[0]:this._bufferService.cols;H.appendChild(this._createSelectionElement(G,T,M));const K=I-G-1;if(H.appendChild(this._createSelectionElement(G+1,0,this._bufferService.cols,K)),G!==I){const z=ee===I?$[0]:this._bufferService.cols;H.appendChild(this._createSelectionElement(I,0,z))}}this._selectionContainer.appendChild(H)}_createSelectionElement(F,$,W,q=1){const ee=document.createElement("div");return ee.style.height=q*this.dimensions.css.cell.height+"px",ee.style.top=F*this.dimensions.css.cell.height+"px",ee.style.left=$*this.dimensions.css.cell.width+"px",ee.style.width=this.dimensions.css.cell.width*(W-$)+"px",ee}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const F of this._rowElements)F.replaceChildren()}renderRows(F,$){const W=this._bufferService.buffer,q=W.ybase+W.y,ee=Math.min(W.x,this._bufferService.cols-1),G=this._optionsService.rawOptions.cursorBlink,I=this._optionsService.rawOptions.cursorStyle,H=this._optionsService.rawOptions.cursorInactiveStyle;for(let T=F;T<=$;T++){const M=T+W.ydisp,K=this._rowElements[T],z=W.lines.get(M);if(!K||!z)break;K.replaceChildren(...this._rowFactory.createRow(z,M,M===q,I,H,ee,G,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${E}${this._terminalClass}`}_handleLinkHover(F){this._setCellUnderline(F.x1,F.x2,F.y1,F.y2,F.cols,!0)}_handleLinkLeave(F){this._setCellUnderline(F.x1,F.x2,F.y1,F.y2,F.cols,!1)}_setCellUnderline(F,$,W,q,ee,G){W<0&&(F=0),q<0&&($=0);const I=this._bufferService.rows-1;W=Math.max(Math.min(W,I),0),q=Math.max(Math.min(q,I),0),ee=Math.min(ee,this._bufferService.cols);const H=this._bufferService.buffer,T=H.ybase+H.y,M=Math.min(H.x,ee-1),K=this._optionsService.rawOptions.cursorBlink,z=this._optionsService.rawOptions.cursorStyle,oe=this._optionsService.rawOptions.cursorInactiveStyle;for(let ae=W;ae<=q;++ae){const pe=ae+H.ydisp,B=this._rowElements[ae],Z=H.lines.get(pe);if(!B||!Z)break;B.replaceChildren(...this._rowFactory.createRow(Z,pe,pe===T,z,oe,M,K,this.dimensions.css.cell.width,this._widthCache,G?ae===W?F:0:-1,G?(ae===q?$:ee)-1:-1))}}};o.DomRenderer=U=p([v(4,y.IInstantiationService),v(5,C.ICharSizeService),v(6,y.IOptionsService),v(7,y.IBufferService),v(8,C.ICoreBrowserService),v(9,C.IThemeService)],U)},3787:function(f,o,u){var p=this&&this.__decorate||function(N,D,L,A){var P,U=arguments.length,F=U<3?D:A===null?A=Object.getOwnPropertyDescriptor(D,L):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(N,D,L,A);else for(var $=N.length-1;$>=0;$--)(P=N[$])&&(F=(U<3?P(F):U>3?P(D,L,F):P(D,L))||F);return U>3&&F&&Object.defineProperty(D,L,F),F},v=this&&this.__param||function(N,D){return function(L,A){D(L,A,N)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const d=u(2223),b=u(643),w=u(511),k=u(2585),C=u(8055),m=u(4725),x=u(4269),_=u(6171),y=u(3734);let E=o.DomRendererRowFactory=class{constructor(N,D,L,A,P,U,F){this._document=N,this._characterJoinerService=D,this._optionsService=L,this._coreBrowserService=A,this._coreService=P,this._decorationService=U,this._themeService=F,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(N,D,L){this._selectionStart=N,this._selectionEnd=D,this._columnSelectMode=L}createRow(N,D,L,A,P,U,F,$,W,q,ee){const G=[],I=this._characterJoinerService.getJoinedCharacters(D),H=this._themeService.colors;let T,M=N.getNoBgTrimmedLength();L&&M<U+1&&(M=U+1);let K=0,z="",oe=0,ae=0,pe=0,B=!1,Z=0,Y=!1,ie=0;const we=[],me=q!==-1&&ee!==-1;for(let Oe=0;Oe<M;Oe++){N.loadCell(Oe,this._workCell);let Qe=this._workCell.getWidth();if(Qe===0)continue;let ot=!1,qt=Oe,Re=this._workCell;if(I.length>0&&Oe===I[0][0]){ot=!0;const Fe=I.shift();Re=new x.JoinedCellData(this._workCell,N.translateToString(!0,Fe[0],Fe[1]),Fe[1]-Fe[0]),qt=Fe[1]-1,Qe=Re.getWidth()}const xr=this._isCellInSelection(Oe,D),yr=L&&Oe===U,Gt=me&&Oe>=q&&Oe<=ee;let Yt=!1;this._decorationService.forEachDecorationAtCell(Oe,D,void 0,(Fe=>{Yt=!0}));let _r=Re.getChars()||b.WHITESPACE_CELL_CHAR;if(_r===" "&&(Re.isUnderline()||Re.isOverline())&&(_r=""),ie=Qe*$-W.get(_r,Re.isBold(),Re.isItalic()),T){if(K&&(xr&&Y||!xr&&!Y&&Re.bg===oe)&&(xr&&Y&&H.selectionForeground||Re.fg===ae)&&Re.extended.ext===pe&&Gt===B&&ie===Z&&!yr&&!ot&&!Yt){z+=_r,K++;continue}K&&(T.textContent=z),T=this._document.createElement("span"),K=0,z=""}else T=this._document.createElement("span");if(oe=Re.bg,ae=Re.fg,pe=Re.extended.ext,B=Gt,Z=ie,Y=xr,ot&&U>=Oe&&U<=qt&&(U=Oe),!this._coreService.isCursorHidden&&yr){if(we.push("xterm-cursor"),this._coreBrowserService.isFocused)F&&we.push("xterm-cursor-blink"),we.push(A==="bar"?"xterm-cursor-bar":A==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(P)switch(P){case"outline":we.push("xterm-cursor-outline");break;case"block":we.push("xterm-cursor-block");break;case"bar":we.push("xterm-cursor-bar");break;case"underline":we.push("xterm-cursor-underline")}}if(Re.isBold()&&we.push("xterm-bold"),Re.isItalic()&&we.push("xterm-italic"),Re.isDim()&&we.push("xterm-dim"),z=Re.isInvisible()?b.WHITESPACE_CELL_CHAR:Re.getChars()||b.WHITESPACE_CELL_CHAR,Re.isUnderline()&&(we.push(`xterm-underline-${Re.extended.underlineStyle}`),z===" "&&(z=""),!Re.isUnderlineColorDefault()))if(Re.isUnderlineColorRGB())T.style.textDecorationColor=`rgb(${y.AttributeData.toColorRGB(Re.getUnderlineColor()).join(",")})`;else{let Fe=Re.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Re.isBold()&&Fe<8&&(Fe+=8),T.style.textDecorationColor=H.ansi[Fe].css}Re.isOverline()&&(we.push("xterm-overline"),z===" "&&(z="")),Re.isStrikethrough()&&we.push("xterm-strikethrough"),Gt&&(T.style.textDecoration="underline");let pt=Re.getFgColor(),br=Re.getFgColorMode(),Ct=Re.getBgColor(),se=Re.getBgColorMode();const fe=!!Re.isInverse();if(fe){const Fe=pt;pt=Ct,Ct=Fe;const Tt=br;br=se,se=Tt}let Se,De,Ae,Ze=!1;switch(this._decorationService.forEachDecorationAtCell(Oe,D,void 0,(Fe=>{Fe.options.layer!=="top"&&Ze||(Fe.backgroundColorRGB&&(se=50331648,Ct=Fe.backgroundColorRGB.rgba>>8&16777215,Se=Fe.backgroundColorRGB),Fe.foregroundColorRGB&&(br=50331648,pt=Fe.foregroundColorRGB.rgba>>8&16777215,De=Fe.foregroundColorRGB),Ze=Fe.options.layer==="top")})),!Ze&&xr&&(Se=this._coreBrowserService.isFocused?H.selectionBackgroundOpaque:H.selectionInactiveBackgroundOpaque,Ct=Se.rgba>>8&16777215,se=50331648,Ze=!0,H.selectionForeground&&(br=50331648,pt=H.selectionForeground.rgba>>8&16777215,De=H.selectionForeground)),Ze&&we.push("xterm-decoration-top"),se){case 16777216:case 33554432:Ae=H.ansi[Ct],we.push(`xterm-bg-${Ct}`);break;case 50331648:Ae=C.rgba.toColor(Ct>>16,Ct>>8&255,255&Ct),this._addStyle(T,`background-color:#${j((Ct>>>0).toString(16),"0",6)}`);break;default:fe?(Ae=H.foreground,we.push(`xterm-bg-${d.INVERTED_DEFAULT_COLOR}`)):Ae=H.background}switch(Se||Re.isDim()&&(Se=C.color.multiplyOpacity(Ae,.5)),br){case 16777216:case 33554432:Re.isBold()&&pt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(pt+=8),this._applyMinimumContrast(T,Ae,H.ansi[pt],Re,Se,void 0)||we.push(`xterm-fg-${pt}`);break;case 50331648:const Fe=C.rgba.toColor(pt>>16&255,pt>>8&255,255&pt);this._applyMinimumContrast(T,Ae,Fe,Re,Se,De)||this._addStyle(T,`color:#${j(pt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(T,Ae,H.foreground,Re,Se,void 0)||fe&&we.push(`xterm-fg-${d.INVERTED_DEFAULT_COLOR}`)}we.length&&(T.className=we.join(" "),we.length=0),yr||ot||Yt?T.textContent=z:K++,ie!==this.defaultSpacing&&(T.style.letterSpacing=`${ie}px`),G.push(T),Oe=qt}return T&&K&&(T.textContent=z),G}_applyMinimumContrast(N,D,L,A,P,U){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,_.excludeFromContrastRatioDemands)(A.getCode()))return!1;const F=this._getContrastCache(A);let $;if(P||U||($=F.getColor(D.rgba,L.rgba)),$===void 0){const W=this._optionsService.rawOptions.minimumContrastRatio/(A.isDim()?2:1);$=C.color.ensureContrastRatio(P||D,U||L,W),F.setColor((P||D).rgba,(U||L).rgba,$??null)}return!!$&&(this._addStyle(N,`color:${$.css}`),!0)}_getContrastCache(N){return N.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(N,D){N.setAttribute("style",`${N.getAttribute("style")||""}${D};`)}_isCellInSelection(N,D){const L=this._selectionStart,A=this._selectionEnd;return!(!L||!A)&&(this._columnSelectMode?L[0]<=A[0]?N>=L[0]&&D>=L[1]&&N<A[0]&&D<=A[1]:N<L[0]&&D>=L[1]&&N>=A[0]&&D<=A[1]:D>L[1]&&D<A[1]||L[1]===A[1]&&D===L[1]&&N>=L[0]&&N<A[0]||L[1]<A[1]&&D===A[1]&&N<A[0]||L[1]<A[1]&&D===L[1]&&N>=L[0])}};function j(N,D,L){for(;N.length<L;)N=D+N;return N}o.DomRendererRowFactory=E=p([v(1,m.ICharacterJoinerService),v(2,k.IOptionsService),v(3,m.ICoreBrowserService),v(4,k.ICoreService),v(5,k.IDecorationService),v(6,m.IThemeService)],E)},2550:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=u.createElement("span"),v=u.createElement("span");v.style.fontWeight="bold";const d=u.createElement("span");d.style.fontStyle="italic";const b=u.createElement("span");b.style.fontWeight="bold",b.style.fontStyle="italic",this._measureElements=[p,v,d,b],this._container.appendChild(p),this._container.appendChild(v),this._container.appendChild(d),this._container.appendChild(b),u.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,p,v,d){u===this._font&&p===this._fontSize&&v===this._weight&&d===this._weightBold||(this._font=u,this._fontSize=p,this._weight=v,this._weightBold=d,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${d}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${d}`,this.clear())}get(u,p,v){let d=0;if(!p&&!v&&u.length===1&&(d=u.charCodeAt(0))<256)return this._flat[d]!==-9999?this._flat[d]:this._flat[d]=this._measure(u,0);let b=u;p&&(b+="B"),v&&(b+="I");let w=this._holey.get(b);if(w===void 0){let k=0;p&&(k|=1),v&&(k|=2),w=this._measure(u,k),this._holey.set(b,w)}return w}_measure(u,p){const v=this._measureElements[p];return v.textContent=u.repeat(32),v.offsetWidth/32}}},2223:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const p=u(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=p.isFirefox||p.isLegacyEdge?"bottom":"ideographic"},6171:(f,o)=>{function u(p){return 57508<=p&&p<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.createRenderDimensions=o.excludeFromContrastRatioDemands=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},o.isPowerlineGlyph=u,o.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},o.excludeFromContrastRatioDemands=function(p){return u(p)||(function(v){return 9472<=v&&v<=9631})(p)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,p=this.selectionEnd;return!(!u||!p)&&(u[1]>p[1]||u[1]===p[1]&&u[0]>p[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(f,o,u){var p=this&&this.__decorate||function(m,x,_,y){var E,j=arguments.length,N=j<3?x:y===null?y=Object.getOwnPropertyDescriptor(x,_):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(m,x,_,y);else for(var D=m.length-1;D>=0;D--)(E=m[D])&&(N=(j<3?E(N):j>3?E(x,_,N):E(x,_))||N);return j>3&&N&&Object.defineProperty(x,_,N),N},v=this&&this.__param||function(m,x){return function(_,y){x(_,y,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const d=u(2585),b=u(8460),w=u(844);let k=o.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(m,x,_){super(),this._optionsService=_,this.width=0,this.height=0,this._onCharSizeChange=this.register(new b.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new C(m,x,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())}};o.CharSizeService=k=p([v(2,d.IOptionsService)],k);class C{constructor(x,_,y){this._document=x,this._parentElement=_,this._optionsService=y,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const x={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return x.width!==0&&x.height!==0&&(this._result.width=x.width/32,this._result.height=Math.ceil(x.height)),this._result}}},4269:function(f,o,u){var p=this&&this.__decorate||function(x,_,y,E){var j,N=arguments.length,D=N<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,y):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(x,_,y,E);else for(var L=x.length-1;L>=0;L--)(j=x[L])&&(D=(N<3?j(D):N>3?j(_,y,D):j(_,y))||D);return N>3&&D&&Object.defineProperty(_,y,D),D},v=this&&this.__param||function(x,_){return function(y,E){_(y,E,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const d=u(3734),b=u(643),w=u(511),k=u(2585);class C extends d.AttributeData{constructor(_,y,E){super(),this.content=0,this.combinedData="",this.fg=_.fg,this.bg=_.bg,this.combinedData=y,this._width=E}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(_){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=C;let m=o.CharacterJoinerService=class xg{constructor(_){this._bufferService=_,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(_){const y={id:this._nextCharacterJoinerId++,handler:_};return this._characterJoiners.push(y),y.id}deregister(_){for(let y=0;y<this._characterJoiners.length;y++)if(this._characterJoiners[y].id===_)return this._characterJoiners.splice(y,1),!0;return!1}getJoinedCharacters(_){if(this._characterJoiners.length===0)return[];const y=this._bufferService.buffer.lines.get(_);if(!y||y.length===0)return[];const E=[],j=y.translateToString(!0);let N=0,D=0,L=0,A=y.getFg(0),P=y.getBg(0);for(let U=0;U<y.getTrimmedLength();U++)if(y.loadCell(U,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==A||this._workCell.bg!==P){if(U-N>1){const F=this._getJoinedRanges(j,L,D,y,N);for(let $=0;$<F.length;$++)E.push(F[$])}N=U,L=D,A=this._workCell.fg,P=this._workCell.bg}D+=this._workCell.getChars().length||b.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-N>1){const U=this._getJoinedRanges(j,L,D,y,N);for(let F=0;F<U.length;F++)E.push(U[F])}return E}_getJoinedRanges(_,y,E,j,N){const D=_.substring(y,E);let L=[];try{L=this._characterJoiners[0].handler(D)}catch(A){console.error(A)}for(let A=1;A<this._characterJoiners.length;A++)try{const P=this._characterJoiners[A].handler(D);for(let U=0;U<P.length;U++)xg._mergeRanges(L,P[U])}catch(P){console.error(P)}return this._stringRangesToCellRanges(L,j,N),L}_stringRangesToCellRanges(_,y,E){let j=0,N=!1,D=0,L=_[j];if(L){for(let A=E;A<this._bufferService.cols;A++){const P=y.getWidth(A),U=y.getString(A).length||b.WHITESPACE_CELL_CHAR.length;if(P!==0){if(!N&&L[0]<=D&&(L[0]=A,N=!0),L[1]<=D){if(L[1]=A,L=_[++j],!L)break;L[0]<=D?(L[0]=A,N=!0):N=!1}D+=U}}L&&(L[1]=this._bufferService.cols)}}static _mergeRanges(_,y){let E=!1;for(let j=0;j<_.length;j++){const N=_[j];if(E){if(y[1]<=N[0])return _[j-1][1]=y[1],_;if(y[1]<=N[1])return _[j-1][1]=Math.max(y[1],N[1]),_.splice(j,1),_;_.splice(j,1),j--}else{if(y[1]<=N[0])return _.splice(j,0,y),_;if(y[1]<=N[1])return N[0]=Math.min(y[0],N[0]),_;y[0]<N[1]&&(N[0]=Math.min(y[0],N[0]),E=!0)}}return E?_[_.length-1][1]=y[1]:_.push(y),_}};o.CharacterJoinerService=m=p([v(0,k.IBufferService)],m)},5114:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0,o.CoreBrowserService=class{constructor(u,p){this._textarea=u,this.window=p,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}},8934:function(f,o,u){var p=this&&this.__decorate||function(k,C,m,x){var _,y=arguments.length,E=y<3?C:x===null?x=Object.getOwnPropertyDescriptor(C,m):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(k,C,m,x);else for(var j=k.length-1;j>=0;j--)(_=k[j])&&(E=(y<3?_(E):y>3?_(C,m,E):_(C,m))||E);return y>3&&E&&Object.defineProperty(C,m,E),E},v=this&&this.__param||function(k,C){return function(m,x){C(m,x,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const d=u(4725),b=u(9806);let w=o.MouseService=class{constructor(k,C){this._renderService=k,this._charSizeService=C}getCoords(k,C,m,x,_){return(0,b.getCoords)(window,k,C,m,x,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,_)}getMouseReportCoords(k,C){const m=(0,b.getCoordsRelativeToElement)(window,k,C);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};o.MouseService=w=p([v(0,d.IRenderService),v(1,d.ICharSizeService)],w)},3230:function(f,o,u){var p=this&&this.__decorate||function(E,j,N,D){var L,A=arguments.length,P=A<3?j:D===null?D=Object.getOwnPropertyDescriptor(j,N):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(E,j,N,D);else for(var U=E.length-1;U>=0;U--)(L=E[U])&&(P=(A<3?L(P):A>3?L(j,N,P):L(j,N))||P);return A>3&&P&&Object.defineProperty(j,N,P),P},v=this&&this.__param||function(E,j){return function(N,D){j(N,D,E)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const d=u(3656),b=u(6193),w=u(5596),k=u(4725),C=u(8460),m=u(844),x=u(7226),_=u(2585);let y=o.RenderService=class extends m.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(E,j,N,D,L,A,P,U){if(super(),this._rowCount=E,this._charSizeService=D,this._renderer=this.register(new m.MutableDisposable),this._pausedResizeTask=new x.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new C.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new C.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new C.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new C.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new b.RenderDebouncer(P.window,((F,$)=>this._renderRows(F,$))),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(P.window),this._screenDprMonitor.setListener((()=>this.handleDevicePixelRatioChange())),this.register(this._screenDprMonitor),this.register(A.onResize((()=>this._fullRefresh()))),this.register(A.buffers.onBufferActivate((()=>{var F;return(F=this._renderer.value)===null||F===void 0?void 0:F.clear()}))),this.register(N.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(L.onDecorationRegistered((()=>this._fullRefresh()))),this.register(L.onDecorationRemoved((()=>this._fullRefresh()))),this.register(N.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],(()=>{this.clear(),this.handleResize(A.cols,A.rows),this._fullRefresh()}))),this.register(N.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(A.buffer.y,A.buffer.y,!0)))),this.register((0,d.addDisposableDomListener)(P.window,"resize",(()=>this.handleDevicePixelRatioChange()))),this.register(U.onChangeColors((()=>this._fullRefresh()))),"IntersectionObserver"in P.window){const F=new P.window.IntersectionObserver(($=>this._handleIntersectionChange($[$.length-1])),{threshold:0});F.observe(j),this.register({dispose:()=>F.disconnect()})}}_handleIntersectionChange(E){this._isPaused=E.isIntersecting===void 0?E.intersectionRatio===0:!E.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(E,j,N=!1){this._isPaused?this._needsFullRefresh=!0:(N||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(E,j,this._rowCount))}_renderRows(E,j){this._renderer.value&&(E=Math.min(E,this._rowCount-1),j=Math.min(j,this._rowCount-1),this._renderer.value.renderRows(E,j),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:E,end:j}),this._onRender.fire({start:E,end:j}),this._isNextRenderRedrawOnly=!0)}resize(E,j){this._rowCount=j,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(E){this._renderer.value=E,this._renderer.value.onRequestRedraw((j=>this.refreshRows(j.start,j.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(E){return this._renderDebouncer.addRefreshCallback(E)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var E,j;this._renderer.value&&((j=(E=this._renderer.value).clearTextureAtlas)===null||j===void 0||j.call(E),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(E,j){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value.handleResize(E,j))):this._renderer.value.handleResize(E,j),this._fullRefresh())}handleCharSizeChanged(){var E;(E=this._renderer.value)===null||E===void 0||E.handleCharSizeChanged()}handleBlur(){var E;(E=this._renderer.value)===null||E===void 0||E.handleBlur()}handleFocus(){var E;(E=this._renderer.value)===null||E===void 0||E.handleFocus()}handleSelectionChanged(E,j,N){var D;this._selectionState.start=E,this._selectionState.end=j,this._selectionState.columnSelectMode=N,(D=this._renderer.value)===null||D===void 0||D.handleSelectionChanged(E,j,N)}handleCursorMove(){var E;(E=this._renderer.value)===null||E===void 0||E.handleCursorMove()}clear(){var E;(E=this._renderer.value)===null||E===void 0||E.clear()}};o.RenderService=y=p([v(2,_.IOptionsService),v(3,k.ICharSizeService),v(4,_.IDecorationService),v(5,_.IBufferService),v(6,k.ICoreBrowserService),v(7,k.IThemeService)],y)},9312:function(f,o,u){var p=this&&this.__decorate||function(L,A,P,U){var F,$=arguments.length,W=$<3?A:U===null?U=Object.getOwnPropertyDescriptor(A,P):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,A,P,U);else for(var q=L.length-1;q>=0;q--)(F=L[q])&&(W=($<3?F(W):$>3?F(A,P,W):F(A,P))||W);return $>3&&W&&Object.defineProperty(A,P,W),W},v=this&&this.__param||function(L,A){return function(P,U){A(P,U,L)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const d=u(9806),b=u(9504),w=u(456),k=u(4725),C=u(8460),m=u(844),x=u(6114),_=u(4841),y=u(511),E=u(2585),j="",N=new RegExp(j,"g");let D=o.SelectionService=class extends m.Disposable{constructor(L,A,P,U,F,$,W,q,ee){super(),this._element=L,this._screenElement=A,this._linkifier=P,this._bufferService=U,this._coreService=F,this._mouseService=$,this._optionsService=W,this._renderService=q,this._coreBrowserService=ee,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new y.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new C.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new C.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=G=>this._handleMouseMove(G),this._mouseUpListener=G=>this._handleMouseUp(G),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((G=>this._handleTrim(G))),this.register(this._bufferService.buffers.onBufferActivate((G=>this._handleBufferActivate(G)))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const L=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!L||!A||L[0]===A[0]&&L[1]===A[1])}get selectionText(){const L=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;if(!L||!A)return"";const P=this._bufferService.buffer,U=[];if(this._activeSelectionMode===3){if(L[0]===A[0])return"";const F=L[0]<A[0]?L[0]:A[0],$=L[0]<A[0]?A[0]:L[0];for(let W=L[1];W<=A[1];W++){const q=P.translateBufferLineToString(W,!0,F,$);U.push(q)}}else{const F=L[1]===A[1]?A[0]:void 0;U.push(P.translateBufferLineToString(L[1],!0,L[0],F));for(let $=L[1]+1;$<=A[1]-1;$++){const W=P.lines.get($),q=P.translateBufferLineToString($,!0);W!=null&&W.isWrapped?U[U.length-1]+=q:U.push(q)}if(L[1]!==A[1]){const $=P.lines.get(A[1]),W=P.translateBufferLineToString(A[1],!0,0,A[0]);$&&$.isWrapped?U[U.length-1]+=W:U.push(W)}}return U.map((F=>F.replace(N," "))).join(x.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(L){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),x.isLinux&&L&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(L){const A=this._getMouseBufferCoords(L),P=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!!(P&&U&&A)&&this._areCoordsInSelection(A,P,U)}isCellInSelection(L,A){const P=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!(!P||!U)&&this._areCoordsInSelection([L,A],P,U)}_areCoordsInSelection(L,A,P){return L[1]>A[1]&&L[1]<P[1]||A[1]===P[1]&&L[1]===A[1]&&L[0]>=A[0]&&L[0]<P[0]||A[1]<P[1]&&L[1]===P[1]&&L[0]<P[0]||A[1]<P[1]&&L[1]===A[1]&&L[0]>=A[0]}_selectWordAtCursor(L,A){var P,U;const F=(U=(P=this._linkifier.currentLink)===null||P===void 0?void 0:P.link)===null||U===void 0?void 0:U.range;if(F)return this._model.selectionStart=[F.start.x-1,F.start.y-1],this._model.selectionStartLength=(0,_.getRangeLength)(F,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const $=this._getMouseBufferCoords(L);return!!$&&(this._selectWordAt($,A),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(L,A){this._model.clearSelection(),L=Math.max(L,0),A=Math.min(A,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,L],this._model.selectionEnd=[this._bufferService.cols,A],this.refresh(),this._onSelectionChange.fire()}_handleTrim(L){this._model.handleTrim(L)&&this.refresh()}_getMouseBufferCoords(L){const A=this._mouseService.getCoords(L,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(A)return A[0]--,A[1]--,A[1]+=this._bufferService.buffer.ydisp,A}_getMouseEventScrollAmount(L){let A=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,L,this._screenElement)[1];const P=this._renderService.dimensions.css.canvas.height;return A>=0&&A<=P?0:(A>P&&(A-=P),A=Math.min(Math.max(A,-50),50),A/=50,A/Math.abs(A)+Math.round(14*A))}shouldForceSelection(L){return x.isMac?L.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:L.shiftKey}handleMouseDown(L){if(this._mouseDownTimeStamp=L.timeStamp,(L.button!==2||!this.hasSelection)&&L.button===0){if(!this._enabled){if(!this.shouldForceSelection(L))return;L.stopPropagation()}L.preventDefault(),this._dragScrollAmount=0,this._enabled&&L.shiftKey?this._handleIncrementalClick(L):L.detail===1?this._handleSingleClick(L):L.detail===2?this._handleDoubleClick(L):L.detail===3&&this._handleTripleClick(L),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(L){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(L))}_handleSingleClick(L){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(L)?3:0,this._model.selectionStart=this._getMouseBufferCoords(L),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const A=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);A&&A.length!==this._model.selectionStart[0]&&A.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(L){this._selectWordAtCursor(L,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(L){const A=this._getMouseBufferCoords(L);A&&(this._activeSelectionMode=2,this._selectLineAt(A[1]))}shouldColumnSelect(L){return L.altKey&&!(x.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(L){if(L.stopImmediatePropagation(),!this._model.selectionStart)return;const A=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(L),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(L),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const P=this._bufferService.buffer;if(this._model.selectionEnd[1]<P.lines.length){const U=P.lines.get(this._model.selectionEnd[1]);U&&U.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}A&&A[0]===this._model.selectionEnd[0]&&A[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const L=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(L.ydisp+this._bufferService.rows,L.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=L.ydisp),this.refresh()}}_handleMouseUp(L){const A=L.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&A<500&&L.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const P=this._mouseService.getCoords(L,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(P&&P[0]!==void 0&&P[1]!==void 0){const U=(0,b.moveToCellSequence)(P[0]-1,P[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(U,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const L=this._model.finalSelectionStart,A=this._model.finalSelectionEnd,P=!(!L||!A||L[0]===A[0]&&L[1]===A[1]);P?L&&A&&(this._oldSelectionStart&&this._oldSelectionEnd&&L[0]===this._oldSelectionStart[0]&&L[1]===this._oldSelectionStart[1]&&A[0]===this._oldSelectionEnd[0]&&A[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(L,A,P)):this._oldHasSelection&&this._fireOnSelectionChange(L,A,P)}_fireOnSelectionChange(L,A,P){this._oldSelectionStart=L,this._oldSelectionEnd=A,this._oldHasSelection=P,this._onSelectionChange.fire()}_handleBufferActivate(L){this.clearSelection(),this._trimListener.dispose(),this._trimListener=L.activeBuffer.lines.onTrim((A=>this._handleTrim(A)))}_convertViewportColToCharacterIndex(L,A){let P=A;for(let U=0;A>=U;U++){const F=L.loadCell(U,this._workCell).getChars().length;this._workCell.getWidth()===0?P--:F>1&&A!==U&&(P+=F-1)}return P}setSelection(L,A,P){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[L,A],this._model.selectionStartLength=P,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(L){this._isClickInSelection(L)||(this._selectWordAtCursor(L,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(L,A,P=!0,U=!0){if(L[0]>=this._bufferService.cols)return;const F=this._bufferService.buffer,$=F.lines.get(L[1]);if(!$)return;const W=F.translateBufferLineToString(L[1],!1);let q=this._convertViewportColToCharacterIndex($,L[0]),ee=q;const G=L[0]-q;let I=0,H=0,T=0,M=0;if(W.charAt(q)===" "){for(;q>0&&W.charAt(q-1)===" ";)q--;for(;ee<W.length&&W.charAt(ee+1)===" ";)ee++}else{let oe=L[0],ae=L[0];$.getWidth(oe)===0&&(I++,oe--),$.getWidth(ae)===2&&(H++,ae++);const pe=$.getString(ae).length;for(pe>1&&(M+=pe-1,ee+=pe-1);oe>0&&q>0&&!this._isCharWordSeparator($.loadCell(oe-1,this._workCell));){$.loadCell(oe-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(I++,oe--):B>1&&(T+=B-1,q-=B-1),q--,oe--}for(;ae<$.length&&ee+1<W.length&&!this._isCharWordSeparator($.loadCell(ae+1,this._workCell));){$.loadCell(ae+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(H++,ae++):B>1&&(M+=B-1,ee+=B-1),ee++,ae++}}ee++;let K=q+G-I+T,z=Math.min(this._bufferService.cols,ee-q+I+H-T-M);if(A||W.slice(q,ee).trim()!==""){if(P&&K===0&&$.getCodePoint(0)!==32){const oe=F.lines.get(L[1]-1);if(oe&&$.isWrapped&&oe.getCodePoint(this._bufferService.cols-1)!==32){const ae=this._getWordAt([this._bufferService.cols-1,L[1]-1],!1,!0,!1);if(ae){const pe=this._bufferService.cols-ae.start;K-=pe,z+=pe}}}if(U&&K+z===this._bufferService.cols&&$.getCodePoint(this._bufferService.cols-1)!==32){const oe=F.lines.get(L[1]+1);if(oe!=null&&oe.isWrapped&&oe.getCodePoint(0)!==32){const ae=this._getWordAt([0,L[1]+1],!1,!1,!0);ae&&(z+=ae.length)}}return{start:K,length:z}}}_selectWordAt(L,A){const P=this._getWordAt(L,A);if(P){for(;P.start<0;)P.start+=this._bufferService.cols,L[1]--;this._model.selectionStart=[P.start,L[1]],this._model.selectionStartLength=P.length}}_selectToWordAt(L){const A=this._getWordAt(L,!0);if(A){let P=L[1];for(;A.start<0;)A.start+=this._bufferService.cols,P--;if(!this._model.areSelectionValuesReversed())for(;A.start+A.length>this._bufferService.cols;)A.length-=this._bufferService.cols,P++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?A.start:A.start+A.length,P]}}_isCharWordSeparator(L){return L.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(L.getChars())>=0}_selectLineAt(L){const A=this._bufferService.buffer.getWrappedRangeForLine(L),P={start:{x:0,y:A.first},end:{x:this._bufferService.cols-1,y:A.last}};this._model.selectionStart=[0,A.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,_.getRangeLength)(P,this._bufferService.cols)}};o.SelectionService=D=p([v(3,E.IBufferService),v(4,E.ICoreService),v(5,k.IMouseService),v(6,E.IOptionsService),v(7,k.IRenderService),v(8,k.ICoreBrowserService)],D)},4725:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const p=u(8343);o.ICharSizeService=(0,p.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,p.createDecorator)("CoreBrowserService"),o.IMouseService=(0,p.createDecorator)("MouseService"),o.IRenderService=(0,p.createDecorator)("RenderService"),o.ISelectionService=(0,p.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,p.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,p.createDecorator)("ThemeService")},6731:function(f,o,u){var p=this&&this.__decorate||function(D,L,A,P){var U,F=arguments.length,$=F<3?L:P===null?P=Object.getOwnPropertyDescriptor(L,A):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(D,L,A,P);else for(var W=D.length-1;W>=0;W--)(U=D[W])&&($=(F<3?U($):F>3?U(L,A,$):U(L,A))||$);return F>3&&$&&Object.defineProperty(L,A,$),$},v=this&&this.__param||function(D,L){return function(A,P){L(A,P,D)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const d=u(7239),b=u(8055),w=u(8460),k=u(844),C=u(2585),m=b.css.toColor("#ffffff"),x=b.css.toColor("#000000"),_=b.css.toColor("#ffffff"),y=b.css.toColor("#000000"),E={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const D=[b.css.toColor("#2e3436"),b.css.toColor("#cc0000"),b.css.toColor("#4e9a06"),b.css.toColor("#c4a000"),b.css.toColor("#3465a4"),b.css.toColor("#75507b"),b.css.toColor("#06989a"),b.css.toColor("#d3d7cf"),b.css.toColor("#555753"),b.css.toColor("#ef2929"),b.css.toColor("#8ae234"),b.css.toColor("#fce94f"),b.css.toColor("#729fcf"),b.css.toColor("#ad7fa8"),b.css.toColor("#34e2e2"),b.css.toColor("#eeeeec")],L=[0,95,135,175,215,255];for(let A=0;A<216;A++){const P=L[A/36%6|0],U=L[A/6%6|0],F=L[A%6];D.push({css:b.channels.toCss(P,U,F),rgba:b.channels.toRgba(P,U,F)})}for(let A=0;A<24;A++){const P=8+10*A;D.push({css:b.channels.toCss(P,P,P),rgba:b.channels.toRgba(P,P,P)})}return D})());let j=o.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(D){super(),this._optionsService=D,this._contrastCache=new d.ColorContrastCache,this._halfContrastCache=new d.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:x,cursor:_,cursorAccent:y,selectionForeground:void 0,selectionBackgroundTransparent:E,selectionBackgroundOpaque:b.color.blend(x,E),selectionInactiveBackgroundTransparent:E,selectionInactiveBackgroundOpaque:b.color.blend(x,E),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(D={}){const L=this._colors;if(L.foreground=N(D.foreground,m),L.background=N(D.background,x),L.cursor=N(D.cursor,_),L.cursorAccent=N(D.cursorAccent,y),L.selectionBackgroundTransparent=N(D.selectionBackground,E),L.selectionBackgroundOpaque=b.color.blend(L.background,L.selectionBackgroundTransparent),L.selectionInactiveBackgroundTransparent=N(D.selectionInactiveBackground,L.selectionBackgroundTransparent),L.selectionInactiveBackgroundOpaque=b.color.blend(L.background,L.selectionInactiveBackgroundTransparent),L.selectionForeground=D.selectionForeground?N(D.selectionForeground,b.NULL_COLOR):void 0,L.selectionForeground===b.NULL_COLOR&&(L.selectionForeground=void 0),b.color.isOpaque(L.selectionBackgroundTransparent)&&(L.selectionBackgroundTransparent=b.color.opacity(L.selectionBackgroundTransparent,.3)),b.color.isOpaque(L.selectionInactiveBackgroundTransparent)&&(L.selectionInactiveBackgroundTransparent=b.color.opacity(L.selectionInactiveBackgroundTransparent,.3)),L.ansi=o.DEFAULT_ANSI_COLORS.slice(),L.ansi[0]=N(D.black,o.DEFAULT_ANSI_COLORS[0]),L.ansi[1]=N(D.red,o.DEFAULT_ANSI_COLORS[1]),L.ansi[2]=N(D.green,o.DEFAULT_ANSI_COLORS[2]),L.ansi[3]=N(D.yellow,o.DEFAULT_ANSI_COLORS[3]),L.ansi[4]=N(D.blue,o.DEFAULT_ANSI_COLORS[4]),L.ansi[5]=N(D.magenta,o.DEFAULT_ANSI_COLORS[5]),L.ansi[6]=N(D.cyan,o.DEFAULT_ANSI_COLORS[6]),L.ansi[7]=N(D.white,o.DEFAULT_ANSI_COLORS[7]),L.ansi[8]=N(D.brightBlack,o.DEFAULT_ANSI_COLORS[8]),L.ansi[9]=N(D.brightRed,o.DEFAULT_ANSI_COLORS[9]),L.ansi[10]=N(D.brightGreen,o.DEFAULT_ANSI_COLORS[10]),L.ansi[11]=N(D.brightYellow,o.DEFAULT_ANSI_COLORS[11]),L.ansi[12]=N(D.brightBlue,o.DEFAULT_ANSI_COLORS[12]),L.ansi[13]=N(D.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),L.ansi[14]=N(D.brightCyan,o.DEFAULT_ANSI_COLORS[14]),L.ansi[15]=N(D.brightWhite,o.DEFAULT_ANSI_COLORS[15]),D.extendedAnsi){const A=Math.min(L.ansi.length-16,D.extendedAnsi.length);for(let P=0;P<A;P++)L.ansi[P+16]=N(D.extendedAnsi[P],o.DEFAULT_ANSI_COLORS[P+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(D){this._restoreColor(D),this._onChangeColors.fire(this.colors)}_restoreColor(D){if(D!==void 0)switch(D){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[D]=this._restoreColors.ansi[D]}else for(let L=0;L<this._restoreColors.ansi.length;++L)this._colors.ansi[L]=this._restoreColors.ansi[L]}modifyColors(D){D(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function N(D,L){if(D!==void 0)try{return b.css.toColor(D)}catch{}return L}o.ThemeService=j=p([v(0,C.IOptionsService)],j)},6349:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const p=u(8460),v=u(844);class d extends v.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new p.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new p.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new p.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const k=new Array(w);for(let C=0;C<Math.min(w,this.length);C++)k[C]=this._array[this._getCyclicIndex(C)];this._array=k,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let k=this._length;k<w;k++)this._array[k]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,k){this._array[this._getCyclicIndex(w)]=k}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,k,...C){if(k){for(let m=w;m<this._length-k;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+k)];this._length-=k,this.onDeleteEmitter.fire({index:w,amount:k})}for(let m=this._length-1;m>=w;m--)this._array[this._getCyclicIndex(m+C.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<C.length;m++)this._array[this._getCyclicIndex(w+m)]=C[m];if(C.length&&this.onInsertEmitter.fire({index:w,amount:C.length}),this._length+C.length>this._maxLength){const m=this._length+C.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=C.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,k,C){if(!(k<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+C<0)throw new Error("Cannot shift elements in list beyond index 0");if(C>0){for(let x=k-1;x>=0;x--)this.set(w+x+C,this.get(w+x));const m=w+k+C-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<k;m++)this.set(w+m+C,this.get(w+m))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}o.CircularList=d},1439:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function u(p,v=5){if(typeof p!="object")return p;const d=Array.isArray(p)?[]:{};for(const b in p)d[b]=v<=1?p[b]:p[b]&&u(p[b],v-1);return d}},8055:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;const p=u(6114);let v=0,d=0,b=0,w=0;var k,C,m,x,_;function y(j){const N=j.toString(16);return N.length<2?"0"+N:N}function E(j,N){return j<N?(N+.05)/(j+.05):(j+.05)/(N+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},(function(j){j.toCss=function(N,D,L,A){return A!==void 0?`#${y(N)}${y(D)}${y(L)}${y(A)}`:`#${y(N)}${y(D)}${y(L)}`},j.toRgba=function(N,D,L,A=255){return(N<<24|D<<16|L<<8|A)>>>0}})(k||(o.channels=k={})),(function(j){function N(D,L){return w=Math.round(255*L),[v,d,b]=_.toChannels(D.rgba),{css:k.toCss(v,d,b,w),rgba:k.toRgba(v,d,b,w)}}j.blend=function(D,L){if(w=(255&L.rgba)/255,w===1)return{css:L.css,rgba:L.rgba};const A=L.rgba>>24&255,P=L.rgba>>16&255,U=L.rgba>>8&255,F=D.rgba>>24&255,$=D.rgba>>16&255,W=D.rgba>>8&255;return v=F+Math.round((A-F)*w),d=$+Math.round((P-$)*w),b=W+Math.round((U-W)*w),{css:k.toCss(v,d,b),rgba:k.toRgba(v,d,b)}},j.isOpaque=function(D){return(255&D.rgba)==255},j.ensureContrastRatio=function(D,L,A){const P=_.ensureContrastRatio(D.rgba,L.rgba,A);if(P)return _.toColor(P>>24&255,P>>16&255,P>>8&255)},j.opaque=function(D){const L=(255|D.rgba)>>>0;return[v,d,b]=_.toChannels(L),{css:k.toCss(v,d,b),rgba:L}},j.opacity=N,j.multiplyOpacity=function(D,L){return w=255&D.rgba,N(D,w*L/255)},j.toColorRGB=function(D){return[D.rgba>>24&255,D.rgba>>16&255,D.rgba>>8&255]}})(C||(o.color=C={})),(function(j){let N,D;if(!p.isNode){const L=document.createElement("canvas");L.width=1,L.height=1;const A=L.getContext("2d",{willReadFrequently:!0});A&&(N=A,N.globalCompositeOperation="copy",D=N.createLinearGradient(0,0,1,1))}j.toColor=function(L){if(L.match(/#[\da-f]{3,8}/i))switch(L.length){case 4:return v=parseInt(L.slice(1,2).repeat(2),16),d=parseInt(L.slice(2,3).repeat(2),16),b=parseInt(L.slice(3,4).repeat(2),16),_.toColor(v,d,b);case 5:return v=parseInt(L.slice(1,2).repeat(2),16),d=parseInt(L.slice(2,3).repeat(2),16),b=parseInt(L.slice(3,4).repeat(2),16),w=parseInt(L.slice(4,5).repeat(2),16),_.toColor(v,d,b,w);case 7:return{css:L,rgba:(parseInt(L.slice(1),16)<<8|255)>>>0};case 9:return{css:L,rgba:parseInt(L.slice(1),16)>>>0}}const A=L.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(A)return v=parseInt(A[1]),d=parseInt(A[2]),b=parseInt(A[3]),w=Math.round(255*(A[5]===void 0?1:parseFloat(A[5]))),_.toColor(v,d,b,w);if(!N||!D)throw new Error("css.toColor: Unsupported css format");if(N.fillStyle=D,N.fillStyle=L,typeof N.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(N.fillRect(0,0,1,1),[v,d,b,w]=N.getImageData(0,0,1,1).data,w!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:k.toRgba(v,d,b,w),css:L}}})(m||(o.css=m={})),(function(j){function N(D,L,A){const P=D/255,U=L/255,F=A/255;return .2126*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))+.7152*(U<=.03928?U/12.92:Math.pow((U+.055)/1.055,2.4))+.0722*(F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4))}j.relativeLuminance=function(D){return N(D>>16&255,D>>8&255,255&D)},j.relativeLuminance2=N})(x||(o.rgb=x={})),(function(j){function N(L,A,P){const U=L>>24&255,F=L>>16&255,$=L>>8&255;let W=A>>24&255,q=A>>16&255,ee=A>>8&255,G=E(x.relativeLuminance2(W,q,ee),x.relativeLuminance2(U,F,$));for(;G<P&&(W>0||q>0||ee>0);)W-=Math.max(0,Math.ceil(.1*W)),q-=Math.max(0,Math.ceil(.1*q)),ee-=Math.max(0,Math.ceil(.1*ee)),G=E(x.relativeLuminance2(W,q,ee),x.relativeLuminance2(U,F,$));return(W<<24|q<<16|ee<<8|255)>>>0}function D(L,A,P){const U=L>>24&255,F=L>>16&255,$=L>>8&255;let W=A>>24&255,q=A>>16&255,ee=A>>8&255,G=E(x.relativeLuminance2(W,q,ee),x.relativeLuminance2(U,F,$));for(;G<P&&(W<255||q<255||ee<255);)W=Math.min(255,W+Math.ceil(.1*(255-W))),q=Math.min(255,q+Math.ceil(.1*(255-q))),ee=Math.min(255,ee+Math.ceil(.1*(255-ee))),G=E(x.relativeLuminance2(W,q,ee),x.relativeLuminance2(U,F,$));return(W<<24|q<<16|ee<<8|255)>>>0}j.ensureContrastRatio=function(L,A,P){const U=x.relativeLuminance(L>>8),F=x.relativeLuminance(A>>8);if(E(U,F)<P){if(F<U){const q=N(L,A,P),ee=E(U,x.relativeLuminance(q>>8));if(ee<P){const G=D(L,A,P);return ee>E(U,x.relativeLuminance(G>>8))?q:G}return q}const $=D(L,A,P),W=E(U,x.relativeLuminance($>>8));if(W<P){const q=N(L,A,P);return W>E(U,x.relativeLuminance(q>>8))?$:q}return $}},j.reduceLuminance=N,j.increaseLuminance=D,j.toChannels=function(L){return[L>>24&255,L>>16&255,L>>8&255,255&L]},j.toColor=function(L,A,P,U){return{css:k.toCss(L,A,P,U),rgba:k.toRgba(L,A,P,U)}}})(_||(o.rgba=_={})),o.toPaddedHex=y,o.contrastRatio=E},8969:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const p=u(844),v=u(2585),d=u(4348),b=u(7866),w=u(744),k=u(7302),C=u(6975),m=u(8460),x=u(1753),_=u(1480),y=u(7994),E=u(9282),j=u(5435),N=u(5981),D=u(2660);let L=!1;class A extends p.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event((U=>{var F;(F=this._onScrollApi)===null||F===void 0||F.fire(U.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(U){for(const F in U)this.optionsService.options[F]=U[F]}constructor(U){super(),this._windowsWrappingHeuristics=this.register(new p.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new d.InstantiationService,this.optionsService=this.register(new k.OptionsService(U)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(b.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(C.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(x.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(_.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(y.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(D.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new j.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((F=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((F=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new N.WriteBuffer(((F,$)=>this._inputHandler.parse(F,$)))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(U,F){this._writeBuffer.write(U,F)}writeSync(U,F){this._logService.logLevel<=v.LogLevelEnum.WARN&&!L&&(this._logService.warn("writeSync is unreliable and will be removed soon."),L=!0),this._writeBuffer.writeSync(U,F)}resize(U,F){isNaN(U)||isNaN(F)||(U=Math.max(U,w.MINIMUM_COLS),F=Math.max(F,w.MINIMUM_ROWS),this._bufferService.resize(U,F))}scroll(U,F=!1){this._bufferService.scroll(U,F)}scrollLines(U,F,$){this._bufferService.scrollLines(U,F,$)}scrollPages(U){this.scrollLines(U*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(U){const F=U-this._bufferService.buffer.ydisp;F!==0&&this.scrollLines(F)}registerEscHandler(U,F){return this._inputHandler.registerEscHandler(U,F)}registerDcsHandler(U,F){return this._inputHandler.registerDcsHandler(U,F)}registerCsiHandler(U,F){return this._inputHandler.registerCsiHandler(U,F)}registerOscHandler(U,F){return this._inputHandler.registerOscHandler(U,F)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let U=!1;const F=this.optionsService.rawOptions.windowsPty;F&&F.buildNumber!==void 0&&F.buildNumber!==void 0?U=F.backend==="conpty"&&F.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(U=!0),U?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const U=[];U.push(this.onLineFeed(E.updateWindowsModeWrappedState.bind(null,this._bufferService))),U.push(this.registerCsiHandler({final:"H"},(()=>((0,E.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,p.toDisposable)((()=>{for(const F of U)F.dispose()}))}}}o.CoreTerminal=A},8460:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=u=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let p=0;p<this._listeners.length;p++)if(this._listeners[p]===u)return void this._listeners.splice(p,1)}}})),this._event}fire(u,p){const v=[];for(let d=0;d<this._listeners.length;d++)v.push(this._listeners[d]);for(let d=0;d<v.length;d++)v[d].call(void 0,u,p)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(u,p){return u((v=>p.fire(v)))}},5435:function(f,o,u){var p=this&&this.__decorate||function(G,I,H,T){var M,K=arguments.length,z=K<3?I:T===null?T=Object.getOwnPropertyDescriptor(I,H):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(G,I,H,T);else for(var oe=G.length-1;oe>=0;oe--)(M=G[oe])&&(z=(K<3?M(z):K>3?M(I,H,z):M(I,H))||z);return K>3&&z&&Object.defineProperty(I,H,z),z},v=this&&this.__param||function(G,I){return function(H,T){I(H,T,G)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const d=u(2584),b=u(7116),w=u(2015),k=u(844),C=u(482),m=u(8437),x=u(8460),_=u(643),y=u(511),E=u(3734),j=u(2585),N=u(6242),D=u(6351),L=u(5941),A={"(":0,")":1,"*":2,"+":3,"-":1,".":2},P=131072;function U(G,I){if(G>24)return I.setWinLines||!1;switch(G){case 1:return!!I.restoreWin;case 2:return!!I.minimizeWin;case 3:return!!I.setWinPosition;case 4:return!!I.setWinSizePixels;case 5:return!!I.raiseWin;case 6:return!!I.lowerWin;case 7:return!!I.refreshWin;case 8:return!!I.setWinSizeChars;case 9:return!!I.maximizeWin;case 10:return!!I.fullscreenWin;case 11:return!!I.getWinState;case 13:return!!I.getWinPosition;case 14:return!!I.getWinSizePixels;case 15:return!!I.getScreenSizePixels;case 16:return!!I.getCellSizePixels;case 18:return!!I.getWinSizeChars;case 19:return!!I.getScreenSizeChars;case 20:return!!I.getIconTitle;case 21:return!!I.getWinTitle;case 22:return!!I.pushTitle;case 23:return!!I.popTitle;case 24:return!!I.setWinLines}return!1}var F;(function(G){G[G.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",G[G.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(F||(o.WindowsOptionsReportType=F={}));let $=0;class W extends k.Disposable{getAttrData(){return this._curAttrData}constructor(I,H,T,M,K,z,oe,ae,pe=new w.EscapeSequenceParser){super(),this._bufferService=I,this._charsetService=H,this._coreService=T,this._logService=M,this._optionsService=K,this._oscLinkService=z,this._coreMouseService=oe,this._unicodeService=ae,this._parser=pe,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new y.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new x.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new x.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new x.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new x.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new x.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new x.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new x.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new x.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new x.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new x.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new x.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new x.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new x.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new q(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((B=>this._activeBuffer=B.activeBuffer))),this._parser.setCsiHandlerFallback(((B,Z)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:Z.toArray()})})),this._parser.setEscHandlerFallback((B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})})),this._parser.setExecuteHandlerFallback((B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})})),this._parser.setOscHandlerFallback(((B,Z,Y)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:Z,data:Y})})),this._parser.setDcsHandlerFallback(((B,Z,Y)=>{Z==="HOOK"&&(Y=Y.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:Z,payload:Y})})),this._parser.setPrintHandler(((B,Z,Y)=>this.print(B,Z,Y))),this._parser.registerCsiHandler({final:"@"},(B=>this.insertChars(B))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(B=>this.scrollLeft(B))),this._parser.registerCsiHandler({final:"A"},(B=>this.cursorUp(B))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(B=>this.scrollRight(B))),this._parser.registerCsiHandler({final:"B"},(B=>this.cursorDown(B))),this._parser.registerCsiHandler({final:"C"},(B=>this.cursorForward(B))),this._parser.registerCsiHandler({final:"D"},(B=>this.cursorBackward(B))),this._parser.registerCsiHandler({final:"E"},(B=>this.cursorNextLine(B))),this._parser.registerCsiHandler({final:"F"},(B=>this.cursorPrecedingLine(B))),this._parser.registerCsiHandler({final:"G"},(B=>this.cursorCharAbsolute(B))),this._parser.registerCsiHandler({final:"H"},(B=>this.cursorPosition(B))),this._parser.registerCsiHandler({final:"I"},(B=>this.cursorForwardTab(B))),this._parser.registerCsiHandler({final:"J"},(B=>this.eraseInDisplay(B,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(B=>this.eraseInDisplay(B,!0))),this._parser.registerCsiHandler({final:"K"},(B=>this.eraseInLine(B,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(B=>this.eraseInLine(B,!0))),this._parser.registerCsiHandler({final:"L"},(B=>this.insertLines(B))),this._parser.registerCsiHandler({final:"M"},(B=>this.deleteLines(B))),this._parser.registerCsiHandler({final:"P"},(B=>this.deleteChars(B))),this._parser.registerCsiHandler({final:"S"},(B=>this.scrollUp(B))),this._parser.registerCsiHandler({final:"T"},(B=>this.scrollDown(B))),this._parser.registerCsiHandler({final:"X"},(B=>this.eraseChars(B))),this._parser.registerCsiHandler({final:"Z"},(B=>this.cursorBackwardTab(B))),this._parser.registerCsiHandler({final:"`"},(B=>this.charPosAbsolute(B))),this._parser.registerCsiHandler({final:"a"},(B=>this.hPositionRelative(B))),this._parser.registerCsiHandler({final:"b"},(B=>this.repeatPrecedingCharacter(B))),this._parser.registerCsiHandler({final:"c"},(B=>this.sendDeviceAttributesPrimary(B))),this._parser.registerCsiHandler({prefix:">",final:"c"},(B=>this.sendDeviceAttributesSecondary(B))),this._parser.registerCsiHandler({final:"d"},(B=>this.linePosAbsolute(B))),this._parser.registerCsiHandler({final:"e"},(B=>this.vPositionRelative(B))),this._parser.registerCsiHandler({final:"f"},(B=>this.hVPosition(B))),this._parser.registerCsiHandler({final:"g"},(B=>this.tabClear(B))),this._parser.registerCsiHandler({final:"h"},(B=>this.setMode(B))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(B=>this.setModePrivate(B))),this._parser.registerCsiHandler({final:"l"},(B=>this.resetMode(B))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(B=>this.resetModePrivate(B))),this._parser.registerCsiHandler({final:"m"},(B=>this.charAttributes(B))),this._parser.registerCsiHandler({final:"n"},(B=>this.deviceStatus(B))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(B=>this.deviceStatusPrivate(B))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(B=>this.softReset(B))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(B=>this.setCursorStyle(B))),this._parser.registerCsiHandler({final:"r"},(B=>this.setScrollRegion(B))),this._parser.registerCsiHandler({final:"s"},(B=>this.saveCursor(B))),this._parser.registerCsiHandler({final:"t"},(B=>this.windowOptions(B))),this._parser.registerCsiHandler({final:"u"},(B=>this.restoreCursor(B))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(B=>this.insertColumns(B))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(B=>this.deleteColumns(B))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(B=>this.selectProtected(B))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(B=>this.requestMode(B,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(B=>this.requestMode(B,!1))),this._parser.setExecuteHandler(d.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(d.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(d.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(d.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(d.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(d.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(d.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(d.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(d.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new N.OscHandler((B=>(this.setTitle(B),this.setIconName(B),!0)))),this._parser.registerOscHandler(1,new N.OscHandler((B=>this.setIconName(B)))),this._parser.registerOscHandler(2,new N.OscHandler((B=>this.setTitle(B)))),this._parser.registerOscHandler(4,new N.OscHandler((B=>this.setOrReportIndexedColor(B)))),this._parser.registerOscHandler(8,new N.OscHandler((B=>this.setHyperlink(B)))),this._parser.registerOscHandler(10,new N.OscHandler((B=>this.setOrReportFgColor(B)))),this._parser.registerOscHandler(11,new N.OscHandler((B=>this.setOrReportBgColor(B)))),this._parser.registerOscHandler(12,new N.OscHandler((B=>this.setOrReportCursorColor(B)))),this._parser.registerOscHandler(104,new N.OscHandler((B=>this.restoreIndexedColor(B)))),this._parser.registerOscHandler(110,new N.OscHandler((B=>this.restoreFgColor(B)))),this._parser.registerOscHandler(111,new N.OscHandler((B=>this.restoreBgColor(B)))),this._parser.registerOscHandler(112,new N.OscHandler((B=>this.restoreCursorColor(B)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const B in b.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},(()=>this.selectCharset("("+B))),this._parser.registerEscHandler({intermediates:")",final:B},(()=>this.selectCharset(")"+B))),this._parser.registerEscHandler({intermediates:"*",final:B},(()=>this.selectCharset("*"+B))),this._parser.registerEscHandler({intermediates:"+",final:B},(()=>this.selectCharset("+"+B))),this._parser.registerEscHandler({intermediates:"-",final:B},(()=>this.selectCharset("-"+B))),this._parser.registerEscHandler({intermediates:".",final:B},(()=>this.selectCharset("."+B))),this._parser.registerEscHandler({intermediates:"/",final:B},(()=>this.selectCharset("/"+B)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((B=>(this._logService.error("Parsing error: ",B),B))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new D.DcsHandler(((B,Z)=>this.requestStatusString(B,Z))))}_preserveStack(I,H,T,M){this._parseStack.paused=!0,this._parseStack.cursorStartX=I,this._parseStack.cursorStartY=H,this._parseStack.decodedLength=T,this._parseStack.position=M}_logSlowResolvingAsync(I){this._logService.logLevel<=j.LogLevelEnum.WARN&&Promise.race([I,new Promise(((H,T)=>setTimeout((()=>T("#SLOW_TIMEOUT")),5e3)))]).catch((H=>{if(H!=="#SLOW_TIMEOUT")throw H;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(I,H){let T,M=this._activeBuffer.x,K=this._activeBuffer.y,z=0;const oe=this._parseStack.paused;if(oe){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,H))return this._logSlowResolvingAsync(T),T;M=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,I.length>P&&(z=this._parseStack.position+P)}if(this._logService.logLevel<=j.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof I=="string"?` "${I}"`:` "${Array.prototype.map.call(I,(ae=>String.fromCharCode(ae))).join("")}"`),typeof I=="string"?I.split("").map((ae=>ae.charCodeAt(0))):I),this._parseBuffer.length<I.length&&this._parseBuffer.length<P&&(this._parseBuffer=new Uint32Array(Math.min(I.length,P))),oe||this._dirtyRowTracker.clearRange(),I.length>P)for(let ae=z;ae<I.length;ae+=P){const pe=ae+P<I.length?ae+P:I.length,B=typeof I=="string"?this._stringDecoder.decode(I.substring(ae,pe),this._parseBuffer):this._utf8Decoder.decode(I.subarray(ae,pe),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,B))return this._preserveStack(M,K,B,ae),this._logSlowResolvingAsync(T),T}else if(!oe){const ae=typeof I=="string"?this._stringDecoder.decode(I,this._parseBuffer):this._utf8Decoder.decode(I,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,ae))return this._preserveStack(M,K,ae,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===M&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(I,H,T){let M,K;const z=this._charsetService.charset,oe=this._optionsService.rawOptions.screenReaderMode,ae=this._bufferService.cols,pe=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,Z=this._curAttrData;let Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-H>0&&Y.getWidth(this._activeBuffer.x-1)===2&&Y.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Z.fg,Z.bg,Z.extended);for(let ie=H;ie<T;++ie){if(M=I[ie],K=this._unicodeService.wcwidth(M),M<127&&z){const we=z[String.fromCharCode(M)];we&&(M=we.charCodeAt(0))}if(oe&&this._onA11yChar.fire((0,C.stringFromCodePoint)(M)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=ae){if(pe){for(;this._activeBuffer.x<ae;)Y.setCellFromCodePoint(this._activeBuffer.x++,0,1,Z.fg,Z.bg,Z.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ae-1,K===2)continue}if(B&&(Y.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(Z),Z),Y.getWidth(ae-1)===2&&Y.setCellFromCodePoint(ae-1,_.NULL_CELL_CODE,_.NULL_CELL_WIDTH,Z.fg,Z.bg,Z.extended)),Y.setCellFromCodePoint(this._activeBuffer.x++,M,K,Z.fg,Z.bg,Z.extended),K>0)for(;--K;)Y.setCellFromCodePoint(this._activeBuffer.x++,0,0,Z.fg,Z.bg,Z.extended)}else Y.getWidth(this._activeBuffer.x-1)?Y.addCodepointToCell(this._activeBuffer.x-1,M):Y.addCodepointToCell(this._activeBuffer.x-2,M)}T-H>0&&(Y.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ae&&T-H>0&&Y.getWidth(this._activeBuffer.x)===0&&!Y.hasContent(this._activeBuffer.x)&&Y.setCellFromCodePoint(this._activeBuffer.x,0,1,Z.fg,Z.bg,Z.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(I,H){return I.final!=="t"||I.prefix||I.intermediates?this._parser.registerCsiHandler(I,H):this._parser.registerCsiHandler(I,(T=>!U(T.params[0],this._optionsService.rawOptions.windowOptions)||H(T)))}registerDcsHandler(I,H){return this._parser.registerDcsHandler(I,new D.DcsHandler(H))}registerEscHandler(I,H){return this._parser.registerEscHandler(I,H)}registerOscHandler(I,H){return this._parser.registerOscHandler(I,new N.OscHandler(H))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var I;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||I===void 0)&&I.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);H.hasWidth(this._activeBuffer.x)&&!H.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const I=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-I),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(I=this._bufferService.cols-1){this._activeBuffer.x=Math.min(I,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(I,H){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=I,this._activeBuffer.y=this._activeBuffer.scrollTop+H):(this._activeBuffer.x=I,this._activeBuffer.y=H),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(I,H){this._restrictCursor(),this._setCursor(this._activeBuffer.x+I,this._activeBuffer.y+H)}cursorUp(I){const H=this._activeBuffer.y-this._activeBuffer.scrollTop;return H>=0?this._moveCursor(0,-Math.min(H,I.params[0]||1)):this._moveCursor(0,-(I.params[0]||1)),!0}cursorDown(I){const H=this._activeBuffer.scrollBottom-this._activeBuffer.y;return H>=0?this._moveCursor(0,Math.min(H,I.params[0]||1)):this._moveCursor(0,I.params[0]||1),!0}cursorForward(I){return this._moveCursor(I.params[0]||1,0),!0}cursorBackward(I){return this._moveCursor(-(I.params[0]||1),0),!0}cursorNextLine(I){return this.cursorDown(I),this._activeBuffer.x=0,!0}cursorPrecedingLine(I){return this.cursorUp(I),this._activeBuffer.x=0,!0}cursorCharAbsolute(I){return this._setCursor((I.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(I){return this._setCursor(I.length>=2?(I.params[1]||1)-1:0,(I.params[0]||1)-1),!0}charPosAbsolute(I){return this._setCursor((I.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(I){return this._moveCursor(I.params[0]||1,0),!0}linePosAbsolute(I){return this._setCursor(this._activeBuffer.x,(I.params[0]||1)-1),!0}vPositionRelative(I){return this._moveCursor(0,I.params[0]||1),!0}hVPosition(I){return this.cursorPosition(I),!0}tabClear(I){const H=I.params[0];return H===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:H===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(I){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let H=I.params[0]||1;for(;H--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(I){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let H=I.params[0]||1;for(;H--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(I){const H=I.params[0];return H===1&&(this._curAttrData.bg|=536870912),H!==2&&H!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(I,H,T,M=!1,K=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);z.replaceCells(H,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),K),M&&(z.isWrapped=!1)}_resetBufferLine(I,H=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);T&&(T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),H),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+I),T.isWrapped=!1)}eraseInDisplay(I,H=!1){let T;switch(this._restrictCursor(this._bufferService.cols),I.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,H);T<this._bufferService.rows;T++)this._resetBufferLine(T,H);this._dirtyRowTracker.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,H),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,H);this._dirtyRowTracker.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowTracker.markDirty(T-1);T--;)this._resetBufferLine(T,H);this._dirtyRowTracker.markDirty(0);break;case 3:const M=this._activeBuffer.lines.length-this._bufferService.rows;M>0&&(this._activeBuffer.lines.trimStart(M),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-M,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-M,0),this._onScroll.fire(0))}return!0}eraseInLine(I,H=!1){switch(this._restrictCursor(this._bufferService.cols),I.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,H);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,H);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,H)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(I){this._restrictCursor();let H=I.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-M+1;for(;H--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(I){this._restrictCursor();let H=I.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let M;for(M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-M;H--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(I){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.insertCells(this._activeBuffer.x,I.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(I){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.deleteCells(this._activeBuffer.x,I.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(I){let H=I.params[0]||1;for(;H--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(I){let H=I.params[0]||1;for(;H--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(I){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=I.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);M.deleteCells(0,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(I){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=I.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);M.insertCells(0,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(I){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=I.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);M.insertCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(I){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=I.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);M.deleteCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(I){this._restrictCursor();const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(I.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(I){if(!this._parser.precedingCodepoint)return!0;const H=I.params[0]||1,T=new Uint32Array(H);for(let M=0;M<H;++M)T[M]=this._parser.precedingCodepoint;return this.print(T,0,T.length),!0}sendDeviceAttributesPrimary(I){return I.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(d.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(d.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(I){return I.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(d.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(d.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(I.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(d.C0.ESC+"[>83;40003;0c")),!0}_is(I){return(this._optionsService.rawOptions.termName+"").indexOf(I)===0}setMode(I){for(let H=0;H<I.length;H++)switch(I.params[H]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(I){for(let H=0;H<I.length;H++)switch(I.params[H]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),this._charsetService.setgCharset(1,b.DEFAULT_CHARSET),this._charsetService.setgCharset(2,b.DEFAULT_CHARSET),this._charsetService.setgCharset(3,b.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(I){for(let H=0;H<I.length;H++)switch(I.params[H]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(I){for(let H=0;H<I.length;H++)switch(I.params[H]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),I.params[H]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(I,H){const T=this._coreService.decPrivateModes,{activeProtocol:M,activeEncoding:K}=this._coreMouseService,z=this._coreService,{buffers:oe,cols:ae}=this._bufferService,{active:pe,alt:B}=oe,Z=this._optionsService.rawOptions,Y=Oe=>Oe?1:2,ie=I.params[0];return we=ie,me=H?ie===2?4:ie===4?Y(z.modes.insertMode):ie===12?3:ie===20?Y(Z.convertEol):0:ie===1?Y(T.applicationCursorKeys):ie===3?Z.windowOptions.setWinLines?ae===80?2:ae===132?1:0:0:ie===6?Y(T.origin):ie===7?Y(T.wraparound):ie===8?3:ie===9?Y(M==="X10"):ie===12?Y(Z.cursorBlink):ie===25?Y(!z.isCursorHidden):ie===45?Y(T.reverseWraparound):ie===66?Y(T.applicationKeypad):ie===67?4:ie===1e3?Y(M==="VT200"):ie===1002?Y(M==="DRAG"):ie===1003?Y(M==="ANY"):ie===1004?Y(T.sendFocus):ie===1005?4:ie===1006?Y(K==="SGR"):ie===1015?4:ie===1016?Y(K==="SGR_PIXELS"):ie===1048?1:ie===47||ie===1047||ie===1049?Y(pe===B):ie===2004?Y(T.bracketedPasteMode):0,z.triggerDataEvent(`${d.C0.ESC}[${H?"":"?"}${we};${me}$y`),!0;var we,me}_updateAttrColor(I,H,T,M,K){return H===2?(I|=50331648,I&=-16777216,I|=E.AttributeData.fromColorRGB([T,M,K])):H===5&&(I&=-50331904,I|=33554432|255&T),I}_extractColor(I,H,T){const M=[0,0,-1,0,0,0];let K=0,z=0;do{if(M[z+K]=I.params[H+z],I.hasSubParams(H+z)){const oe=I.getSubParams(H+z);let ae=0;do M[1]===5&&(K=1),M[z+ae+1+K]=oe[ae];while(++ae<oe.length&&ae+z+1+K<M.length);break}if(M[1]===5&&z+K>=2||M[1]===2&&z+K>=5)break;M[1]&&(K=1)}while(++z+H<I.length&&z+K<M.length);for(let oe=2;oe<M.length;++oe)M[oe]===-1&&(M[oe]=0);switch(M[0]){case 38:T.fg=this._updateAttrColor(T.fg,M[1],M[3],M[4],M[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,M[1],M[3],M[4],M[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,M[1],M[3],M[4],M[5])}return z}_processUnderline(I,H){H.extended=H.extended.clone(),(!~I||I>5)&&(I=1),H.extended.underlineStyle=I,H.fg|=268435456,I===0&&(H.fg&=-268435457),H.updateExtended()}_processSGR0(I){I.fg=m.DEFAULT_ATTR_DATA.fg,I.bg=m.DEFAULT_ATTR_DATA.bg,I.extended=I.extended.clone(),I.extended.underlineStyle=0,I.extended.underlineColor&=-67108864,I.updateExtended()}charAttributes(I){if(I.length===1&&I.params[0]===0)return this._processSGR0(this._curAttrData),!0;const H=I.length;let T;const M=this._curAttrData;for(let K=0;K<H;K++)T=I.params[K],T>=30&&T<=37?(M.fg&=-50331904,M.fg|=16777216|T-30):T>=40&&T<=47?(M.bg&=-50331904,M.bg|=16777216|T-40):T>=90&&T<=97?(M.fg&=-50331904,M.fg|=16777224|T-90):T>=100&&T<=107?(M.bg&=-50331904,M.bg|=16777224|T-100):T===0?this._processSGR0(M):T===1?M.fg|=134217728:T===3?M.bg|=67108864:T===4?(M.fg|=268435456,this._processUnderline(I.hasSubParams(K)?I.getSubParams(K)[0]:1,M)):T===5?M.fg|=536870912:T===7?M.fg|=67108864:T===8?M.fg|=1073741824:T===9?M.fg|=2147483648:T===2?M.bg|=134217728:T===21?this._processUnderline(2,M):T===22?(M.fg&=-134217729,M.bg&=-134217729):T===23?M.bg&=-67108865:T===24?(M.fg&=-268435457,this._processUnderline(0,M)):T===25?M.fg&=-536870913:T===27?M.fg&=-67108865:T===28?M.fg&=-1073741825:T===29?M.fg&=2147483647:T===39?(M.fg&=-67108864,M.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):T===49?(M.bg&=-67108864,M.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?K+=this._extractColor(I,K,M):T===53?M.bg|=1073741824:T===55?M.bg&=-1073741825:T===59?(M.extended=M.extended.clone(),M.extended.underlineColor=-1,M.updateExtended()):T===100?(M.fg&=-67108864,M.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,M.bg&=-67108864,M.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(I){switch(I.params[0]){case 5:this._coreService.triggerDataEvent(`${d.C0.ESC}[0n`);break;case 6:const H=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[${H};${T}R`)}return!0}deviceStatusPrivate(I){if(I.params[0]===6){const H=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[?${H};${T}R`)}return!0}softReset(I){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(I){const H=I.params[0]||1;switch(H){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=H%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(I){const H=I.params[0]||1;let T;return(I.length<2||(T=I.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>H&&(this._activeBuffer.scrollTop=H-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(I){if(!U(I.params[0],this._optionsService.rawOptions.windowOptions))return!0;const H=I.length>1?I.params[1]:0;switch(I.params[0]){case 14:H!==2&&this._onRequestWindowsOptionsReport.fire(F.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(F.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${d.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:H!==0&&H!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),H!==0&&H!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:H!==0&&H!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),H!==0&&H!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(I){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(I){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(I){return this._windowTitle=I,this._onTitleChange.fire(I),!0}setIconName(I){return this._iconName=I,!0}setOrReportIndexedColor(I){const H=[],T=I.split(";");for(;T.length>1;){const M=T.shift(),K=T.shift();if(/^\d+$/.exec(M)){const z=parseInt(M);if(ee(z))if(K==="?")H.push({type:0,index:z});else{const oe=(0,L.parseColor)(K);oe&&H.push({type:1,index:z,color:oe})}}}return H.length&&this._onColor.fire(H),!0}setHyperlink(I){const H=I.split(";");return!(H.length<2)&&(H[1]?this._createHyperlink(H[0],H[1]):!H[0]&&this._finishHyperlink())}_createHyperlink(I,H){this._getCurrentLinkId()&&this._finishHyperlink();const T=I.split(":");let M;const K=T.findIndex((z=>z.startsWith("id=")));return K!==-1&&(M=T[K].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:M,uri:H}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(I,H){const T=I.split(";");for(let M=0;M<T.length&&!(H>=this._specialColors.length);++M,++H)if(T[M]==="?")this._onColor.fire([{type:0,index:this._specialColors[H]}]);else{const K=(0,L.parseColor)(T[M]);K&&this._onColor.fire([{type:1,index:this._specialColors[H],color:K}])}return!0}setOrReportFgColor(I){return this._setOrReportSpecialColor(I,0)}setOrReportBgColor(I){return this._setOrReportSpecialColor(I,1)}setOrReportCursorColor(I){return this._setOrReportSpecialColor(I,2)}restoreIndexedColor(I){if(!I)return this._onColor.fire([{type:2}]),!0;const H=[],T=I.split(";");for(let M=0;M<T.length;++M)if(/^\d+$/.exec(T[M])){const K=parseInt(T[M]);ee(K)&&H.push({type:2,index:K})}return H.length&&this._onColor.fire(H),!0}restoreFgColor(I){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(I){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(I){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),!0}selectCharset(I){return I.length!==2?(this.selectDefaultCharset(),!0):(I[0]==="/"||this._charsetService.setgCharset(A[I[0]],b.CHARSETS[I[1]]||b.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const I=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,I,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(I){return this._charsetService.setgLevel(I),!0}screenAlignmentPattern(){const I=new y.CellData;I.content=4194373,I.fg=this._curAttrData.fg,I.bg=this._curAttrData.bg,this._setCursor(0,0);for(let H=0;H<this._bufferService.rows;++H){const T=this._activeBuffer.ybase+this._activeBuffer.y+H,M=this._activeBuffer.lines.get(T);M&&(M.fill(I),M.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(I,H){const T=this._bufferService.buffer,M=this._optionsService.rawOptions;return(K=>(this._coreService.triggerDataEvent(`${d.C0.ESC}${K}${d.C0.ESC}\\`),!0))(I==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:I==='"p'?'P1$r61;1"p':I==="r"?`P1$r${T.scrollTop+1};${T.scrollBottom+1}r`:I==="m"?"P1$r0m":I===" q"?`P1$r${{block:2,underline:4,bar:6}[M.cursorStyle]-(M.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(I,H){this._dirtyRowTracker.markRangeDirty(I,H)}}o.InputHandler=W;let q=class{constructor(G){this._bufferService=G,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(G){G<this.start?this.start=G:G>this.end&&(this.end=G)}markRangeDirty(G,I){G>I&&($=G,G=I,I=$),G<this.start&&(this.start=G),I>this.end&&(this.end=I)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function ee(G){return 0<=G&&G<256}q=p([v(0,j.IBufferService)],q)},844:(f,o)=>{function u(p){for(const v of p)v.dispose();p.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const p of this._disposables)p.dispose();this._disposables.length=0}register(p){return this._disposables.push(p),p}unregister(p){const v=this._disposables.indexOf(p);v!==-1&&this._disposables.splice(v,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(p){var v;this._isDisposed||p===this._value||((v=this._value)===null||v===void 0||v.dispose(),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}},o.toDisposable=function(p){return{dispose:p}},o.disposeArray=u,o.getDisposeArrayDisposable=function(p){return{dispose:()=>u(p)}}},1505:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(v,d,b){this._data[v]||(this._data[v]={}),this._data[v][d]=b}get(v,d){return this._data[v]?this._data[v][d]:void 0}clear(){this._data={}}}o.TwoKeyMap=u,o.FourKeyMap=class{constructor(){this._data=new u}set(p,v,d,b,w){this._data.get(p,v)||this._data.set(p,v,new u),this._data.get(p,v).set(d,b,w)}get(p,v,d,b){var w;return(w=this._data.get(p,v))===null||w===void 0?void 0:w.get(d,b)}clear(){this._data.clear()}}},6114:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof navigator>"u";const u=o.isNode?"node":navigator.userAgent,p=o.isNode?"node":navigator.platform;o.isFirefox=u.includes("Firefox"),o.isLegacyEdge=u.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(u),o.getSafariVersion=function(){if(!o.isSafari)return 0;const v=u.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(p),o.isIpad=p==="iPad",o.isIphone=p==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(p),o.isLinux=p.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(u)},6106:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let u=0;o.SortedList=class{constructor(p){this._getKey=p,this._array=[]}clear(){this._array.length=0}insert(p){this._array.length!==0?(u=this._search(this._getKey(p)),this._array.splice(u,0,p)):this._array.push(p)}delete(p){if(this._array.length===0)return!1;const v=this._getKey(p);if(v===void 0||(u=this._search(v),u===-1)||this._getKey(this._array[u])!==v)return!1;do if(this._array[u]===p)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===v);return!1}*getKeyIterator(p){if(this._array.length!==0&&(u=this._search(p),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===p))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===p)}forEachByKey(p,v){if(this._array.length!==0&&(u=this._search(p),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===p))do v(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===p)}values(){return[...this._array].values()}_search(p){let v=0,d=this._array.length-1;for(;d>=v;){let b=v+d>>1;const w=this._getKey(this._array[b]);if(w>p)d=b-1;else{if(!(w<p)){for(;b>0&&this._getKey(this._array[b-1])===p;)b--;return b}v=b+1}}return v}}},7226:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const p=u(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let k=0,C=0,m=w.timeRemaining(),x=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),C=Math.max(k,C),x=w.timeRemaining(),1.5*C>x)return m-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-k))}ms`),void this._start();m=x}this.clear()}}class d extends v{_requestCallback(w){return setTimeout((()=>w(this._createDeadline(16))))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const k=Date.now()+w;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}o.PriorityTaskQueue=d,o.IdleTaskQueue=!p.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(b){return requestIdleCallback(b)}_cancelCallback(b){cancelIdleCallback(b)}}:d,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(b){this._queue.clear(),this._queue.enqueue(b)}flush(){this._queue.flush()}}},9282:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const p=u(643);o.updateWindowsModeWrappedState=function(v){const d=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),b=d==null?void 0:d.get(v.cols-1),w=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);w&&b&&(w.isWrapped=b[p.CHAR_DATA_CODE_INDEX]!==p.NULL_CELL_CODE&&b[p.CHAR_DATA_CODE_INDEX]!==p.WHITESPACE_CELL_CODE)}},3734:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new p}static toColorRGB(d){return[d>>>16&255,d>>>8&255,255&d]}static fromColorRGB(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]}clone(){const d=new u;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}o.AttributeData=u;class p{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(d){this._ext=d}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(d){this._ext&=-469762049,this._ext|=d<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(d){this._ext&=-67108864,this._ext|=67108863&d}get urlId(){return this._urlId}set urlId(d){this._urlId=d}constructor(d=0,b=0){this._ext=0,this._urlId=0,this._ext=d,this._urlId=b}clone(){return new p(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=p},9092:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const p=u(6349),v=u(7226),d=u(3734),b=u(8437),w=u(4634),k=u(511),C=u(643),m=u(4863),x=u(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(_,y,E){this._hasScrollback=_,this._optionsService=y,this._bufferService=E,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=b.DEFAULT_ATTR_DATA.clone(),this.savedCharset=x.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,C.WHITESPACE_CELL_CHAR,C.WHITESPACE_CELL_WIDTH,C.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(_){return _?(this._nullCell.fg=_.fg,this._nullCell.bg=_.bg,this._nullCell.extended=_.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell}getWhitespaceCell(_){return _?(this._whitespaceCell.fg=_.fg,this._whitespaceCell.bg=_.bg,this._whitespaceCell.extended=_.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell}getBlankLine(_,y){return new b.BufferLine(this._bufferService.cols,this.getNullCell(_),y)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const _=this.ybase+this.y-this.ydisp;return _>=0&&_<this._rows}_getCorrectBufferLength(_){if(!this._hasScrollback)return _;const y=_+this._optionsService.rawOptions.scrollback;return y>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:y}fillViewportRows(_){if(this.lines.length===0){_===void 0&&(_=b.DEFAULT_ATTR_DATA);let y=this._rows;for(;y--;)this.lines.push(this.getBlankLine(_))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(_,y){const E=this.getNullCell(b.DEFAULT_ATTR_DATA);let j=0;const N=this._getCorrectBufferLength(y);if(N>this.lines.maxLength&&(this.lines.maxLength=N),this.lines.length>0){if(this._cols<_)for(let L=0;L<this.lines.length;L++)j+=+this.lines.get(L).resize(_,E);let D=0;if(this._rows<y)for(let L=this._rows;L<y;L++)this.lines.length<y+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new b.BufferLine(_,E)):this.ybase>0&&this.lines.length<=this.ybase+this.y+D+1?(this.ybase--,D++,this.ydisp>0&&this.ydisp--):this.lines.push(new b.BufferLine(_,E)));else for(let L=this._rows;L>y;L--)this.lines.length>y+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(N<this.lines.maxLength){const L=this.lines.length-N;L>0&&(this.lines.trimStart(L),this.ybase=Math.max(this.ybase-L,0),this.ydisp=Math.max(this.ydisp-L,0),this.savedY=Math.max(this.savedY-L,0)),this.lines.maxLength=N}this.x=Math.min(this.x,_-1),this.y=Math.min(this.y,y-1),D&&(this.y+=D),this.savedX=Math.min(this.savedX,_-1),this.scrollTop=0}if(this.scrollBottom=y-1,this._isReflowEnabled&&(this._reflow(_,y),this._cols>_))for(let D=0;D<this.lines.length;D++)j+=+this.lines.get(D).resize(_,E);this._cols=_,this._rows=y,this._memoryCleanupQueue.clear(),j>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let _=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,_=!1);let y=0;for(;this._memoryCleanupPosition<this.lines.length;)if(y+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),y>100)return!0;return _}get _isReflowEnabled(){const _=this._optionsService.rawOptions.windowsPty;return _&&_.buildNumber?this._hasScrollback&&_.backend==="conpty"&&_.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(_,y){this._cols!==_&&(_>this._cols?this._reflowLarger(_,y):this._reflowSmaller(_,y))}_reflowLarger(_,y){const E=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,_,this.ybase+this.y,this.getNullCell(b.DEFAULT_ATTR_DATA));if(E.length>0){const j=(0,w.reflowLargerCreateNewLayout)(this.lines,E);(0,w.reflowLargerApplyNewLayout)(this.lines,j.layout),this._reflowLargerAdjustViewport(_,y,j.countRemoved)}}_reflowLargerAdjustViewport(_,y,E){const j=this.getNullCell(b.DEFAULT_ATTR_DATA);let N=E;for(;N-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<y&&this.lines.push(new b.BufferLine(_,j))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-E,0)}_reflowSmaller(_,y){const E=this.getNullCell(b.DEFAULT_ATTR_DATA),j=[];let N=0;for(let D=this.lines.length-1;D>=0;D--){let L=this.lines.get(D);if(!L||!L.isWrapped&&L.getTrimmedLength()<=_)continue;const A=[L];for(;L.isWrapped&&D>0;)L=this.lines.get(--D),A.unshift(L);const P=this.ybase+this.y;if(P>=D&&P<D+A.length)continue;const U=A[A.length-1].getTrimmedLength(),F=(0,w.reflowSmallerGetNewLineLengths)(A,this._cols,_),$=F.length-A.length;let W;W=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+$):Math.max(0,this.lines.length-this.lines.maxLength+$);const q=[];for(let M=0;M<$;M++){const K=this.getBlankLine(b.DEFAULT_ATTR_DATA,!0);q.push(K)}q.length>0&&(j.push({start:D+A.length+N,newLines:q}),N+=q.length),A.push(...q);let ee=F.length-1,G=F[ee];G===0&&(ee--,G=F[ee]);let I=A.length-$-1,H=U;for(;I>=0;){const M=Math.min(H,G);if(A[ee]===void 0)break;if(A[ee].copyCellsFrom(A[I],H-M,G-M,M,!0),G-=M,G===0&&(ee--,G=F[ee]),H-=M,H===0){I--;const K=Math.max(I,0);H=(0,w.getWrappedLineTrimmedLength)(A,K,this._cols)}}for(let M=0;M<A.length;M++)F[M]<_&&A[M].setCell(F[M],E);let T=$-W;for(;T-- >0;)this.ybase===0?this.y<y-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+N)-y&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+$,this.ybase+y-1)}if(j.length>0){const D=[],L=[];for(let ee=0;ee<this.lines.length;ee++)L.push(this.lines.get(ee));const A=this.lines.length;let P=A-1,U=0,F=j[U];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+N);let $=0;for(let ee=Math.min(this.lines.maxLength-1,A+N-1);ee>=0;ee--)if(F&&F.start>P+$){for(let G=F.newLines.length-1;G>=0;G--)this.lines.set(ee--,F.newLines[G]);ee++,D.push({index:P+1,amount:F.newLines.length}),$+=F.newLines.length,F=j[++U]}else this.lines.set(ee,L[P--]);let W=0;for(let ee=D.length-1;ee>=0;ee--)D[ee].index+=W,this.lines.onInsertEmitter.fire(D[ee]),W+=D[ee].amount;const q=Math.max(0,A+N-this.lines.maxLength);q>0&&this.lines.onTrimEmitter.fire(q)}}translateBufferLineToString(_,y,E=0,j){const N=this.lines.get(_);return N?N.translateToString(y,E,j):""}getWrappedRangeForLine(_){let y=_,E=_;for(;y>0&&this.lines.get(y).isWrapped;)y--;for(;E+1<this.lines.length&&this.lines.get(E+1).isWrapped;)E++;return{first:y,last:E}}setupTabStops(_){for(_!=null?this.tabs[_]||(_=this.prevStop(_)):(this.tabs={},_=0);_<this._cols;_+=this._optionsService.rawOptions.tabStopWidth)this.tabs[_]=!0}prevStop(_){for(_==null&&(_=this.x);!this.tabs[--_]&&_>0;);return _>=this._cols?this._cols-1:_<0?0:_}nextStop(_){for(_==null&&(_=this.x);!this.tabs[++_]&&_<this._cols;);return _>=this._cols?this._cols-1:_<0?0:_}clearMarkers(_){this._isClearing=!0;for(let y=0;y<this.markers.length;y++)this.markers[y].line===_&&(this.markers[y].dispose(),this.markers.splice(y--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].dispose(),this.markers.splice(_--,1);this._isClearing=!1}addMarker(_){const y=new m.Marker(_);return this.markers.push(y),y.register(this.lines.onTrim((E=>{y.line-=E,y.line<0&&y.dispose()}))),y.register(this.lines.onInsert((E=>{y.line>=E.index&&(y.line+=E.amount)}))),y.register(this.lines.onDelete((E=>{y.line>=E.index&&y.line<E.index+E.amount&&y.dispose(),y.line>E.index&&(y.line-=E.amount)}))),y.register(y.onDispose((()=>this._removeMarker(y)))),y}_removeMarker(_){this._isClearing||this.markers.splice(this.markers.indexOf(_),1)}}},8437:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const p=u(3734),v=u(511),d=u(643),b=u(482);o.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);let w=0;class k{constructor(m,x,_=!1){this.isWrapped=_,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const y=x||v.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]);for(let E=0;E<m;++E)this.setCell(E,y);this.length=m}get(m){const x=this._data[3*m+0],_=2097151&x;return[this._data[3*m+1],2097152&x?this._combined[m]:_?(0,b.stringFromCodePoint)(_):"",x>>22,2097152&x?this._combined[m].charCodeAt(this._combined[m].length-1):_]}set(m,x){this._data[3*m+1]=x[d.CHAR_DATA_ATTR_INDEX],x[d.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=x[1],this._data[3*m+0]=2097152|m|x[d.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=x[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|x[d.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const x=this._data[3*m+0];return 2097152&x?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&x}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const x=this._data[3*m+0];return 2097152&x?this._combined[m]:2097151&x?(0,b.stringFromCodePoint)(2097151&x):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,x){return w=3*m,x.content=this._data[w+0],x.fg=this._data[w+1],x.bg=this._data[w+2],2097152&x.content&&(x.combinedData=this._combined[m]),268435456&x.bg&&(x.extended=this._extendedAttrs[m]),x}setCell(m,x){2097152&x.content&&(this._combined[m]=x.combinedData),268435456&x.bg&&(this._extendedAttrs[m]=x.extended),this._data[3*m+0]=x.content,this._data[3*m+1]=x.fg,this._data[3*m+2]=x.bg}setCellFromCodePoint(m,x,_,y,E,j){268435456&E&&(this._extendedAttrs[m]=j),this._data[3*m+0]=x|_<<22,this._data[3*m+1]=y,this._data[3*m+2]=E}addCodepointToCell(m,x){let _=this._data[3*m+0];2097152&_?this._combined[m]+=(0,b.stringFromCodePoint)(x):(2097151&_?(this._combined[m]=(0,b.stringFromCodePoint)(2097151&_)+(0,b.stringFromCodePoint)(x),_&=-2097152,_|=2097152):_=x|4194304,this._data[3*m+0]=_)}insertCells(m,x,_,y){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new p.ExtendedAttrs),x<this.length-m){const E=new v.CellData;for(let j=this.length-m-x-1;j>=0;--j)this.setCell(m+x+j,this.loadCell(m+j,E));for(let j=0;j<x;++j)this.setCell(m+j,_)}else for(let E=m;E<this.length;++E)this.setCell(E,_);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new p.ExtendedAttrs)}deleteCells(m,x,_,y){if(m%=this.length,x<this.length-m){const E=new v.CellData;for(let j=0;j<this.length-m-x;++j)this.setCell(m+j,this.loadCell(m+x+j,E));for(let j=this.length-x;j<this.length;++j)this.setCell(j,_)}else for(let E=m;E<this.length;++E)this.setCell(E,_);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new p.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new p.ExtendedAttrs)}replaceCells(m,x,_,y,E=!1){if(E)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodePoint(m-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new p.ExtendedAttrs),x<this.length&&this.getWidth(x-1)===2&&!this.isProtected(x)&&this.setCellFromCodePoint(x,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new p.ExtendedAttrs);m<x&&m<this.length;)this.isProtected(m)||this.setCell(m,_),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new p.ExtendedAttrs),x<this.length&&this.getWidth(x-1)===2&&this.setCellFromCodePoint(x,0,1,(y==null?void 0:y.fg)||0,(y==null?void 0:y.bg)||0,(y==null?void 0:y.extended)||new p.ExtendedAttrs);m<x&&m<this.length;)this.setCell(m++,_)}resize(m,x){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const _=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*_)this._data=new Uint32Array(this._data.buffer,0,_);else{const y=new Uint32Array(_);y.set(this._data),this._data=y}for(let y=this.length;y<m;++y)this.setCell(y,x)}else{this._data=this._data.subarray(0,_);const y=Object.keys(this._combined);for(let j=0;j<y.length;j++){const N=parseInt(y[j],10);N>=m&&delete this._combined[N]}const E=Object.keys(this._extendedAttrs);for(let j=0;j<E.length;j++){const N=parseInt(E[j],10);N>=m&&delete this._extendedAttrs[N]}}return this.length=m,4*_*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,x=!1){if(x)for(let _=0;_<this.length;++_)this.isProtected(_)||this.setCell(_,m);else{this._combined={},this._extendedAttrs={};for(let _=0;_<this.length;++_)this.setCell(_,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const x in m._combined)this._combined[x]=m._combined[x];this._extendedAttrs={};for(const x in m._extendedAttrs)this._extendedAttrs[x]=m._extendedAttrs[x];this.isWrapped=m.isWrapped}clone(){const m=new k(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const x in this._combined)m._combined[x]=this._combined[x];for(const x in this._extendedAttrs)m._extendedAttrs[x]=this._extendedAttrs[x];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,x,_,y,E){const j=m._data;if(E)for(let D=y-1;D>=0;D--){for(let L=0;L<3;L++)this._data[3*(_+D)+L]=j[3*(x+D)+L];268435456&j[3*(x+D)+2]&&(this._extendedAttrs[_+D]=m._extendedAttrs[x+D])}else for(let D=0;D<y;D++){for(let L=0;L<3;L++)this._data[3*(_+D)+L]=j[3*(x+D)+L];268435456&j[3*(x+D)+2]&&(this._extendedAttrs[_+D]=m._extendedAttrs[x+D])}const N=Object.keys(m._combined);for(let D=0;D<N.length;D++){const L=parseInt(N[D],10);L>=x&&(this._combined[L-x+_]=m._combined[L])}}translateToString(m=!1,x=0,_=this.length){m&&(_=Math.min(_,this.getTrimmedLength()));let y="";for(;x<_;){const E=this._data[3*x+0],j=2097151&E;y+=2097152&E?this._combined[x]:j?(0,b.stringFromCodePoint)(j):d.WHITESPACE_CELL_CHAR,x+=E>>22||1}return y}}o.BufferLine=k},4841:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(u,p){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return p*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(f,o)=>{function u(p,v,d){if(v===p.length-1)return p[v].getTrimmedLength();const b=!p[v].hasContent(d-1)&&p[v].getWidth(d-1)===1,w=p[v+1].getWidth(0)===2;return b&&w?d-1:d}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(p,v,d,b,w){const k=[];for(let C=0;C<p.length-1;C++){let m=C,x=p.get(++m);if(!x.isWrapped)continue;const _=[p.get(C)];for(;m<p.length&&x.isWrapped;)_.push(x),x=p.get(++m);if(b>=C&&b<m){C+=_.length-1;continue}let y=0,E=u(_,y,v),j=1,N=0;for(;j<_.length;){const L=u(_,j,v),A=L-N,P=d-E,U=Math.min(A,P);_[y].copyCellsFrom(_[j],N,E,U,!1),E+=U,E===d&&(y++,E=0),N+=U,N===L&&(j++,N=0),E===0&&y!==0&&_[y-1].getWidth(d-1)===2&&(_[y].copyCellsFrom(_[y-1],d-1,E++,1,!1),_[y-1].setCell(d-1,w))}_[y].replaceCells(E,d,w);let D=0;for(let L=_.length-1;L>0&&(L>y||_[L].getTrimmedLength()===0);L--)D++;D>0&&(k.push(C+_.length-D),k.push(D)),C+=_.length-1}return k},o.reflowLargerCreateNewLayout=function(p,v){const d=[];let b=0,w=v[b],k=0;for(let C=0;C<p.length;C++)if(w===C){const m=v[++b];p.onDeleteEmitter.fire({index:C-k,amount:m}),C+=m-1,k+=m,w=v[++b]}else d.push(C);return{layout:d,countRemoved:k}},o.reflowLargerApplyNewLayout=function(p,v){const d=[];for(let b=0;b<v.length;b++)d.push(p.get(v[b]));for(let b=0;b<d.length;b++)p.set(b,d[b]);p.length=v.length},o.reflowSmallerGetNewLineLengths=function(p,v,d){const b=[],w=p.map(((x,_)=>u(p,_,v))).reduce(((x,_)=>x+_));let k=0,C=0,m=0;for(;m<w;){if(w-m<d){b.push(w-m);break}k+=d;const x=u(p,C,v);k>x&&(k-=x,C++);const _=p[C].getWidth(k-1)===2;_&&k--;const y=_?d-1:d;b.push(y),m+=y}return b},o.getWrappedLineTrimmedLength=u},5295:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const p=u(8460),v=u(844),d=u(9092);class b extends v.Disposable{constructor(k,C){super(),this._optionsService=k,this._bufferService=C,this._onBufferActivate=this.register(new p.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,C){this._normal.resize(k,C),this._alt.resize(k,C),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}o.BufferSet=b},511:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const p=u(482),v=u(643),d=u(3734);class b extends d.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new d.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const C=new b;return C.setFromCharData(k),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,p.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(k[v.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(k[v.CHAR_DATA_CHAR_INDEX].length===2){const m=k[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const x=k[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=x&&x<=57343?this.content=1024*(m-55296)+x-56320+65536|k[v.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=k[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[v.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=k[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=b},643:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const p=u(8460),v=u(844);class d{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=d._nextId++,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}o.Marker=d,d._nextId=1},7116:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(f,o)=>{var u,p,v;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,(function(d){d.NUL="\0",d.SOH="",d.STX="",d.ETX="",d.EOT="",d.ENQ="",d.ACK="",d.BEL="\x07",d.BS="\b",d.HT="	",d.LF=`
`,d.VT="\v",d.FF="\f",d.CR="\r",d.SO="",d.SI="",d.DLE="",d.DC1="",d.DC2="",d.DC3="",d.DC4="",d.NAK="",d.SYN="",d.ETB="",d.CAN="",d.EM="",d.SUB="",d.ESC="\x1B",d.FS="",d.GS="",d.RS="",d.US="",d.SP=" ",d.DEL=""})(u||(o.C0=u={})),(function(d){d.PAD="",d.HOP="",d.BPH="",d.NBH="",d.IND="",d.NEL="",d.SSA="",d.ESA="",d.HTS="",d.HTJ="",d.VTS="",d.PLD="",d.PLU="",d.RI="",d.SS2="",d.SS3="",d.DCS="",d.PU1="",d.PU2="",d.STS="",d.CCH="",d.MW="",d.SPA="",d.EPA="",d.SOS="",d.SGCI="",d.SCI="",d.CSI="",d.ST="",d.OSC="",d.PM="",d.APC=""})(p||(o.C1=p={})),(function(d){d.ST=`${u.ESC}\\`})(v||(o.C1_ESCAPED=v={}))},7399:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const p=u(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(d,b,w,k){const C={type:0,cancel:!1,key:void 0},m=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?C.key=b?p.C0.ESC+"OA":p.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?C.key=b?p.C0.ESC+"OD":p.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?C.key=b?p.C0.ESC+"OC":p.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(C.key=b?p.C0.ESC+"OB":p.C0.ESC+"[B");break;case 8:if(d.altKey){C.key=p.C0.ESC+p.C0.DEL;break}C.key=p.C0.DEL;break;case 9:if(d.shiftKey){C.key=p.C0.ESC+"[Z";break}C.key=p.C0.HT,C.cancel=!0;break;case 13:C.key=d.altKey?p.C0.ESC+p.C0.CR:p.C0.CR,C.cancel=!0;break;case 27:C.key=p.C0.ESC,d.altKey&&(C.key=p.C0.ESC+p.C0.ESC),C.cancel=!0;break;case 37:if(d.metaKey)break;m?(C.key=p.C0.ESC+"[1;"+(m+1)+"D",C.key===p.C0.ESC+"[1;3D"&&(C.key=p.C0.ESC+(w?"b":"[1;5D"))):C.key=b?p.C0.ESC+"OD":p.C0.ESC+"[D";break;case 39:if(d.metaKey)break;m?(C.key=p.C0.ESC+"[1;"+(m+1)+"C",C.key===p.C0.ESC+"[1;3C"&&(C.key=p.C0.ESC+(w?"f":"[1;5C"))):C.key=b?p.C0.ESC+"OC":p.C0.ESC+"[C";break;case 38:if(d.metaKey)break;m?(C.key=p.C0.ESC+"[1;"+(m+1)+"A",w||C.key!==p.C0.ESC+"[1;3A"||(C.key=p.C0.ESC+"[1;5A")):C.key=b?p.C0.ESC+"OA":p.C0.ESC+"[A";break;case 40:if(d.metaKey)break;m?(C.key=p.C0.ESC+"[1;"+(m+1)+"B",w||C.key!==p.C0.ESC+"[1;3B"||(C.key=p.C0.ESC+"[1;5B")):C.key=b?p.C0.ESC+"OB":p.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(C.key=p.C0.ESC+"[2~");break;case 46:C.key=m?p.C0.ESC+"[3;"+(m+1)+"~":p.C0.ESC+"[3~";break;case 36:C.key=m?p.C0.ESC+"[1;"+(m+1)+"H":b?p.C0.ESC+"OH":p.C0.ESC+"[H";break;case 35:C.key=m?p.C0.ESC+"[1;"+(m+1)+"F":b?p.C0.ESC+"OF":p.C0.ESC+"[F";break;case 33:d.shiftKey?C.type=2:d.ctrlKey?C.key=p.C0.ESC+"[5;"+(m+1)+"~":C.key=p.C0.ESC+"[5~";break;case 34:d.shiftKey?C.type=3:d.ctrlKey?C.key=p.C0.ESC+"[6;"+(m+1)+"~":C.key=p.C0.ESC+"[6~";break;case 112:C.key=m?p.C0.ESC+"[1;"+(m+1)+"P":p.C0.ESC+"OP";break;case 113:C.key=m?p.C0.ESC+"[1;"+(m+1)+"Q":p.C0.ESC+"OQ";break;case 114:C.key=m?p.C0.ESC+"[1;"+(m+1)+"R":p.C0.ESC+"OR";break;case 115:C.key=m?p.C0.ESC+"[1;"+(m+1)+"S":p.C0.ESC+"OS";break;case 116:C.key=m?p.C0.ESC+"[15;"+(m+1)+"~":p.C0.ESC+"[15~";break;case 117:C.key=m?p.C0.ESC+"[17;"+(m+1)+"~":p.C0.ESC+"[17~";break;case 118:C.key=m?p.C0.ESC+"[18;"+(m+1)+"~":p.C0.ESC+"[18~";break;case 119:C.key=m?p.C0.ESC+"[19;"+(m+1)+"~":p.C0.ESC+"[19~";break;case 120:C.key=m?p.C0.ESC+"[20;"+(m+1)+"~":p.C0.ESC+"[20~";break;case 121:C.key=m?p.C0.ESC+"[21;"+(m+1)+"~":p.C0.ESC+"[21~";break;case 122:C.key=m?p.C0.ESC+"[23;"+(m+1)+"~":p.C0.ESC+"[23~";break;case 123:C.key=m?p.C0.ESC+"[24;"+(m+1)+"~":p.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(w&&!k||!d.altKey||d.metaKey)!w||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?C.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(C.key=p.C0.US),d.key==="@"&&(C.key=p.C0.NUL)):d.keyCode===65&&(C.type=1);else{const x=v[d.keyCode],_=x==null?void 0:x[d.shiftKey?1:0];if(_)C.key=p.C0.ESC+_;else if(d.keyCode>=65&&d.keyCode<=90){const y=d.ctrlKey?d.keyCode-64:d.keyCode+32;let E=String.fromCharCode(y);d.shiftKey&&(E=E.toUpperCase()),C.key=p.C0.ESC+E}else if(d.keyCode===32)C.key=p.C0.ESC+(d.ctrlKey?p.C0.NUL:" ");else if(d.key==="Dead"&&d.code.startsWith("Key")){let y=d.code.slice(3,4);d.shiftKey||(y=y.toLowerCase()),C.key=p.C0.ESC+y,C.cancel=!0}}else d.keyCode>=65&&d.keyCode<=90?C.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?C.key=p.C0.NUL:d.keyCode>=51&&d.keyCode<=55?C.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?C.key=p.C0.DEL:d.keyCode===219?C.key=p.C0.ESC:d.keyCode===220?C.key=p.C0.FS:d.keyCode===221&&(C.key=p.C0.GS)}return C}},482:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},o.utf32ToString=function(u,p=0,v=u.length){let d="";for(let b=p;b<v;++b){let w=u[b];w>65535?(w-=65536,d+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):d+=String.fromCharCode(w)}return d},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,p){const v=u.length;if(!v)return 0;let d=0,b=0;if(this._interim){const w=u.charCodeAt(b++);56320<=w&&w<=57343?p[d++]=1024*(this._interim-55296)+w-56320+65536:(p[d++]=this._interim,p[d++]=w),this._interim=0}for(let w=b;w<v;++w){const k=u.charCodeAt(w);if(55296<=k&&k<=56319){if(++w>=v)return this._interim=k,d;const C=u.charCodeAt(w);56320<=C&&C<=57343?p[d++]=1024*(k-55296)+C-56320+65536:(p[d++]=k,p[d++]=C)}else k!==65279&&(p[d++]=k)}return d}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,p){const v=u.length;if(!v)return 0;let d,b,w,k,C=0,m=0,x=0;if(this.interim[0]){let E=!1,j=this.interim[0];j&=(224&j)==192?31:(240&j)==224?15:7;let N,D=0;for(;(N=63&this.interim[++D])&&D<4;)j<<=6,j|=N;const L=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,A=L-D;for(;x<A;){if(x>=v)return 0;if(N=u[x++],(192&N)!=128){x--,E=!0;break}this.interim[D++]=N,j<<=6,j|=63&N}E||(L===2?j<128?x--:p[C++]=j:L===3?j<2048||j>=55296&&j<=57343||j===65279||(p[C++]=j):j<65536||j>1114111||(p[C++]=j)),this.interim.fill(0)}const _=v-4;let y=x;for(;y<v;){for(;!(!(y<_)||128&(d=u[y])||128&(b=u[y+1])||128&(w=u[y+2])||128&(k=u[y+3]));)p[C++]=d,p[C++]=b,p[C++]=w,p[C++]=k,y+=4;if(d=u[y++],d<128)p[C++]=d;else if((224&d)==192){if(y>=v)return this.interim[0]=d,C;if(b=u[y++],(192&b)!=128){y--;continue}if(m=(31&d)<<6|63&b,m<128){y--;continue}p[C++]=m}else if((240&d)==224){if(y>=v)return this.interim[0]=d,C;if(b=u[y++],(192&b)!=128){y--;continue}if(y>=v)return this.interim[0]=d,this.interim[1]=b,C;if(w=u[y++],(192&w)!=128){y--;continue}if(m=(15&d)<<12|(63&b)<<6|63&w,m<2048||m>=55296&&m<=57343||m===65279)continue;p[C++]=m}else if((248&d)==240){if(y>=v)return this.interim[0]=d,C;if(b=u[y++],(192&b)!=128){y--;continue}if(y>=v)return this.interim[0]=d,this.interim[1]=b,C;if(w=u[y++],(192&w)!=128){y--;continue}if(y>=v)return this.interim[0]=d,this.interim[1]=b,this.interim[2]=w,C;if(k=u[y++],(192&k)!=128){y--;continue}if(m=(7&d)<<18|(63&b)<<12|(63&w)<<6|63&k,m<65536||m>1114111)continue;p[C++]=m}}return C}}},225:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let v;o.UnicodeV6=class{constructor(){if(this.version="6",!v){v=new Uint8Array(65536),v.fill(1),v[0]=0,v.fill(0,1,32),v.fill(0,127,160),v.fill(2,4352,4448),v[9001]=2,v[9002]=2,v.fill(2,11904,42192),v[12351]=1,v.fill(2,44032,55204),v.fill(2,63744,64256),v.fill(2,65040,65050),v.fill(2,65072,65136),v.fill(2,65280,65377),v.fill(2,65504,65511);for(let d=0;d<u.length;++d)v.fill(0,u[d][0],u[d][1]+1)}}wcwidth(d){return d<32?0:d<127?1:d<65536?v[d]:(function(b,w){let k,C=0,m=w.length-1;if(b<w[0][0]||b>w[m][1])return!1;for(;m>=C;)if(k=C+m>>1,b>w[k][1])C=k+1;else{if(!(b<w[k][0]))return!0;m=k-1}return!1})(d,p)?0:d>=131072&&d<=196605||d>=196608&&d<=262141?2:1}}},5981:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const p=u(8460),v=u(844);class d extends v.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new p.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(k),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(k)}_innerWrite(w=0,k=!0){const C=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],x=this._action(m,k);if(x){const y=E=>Date.now()-C>=12?setTimeout((()=>this._innerWrite(0,E))):this._innerWrite(C,E);return void x.catch((E=>(queueMicrotask((()=>{throw E})),Promise.resolve(!1)))).then(y)}const _=this._callbacks[this._bufferOffset];if(_&&_(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=d},5941:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,p=/^[\da-f]+$/;function v(d,b){const w=d.toString(16),k=w.length<2?"0"+w:w;switch(b){case 4:return w[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}o.parseColor=function(d){if(!d)return;let b=d.toLowerCase();if(b.indexOf("rgb:")===0){b=b.slice(4);const w=u.exec(b);if(w){const k=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/k*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/k*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/k*255)]}}else if(b.indexOf("#")===0&&(b=b.slice(1),p.exec(b)&&[3,6,9,12].includes(b.length))){const w=b.length/3,k=[0,0,0];for(let C=0;C<3;++C){const m=parseInt(b.slice(w*C,w*C+w),16);k[C]=w===1?m<<4:w===2?m:w===3?m>>4:m>>8}return k}},o.toRgbString=function(d,b=16){const[w,k,C]=d;return`rgb:${v(w,b)}/${v(k,b)}/${v(C,b)}`}},5770:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const p=u(482),v=u(8742),d=u(5770),b=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=b,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=b}registerHandler(k,C){this._handlers[k]===void 0&&(this._handlers[k]=[]);const m=this._handlers[k];return m.push(C),{dispose:()=>{const x=m.indexOf(C);x!==-1&&m.splice(x,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=b,this._ident=0}hook(k,C){if(this.reset(),this._ident=k,this._active=this._handlers[k]||b,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(C);else this._handlerFb(this._ident,"HOOK",C)}put(k,C,m){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(k,C,m);else this._handlerFb(this._ident,"PUT",(0,p.utf32ToString)(k,C,m))}unhook(k,C=!0){if(this._active.length){let m=!1,x=this._active.length-1,_=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,m=C,_=this._stack.fallThrough,this._stack.paused=!1),!_&&m===!1){for(;x>=0&&(m=this._active[x].unhook(k),m!==!0);x--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,m;x--}for(;x>=0;x--)if(m=this._active[x].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",k);this._active=b,this._ident=0}};const w=new v.Params;w.addParam(0),o.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=w,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():w,this._data="",this._hitLimit=!1}put(k,C,m){this._hitLimit||(this._data+=(0,p.utf32ToString)(k,C,m),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let C=!1;if(this._hitLimit)C=!1;else if(k&&(C=this._handler(this._data,this._params),C instanceof Promise))return C.then((m=>(this._params=w,this._data="",this._hitLimit=!1,m)));return this._params=w,this._data="",this._hitLimit=!1,C}}},2015:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const p=u(844),v=u(8742),d=u(6242),b=u(6351);class w{constructor(x){this.table=new Uint8Array(x)}setDefault(x,_){this.table.fill(x<<4|_)}add(x,_,y,E){this.table[_<<8|x]=y<<4|E}addMany(x,_,y,E){for(let j=0;j<x.length;j++)this.table[_<<8|x[j]]=y<<4|E}}o.TransitionTable=w;const k=160;o.VT500_TRANSITION_TABLE=(function(){const m=new w(4095),x=Array.apply(null,Array(256)).map(((D,L)=>L)),_=(D,L)=>x.slice(D,L),y=_(32,127),E=_(0,24);E.push(25),E.push.apply(E,_(28,32));const j=_(0,14);let N;for(N in m.setDefault(1,0),m.addMany(y,0,2,0),j)m.addMany([24,26,153,154],N,3,0),m.addMany(_(128,144),N,3,0),m.addMany(_(144,152),N,3,0),m.add(156,N,0,0),m.add(27,N,11,1),m.add(157,N,4,8),m.addMany([152,158,159],N,0,7),m.add(155,N,11,3),m.add(144,N,11,9);return m.addMany(E,0,3,0),m.addMany(E,1,3,1),m.add(127,1,0,1),m.addMany(E,8,0,8),m.addMany(E,3,3,3),m.add(127,3,0,3),m.addMany(E,4,3,4),m.add(127,4,0,4),m.addMany(E,6,3,6),m.addMany(E,5,3,5),m.add(127,5,0,5),m.addMany(E,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(y,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(_(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(y,7,0,7),m.addMany(E,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(_(64,127),3,7,0),m.addMany(_(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(_(48,60),4,8,4),m.addMany(_(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(_(32,64),6,0,6),m.add(127,6,0,6),m.addMany(_(64,127),6,0,0),m.addMany(_(32,48),3,9,5),m.addMany(_(32,48),5,9,5),m.addMany(_(48,64),5,0,6),m.addMany(_(64,127),5,7,0),m.addMany(_(32,48),4,9,5),m.addMany(_(32,48),1,9,2),m.addMany(_(32,48),2,9,2),m.addMany(_(48,127),2,10,0),m.addMany(_(48,80),1,10,0),m.addMany(_(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(_(96,127),1,10,0),m.add(80,1,11,9),m.addMany(E,9,0,9),m.add(127,9,0,9),m.addMany(_(28,32),9,0,9),m.addMany(_(32,48),9,9,12),m.addMany(_(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(E,11,0,11),m.addMany(_(32,128),11,0,11),m.addMany(_(28,32),11,0,11),m.addMany(E,10,0,10),m.add(127,10,0,10),m.addMany(_(28,32),10,0,10),m.addMany(_(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(_(32,48),10,9,12),m.addMany(E,12,0,12),m.add(127,12,0,12),m.addMany(_(28,32),12,0,12),m.addMany(_(32,48),12,9,12),m.addMany(_(48,64),12,0,11),m.addMany(_(64,127),12,12,13),m.addMany(_(64,127),10,12,13),m.addMany(_(64,127),9,12,13),m.addMany(E,13,13,13),m.addMany(y,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(k,0,2,0),m.add(k,8,5,8),m.add(k,6,0,6),m.add(k,11,0,11),m.add(k,13,13,13),m})();class C extends p.Disposable{constructor(x=o.VT500_TRANSITION_TABLE){super(),this._transitions=x,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(_,y,E)=>{},this._executeHandlerFb=_=>{},this._csiHandlerFb=(_,y)=>{},this._escHandlerFb=_=>{},this._errorHandlerFb=_=>_,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,p.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new d.OscParser),this._dcsParser=this.register(new b.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(x,_=[64,126]){let y=0;if(x.prefix){if(x.prefix.length>1)throw new Error("only one byte as prefix supported");if(y=x.prefix.charCodeAt(0),y&&60>y||y>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(x.intermediates){if(x.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let j=0;j<x.intermediates.length;++j){const N=x.intermediates.charCodeAt(j);if(32>N||N>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");y<<=8,y|=N}}if(x.final.length!==1)throw new Error("final must be a single byte");const E=x.final.charCodeAt(0);if(_[0]>E||E>_[1])throw new Error(`final must be in range ${_[0]} .. ${_[1]}`);return y<<=8,y|=E,y}identToString(x){const _=[];for(;x;)_.push(String.fromCharCode(255&x)),x>>=8;return _.reverse().join("")}setPrintHandler(x){this._printHandler=x}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(x,_){const y=this._identifier(x,[48,126]);this._escHandlers[y]===void 0&&(this._escHandlers[y]=[]);const E=this._escHandlers[y];return E.push(_),{dispose:()=>{const j=E.indexOf(_);j!==-1&&E.splice(j,1)}}}clearEscHandler(x){this._escHandlers[this._identifier(x,[48,126])]&&delete this._escHandlers[this._identifier(x,[48,126])]}setEscHandlerFallback(x){this._escHandlerFb=x}setExecuteHandler(x,_){this._executeHandlers[x.charCodeAt(0)]=_}clearExecuteHandler(x){this._executeHandlers[x.charCodeAt(0)]&&delete this._executeHandlers[x.charCodeAt(0)]}setExecuteHandlerFallback(x){this._executeHandlerFb=x}registerCsiHandler(x,_){const y=this._identifier(x);this._csiHandlers[y]===void 0&&(this._csiHandlers[y]=[]);const E=this._csiHandlers[y];return E.push(_),{dispose:()=>{const j=E.indexOf(_);j!==-1&&E.splice(j,1)}}}clearCsiHandler(x){this._csiHandlers[this._identifier(x)]&&delete this._csiHandlers[this._identifier(x)]}setCsiHandlerFallback(x){this._csiHandlerFb=x}registerDcsHandler(x,_){return this._dcsParser.registerHandler(this._identifier(x),_)}clearDcsHandler(x){this._dcsParser.clearHandler(this._identifier(x))}setDcsHandlerFallback(x){this._dcsParser.setHandlerFallback(x)}registerOscHandler(x,_){return this._oscParser.registerHandler(x,_)}clearOscHandler(x){this._oscParser.clearHandler(x)}setOscHandlerFallback(x){this._oscParser.setHandlerFallback(x)}setErrorHandler(x){this._errorHandler=x}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(x,_,y,E,j){this._parseStack.state=x,this._parseStack.handlers=_,this._parseStack.handlerPos=y,this._parseStack.transition=E,this._parseStack.chunkPos=j}parse(x,_,y){let E,j=0,N=0,D=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,D=this._parseStack.chunkPos+1;else{if(y===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const L=this._parseStack.handlers;let A=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(y===!1&&A>-1){for(;A>=0&&(E=L[A](this._params),E!==!0);A--)if(E instanceof Promise)return this._parseStack.handlerPos=A,E}this._parseStack.handlers=[];break;case 4:if(y===!1&&A>-1){for(;A>=0&&(E=L[A](),E!==!0);A--)if(E instanceof Promise)return this._parseStack.handlerPos=A,E}this._parseStack.handlers=[];break;case 6:if(j=x[this._parseStack.chunkPos],E=this._dcsParser.unhook(j!==24&&j!==26,y),E)return E;j===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(j=x[this._parseStack.chunkPos],E=this._oscParser.end(j!==24&&j!==26,y),E)return E;j===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,D=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let L=D;L<_;++L){switch(j=x[L],N=this._transitions.table[this.currentState<<8|(j<160?j:k)],N>>4){case 2:for(let $=L+1;;++$){if($>=_||(j=x[$])<32||j>126&&j<k){this._printHandler(x,L,$),L=$-1;break}if(++$>=_||(j=x[$])<32||j>126&&j<k){this._printHandler(x,L,$),L=$-1;break}if(++$>=_||(j=x[$])<32||j>126&&j<k){this._printHandler(x,L,$),L=$-1;break}if(++$>=_||(j=x[$])<32||j>126&&j<k){this._printHandler(x,L,$),L=$-1;break}}break;case 3:this._executeHandlers[j]?this._executeHandlers[j]():this._executeHandlerFb(j),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:L,code:j,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const A=this._csiHandlers[this._collect<<8|j];let P=A?A.length-1:-1;for(;P>=0&&(E=A[P](this._params),E!==!0);P--)if(E instanceof Promise)return this._preserveStack(3,A,P,N,L),E;P<0&&this._csiHandlerFb(this._collect<<8|j,this._params),this.precedingCodepoint=0;break;case 8:do switch(j){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(j-48)}while(++L<_&&(j=x[L])>47&&j<60);L--;break;case 9:this._collect<<=8,this._collect|=j;break;case 10:const U=this._escHandlers[this._collect<<8|j];let F=U?U.length-1:-1;for(;F>=0&&(E=U[F](),E!==!0);F--)if(E instanceof Promise)return this._preserveStack(4,U,F,N,L),E;F<0&&this._escHandlerFb(this._collect<<8|j),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|j,this._params);break;case 13:for(let $=L+1;;++$)if($>=_||(j=x[$])===24||j===26||j===27||j>127&&j<k){this._dcsParser.put(x,L,$),L=$-1;break}break;case 14:if(E=this._dcsParser.unhook(j!==24&&j!==26),E)return this._preserveStack(6,[],0,N,L),E;j===27&&(N|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let $=L+1;;$++)if($>=_||(j=x[$])<32||j>127&&j<k){this._oscParser.put(x,L,$),L=$-1;break}break;case 6:if(E=this._oscParser.end(j!==24&&j!==26),E)return this._preserveStack(5,[],0,N,L),E;j===27&&(N|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&N}}}o.EscapeSequenceParser=C},6242:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const p=u(5770),v=u(482),d=[];o.OscParser=class{constructor(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(b,w){this._handlers[b]===void 0&&(this._handlers[b]=[]);const k=this._handlers[b];return k.push(w),{dispose:()=>{const C=k.indexOf(w);C!==-1&&k.splice(C,1)}}}clearHandler(b){this._handlers[b]&&delete this._handlers[b]}setHandlerFallback(b){this._handlerFb=b}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}reset(){if(this._state===2)for(let b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||d,this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].start();else this._handlerFb(this._id,"START")}_put(b,w,k){if(this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].put(b,w,k);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(b,w,k))}start(){this.reset(),this._state=1}put(b,w,k){if(this._state!==3){if(this._state===1)for(;w<k;){const C=b[w++];if(C===59){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+C-48}this._state===2&&k-w>0&&this._put(b,w,k)}}end(b,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,C=this._active.length-1,m=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,k=w,m=this._stack.fallThrough,this._stack.paused=!1),!m&&k===!1){for(;C>=0&&(k=this._active[C].end(b),k!==!0);C--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,k;C--}for(;C>=0;C--)if(k=this._active[C].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",b);this._active=d,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(b){this._handler=b,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(b,w,k){this._hitLimit||(this._data+=(0,v.utf32ToString)(b,w,k),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(b){let w=!1;if(this._hitLimit)w=!1;else if(b&&(w=this._handler(this._data),w instanceof Promise))return w.then((k=>(this._data="",this._hitLimit=!1,k)));return this._data="",this._hitLimit=!1,w}}},8742:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const u=2147483647;class p{static fromArray(d){const b=new p;if(!d.length)return b;for(let w=Array.isArray(d[0])?1:0;w<d.length;++w){const k=d[w];if(Array.isArray(k))for(let C=0;C<k.length;++C)b.addSubParam(k[C]);else b.addParam(k)}return b}constructor(d=32,b=32){if(this.maxLength=d,this.maxSubParamsLength=b,b>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(b),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const d=new p(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d}toArray(){const d=[];for(let b=0;b<this.length;++b){d.push(this.params[b]);const w=this._subParamsIdx[b]>>8,k=255&this._subParamsIdx[b];k-w>0&&d.push(Array.prototype.slice.call(this._subParams,w,k))}return d}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>u?u:d}}addSubParam(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>u?u:d,this._subParamsIdx[this.length-1]++}}hasSubParams(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0}getSubParams(d){const b=this._subParamsIdx[d]>>8,w=255&this._subParamsIdx[d];return w-b>0?this._subParams.subarray(b,w):null}getSubParamsAll(){const d={};for(let b=0;b<this.length;++b){const w=this._subParamsIdx[b]>>8,k=255&this._subParamsIdx[b];k-w>0&&(d[b]=this._subParams.slice(w,k))}return d}addDigit(d){let b;if(this._rejectDigits||!(b=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,k=w[b-1];w[b-1]=~k?Math.min(10*k+d,u):d}}o.Params=p},5741:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,p){const v={instance:p,dispose:p.dispose,isDisposed:!1};this._addons.push(v),p.dispose=()=>this._wrappedAddonDispose(v),p.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let p=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===u){p=v;break}if(p===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(p,1)}}},8771:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const p=u(3785),v=u(511);o.BufferApiView=class{constructor(d,b){this._buffer=d,this.type=b}init(d){return this._buffer=d,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(d){const b=this._buffer.lines.get(d);if(b)return new p.BufferLineApiView(b)}getNullCell(){return new v.CellData}}},3785:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const p=u(511);o.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,d){if(!(v<0||v>=this._line.length))return d?(this._line.loadCell(v,d),d):this._line.loadCell(v,new p.CellData)}translateToString(v,d,b){return this._line.translateToString(v,d,b)}}},8285:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const p=u(8771),v=u(8460),d=u(844);class b extends d.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new p.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new p.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=b},7975:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,p){return this._core.registerCsiHandler(u,(v=>p(v.toArray())))}addCsiHandler(u,p){return this.registerCsiHandler(u,p)}registerDcsHandler(u,p){return this._core.registerDcsHandler(u,((v,d)=>p(v,d.toArray())))}addDcsHandler(u,p){return this.registerDcsHandler(u,p)}registerEscHandler(u,p){return this._core.registerEscHandler(u,p)}addEscHandler(u,p){return this.registerEscHandler(u,p)}registerOscHandler(u,p){return this._core.registerOscHandler(u,p)}addOscHandler(u,p){return this.registerOscHandler(u,p)}}},7090:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(f,o,u){var p=this&&this.__decorate||function(m,x,_,y){var E,j=arguments.length,N=j<3?x:y===null?y=Object.getOwnPropertyDescriptor(x,_):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(m,x,_,y);else for(var D=m.length-1;D>=0;D--)(E=m[D])&&(N=(j<3?E(N):j>3?E(x,_,N):E(x,_))||N);return j>3&&N&&Object.defineProperty(x,_,N),N},v=this&&this.__param||function(m,x){return function(_,y){x(_,y,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const d=u(8460),b=u(844),w=u(5295),k=u(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let C=o.BufferService=class extends b.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(m,this))}resize(m,x){this.cols=m,this.rows=x,this.buffers.resize(m,x),this._onResize.fire({cols:m,rows:x})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,x=!1){const _=this.buffer;let y;y=this._cachedBlankLine,y&&y.length===this.cols&&y.getFg(0)===m.fg&&y.getBg(0)===m.bg||(y=_.getBlankLine(m,x),this._cachedBlankLine=y),y.isWrapped=x;const E=_.ybase+_.scrollTop,j=_.ybase+_.scrollBottom;if(_.scrollTop===0){const N=_.lines.isFull;j===_.lines.length-1?N?_.lines.recycle().copyFrom(y):_.lines.push(y.clone()):_.lines.splice(j+1,0,y.clone()),N?this.isUserScrolling&&(_.ydisp=Math.max(_.ydisp-1,0)):(_.ybase++,this.isUserScrolling||_.ydisp++)}else{const N=j-E+1;_.lines.shiftElements(E+1,N-1,-1),_.lines.set(j,y.clone())}this.isUserScrolling||(_.ydisp=_.ybase),this._onScroll.fire(_.ydisp)}scrollLines(m,x,_){const y=this.buffer;if(m<0){if(y.ydisp===0)return;this.isUserScrolling=!0}else m+y.ydisp>=y.ybase&&(this.isUserScrolling=!1);const E=y.ydisp;y.ydisp=Math.max(Math.min(y.ydisp+m,y.ybase),0),E!==y.ydisp&&(x||this._onScroll.fire(y.ydisp))}};o.BufferService=C=p([v(0,k.IOptionsService)],C)},7994:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,p){this._charsets[u]=p,this.glevel===u&&(this.charset=p)}}},1753:function(f,o,u){var p=this&&this.__decorate||function(y,E,j,N){var D,L=arguments.length,A=L<3?E:N===null?N=Object.getOwnPropertyDescriptor(E,j):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(y,E,j,N);else for(var P=y.length-1;P>=0;P--)(D=y[P])&&(A=(L<3?D(A):L>3?D(E,j,A):D(E,j))||A);return L>3&&A&&Object.defineProperty(E,j,A),A},v=this&&this.__param||function(y,E){return function(j,N){E(j,N,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const d=u(2585),b=u(8460),w=u(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:y=>y.button!==4&&y.action===1&&(y.ctrl=!1,y.alt=!1,y.shift=!1,!0)},VT200:{events:19,restrict:y=>y.action!==32},DRAG:{events:23,restrict:y=>y.action!==32||y.button!==3},ANY:{events:31,restrict:y=>!0}};function C(y,E){let j=(y.ctrl?16:0)|(y.shift?4:0)|(y.alt?8:0);return y.button===4?(j|=64,j|=y.action):(j|=3&y.button,4&y.button&&(j|=64),8&y.button&&(j|=128),y.action===32?j|=32:y.action!==0||E||(j|=3)),j}const m=String.fromCharCode,x={DEFAULT:y=>{const E=[C(y,!1)+32,y.col+32,y.row+32];return E[0]>255||E[1]>255||E[2]>255?"":`\x1B[M${m(E[0])}${m(E[1])}${m(E[2])}`},SGR:y=>{const E=y.action===0&&y.button!==4?"m":"M";return`\x1B[<${C(y,!0)};${y.col};${y.row}${E}`},SGR_PIXELS:y=>{const E=y.action===0&&y.button!==4?"m":"M";return`\x1B[<${C(y,!0)};${y.x};${y.y}${E}`}};let _=o.CoreMouseService=class extends w.Disposable{constructor(y,E){super(),this._bufferService=y,this._coreService=E,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new b.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const j of Object.keys(k))this.addProtocol(j,k[j]);for(const j of Object.keys(x))this.addEncoding(j,x[j]);this.reset()}addProtocol(y,E){this._protocols[y]=E}addEncoding(y,E){this._encodings[y]=E}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(y){if(!this._protocols[y])throw new Error(`unknown protocol "${y}"`);this._activeProtocol=y,this._onProtocolChange.fire(this._protocols[y].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(y){if(!this._encodings[y])throw new Error(`unknown encoding "${y}"`);this._activeEncoding=y}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(y){if(y.col<0||y.col>=this._bufferService.cols||y.row<0||y.row>=this._bufferService.rows||y.button===4&&y.action===32||y.button===3&&y.action!==32||y.button!==4&&(y.action===2||y.action===3)||(y.col++,y.row++,y.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,y,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(y))return!1;const E=this._encodings[this._activeEncoding](y);return E&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(E):this._coreService.triggerDataEvent(E,!0)),this._lastEvent=y,!0}explainEvents(y){return{down:!!(1&y),up:!!(2&y),drag:!!(4&y),move:!!(8&y),wheel:!!(16&y)}}_equalEvents(y,E,j){if(j){if(y.x!==E.x||y.y!==E.y)return!1}else if(y.col!==E.col||y.row!==E.row)return!1;return y.button===E.button&&y.action===E.action&&y.ctrl===E.ctrl&&y.alt===E.alt&&y.shift===E.shift}};o.CoreMouseService=_=p([v(0,d.IBufferService),v(1,d.ICoreService)],_)},6975:function(f,o,u){var p=this&&this.__decorate||function(_,y,E,j){var N,D=arguments.length,L=D<3?y:j===null?j=Object.getOwnPropertyDescriptor(y,E):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(_,y,E,j);else for(var A=_.length-1;A>=0;A--)(N=_[A])&&(L=(D<3?N(L):D>3?N(y,E,L):N(y,E))||L);return D>3&&L&&Object.defineProperty(y,E,L),L},v=this&&this.__param||function(_,y){return function(E,j){y(E,j,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const d=u(1439),b=u(8460),w=u(844),k=u(2585),C=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let x=o.CoreService=class extends w.Disposable{constructor(_,y,E){super(),this._bufferService=_,this._logService=y,this._optionsService=E,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new b.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new b.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new b.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new b.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,d.clone)(C),this.decPrivateModes=(0,d.clone)(m)}reset(){this.modes=(0,d.clone)(C),this.decPrivateModes=(0,d.clone)(m)}triggerDataEvent(_,y=!1){if(this._optionsService.rawOptions.disableStdin)return;const E=this._bufferService.buffer;y&&this._optionsService.rawOptions.scrollOnUserInput&&E.ybase!==E.ydisp&&this._onRequestScrollToBottom.fire(),y&&this._onUserInput.fire(),this._logService.debug(`sending data "${_}"`,(()=>_.split("").map((j=>j.charCodeAt(0))))),this._onData.fire(_)}triggerBinaryEvent(_){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${_}"`,(()=>_.split("").map((y=>y.charCodeAt(0))))),this._onBinary.fire(_))}};o.CoreService=x=p([v(0,k.IBufferService),v(1,k.ILogService),v(2,k.IOptionsService)],x)},9074:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const p=u(8055),v=u(8460),d=u(844),b=u(6106);let w=0,k=0;class C extends d.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new b.SortedList((_=>_==null?void 0:_.marker.line)),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,d.toDisposable)((()=>this.reset())))}registerDecoration(_){if(_.marker.isDisposed)return;const y=new m(_);if(y){const E=y.marker.onDispose((()=>y.dispose()));y.onDispose((()=>{y&&(this._decorations.delete(y)&&this._onDecorationRemoved.fire(y),E.dispose())})),this._decorations.insert(y),this._onDecorationRegistered.fire(y)}return y}reset(){for(const _ of this._decorations.values())_.dispose();this._decorations.clear()}*getDecorationsAtCell(_,y,E){var j,N,D;let L=0,A=0;for(const P of this._decorations.getKeyIterator(y))L=(j=P.options.x)!==null&&j!==void 0?j:0,A=L+((N=P.options.width)!==null&&N!==void 0?N:1),_>=L&&_<A&&(!E||((D=P.options.layer)!==null&&D!==void 0?D:"bottom")===E)&&(yield P)}forEachDecorationAtCell(_,y,E,j){this._decorations.forEachByKey(y,(N=>{var D,L,A;w=(D=N.options.x)!==null&&D!==void 0?D:0,k=w+((L=N.options.width)!==null&&L!==void 0?L:1),_>=w&&_<k&&(!E||((A=N.options.layer)!==null&&A!==void 0?A:"bottom")===E)&&j(N)}))}}o.DecorationService=C;class m extends d.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=p.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=p.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(_){super(),this.options=_,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=_.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const p=u(2585),v=u(8343);class d{constructor(...w){this._entries=new Map;for(const[k,C]of w)this.set(k,C)}set(w,k){const C=this._entries.get(w);return this._entries.set(w,k),C}forEach(w){for(const[k,C]of this._entries.entries())w(k,C)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}o.ServiceCollection=d,o.InstantiationService=class{constructor(){this._services=new d,this._services.set(p.IInstantiationService,this)}setService(b,w){this._services.set(b,w)}getService(b){return this._services.get(b)}createInstance(b,...w){const k=(0,v.getServiceDependencies)(b).sort(((x,_)=>x.index-_.index)),C=[];for(const x of k){const _=this._services.get(x.id);if(!_)throw new Error(`[createInstance] ${b.name} depends on UNKNOWN service ${x.id}.`);C.push(_)}const m=k.length>0?k[0].index:w.length;if(w.length!==m)throw new Error(`[createInstance] First service dependency of ${b.name} at position ${m+1} conflicts with ${w.length} static arguments`);return new b(...w,...C)}}},7866:function(f,o,u){var p=this&&this.__decorate||function(m,x,_,y){var E,j=arguments.length,N=j<3?x:y===null?y=Object.getOwnPropertyDescriptor(x,_):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(m,x,_,y);else for(var D=m.length-1;D>=0;D--)(E=m[D])&&(N=(j<3?E(N):j>3?E(x,_,N):E(x,_))||N);return j>3&&N&&Object.defineProperty(x,_,N),N},v=this&&this.__param||function(m,x){return function(_,y){x(_,y,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const d=u(844),b=u(2585),w={trace:b.LogLevelEnum.TRACE,debug:b.LogLevelEnum.DEBUG,info:b.LogLevelEnum.INFO,warn:b.LogLevelEnum.WARN,error:b.LogLevelEnum.ERROR,off:b.LogLevelEnum.OFF};let k,C=o.LogService=class extends d.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=b.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),k=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let x=0;x<m.length;x++)typeof m[x]=="function"&&(m[x]=m[x]())}_log(m,x,_){this._evalLazyOptionalParams(_),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+x,..._)}trace(m,...x){var _,y;this._logLevel<=b.LogLevelEnum.TRACE&&this._log((y=(_=this._optionsService.options.logger)===null||_===void 0?void 0:_.trace.bind(this._optionsService.options.logger))!==null&&y!==void 0?y:console.log,m,x)}debug(m,...x){var _,y;this._logLevel<=b.LogLevelEnum.DEBUG&&this._log((y=(_=this._optionsService.options.logger)===null||_===void 0?void 0:_.debug.bind(this._optionsService.options.logger))!==null&&y!==void 0?y:console.log,m,x)}info(m,...x){var _,y;this._logLevel<=b.LogLevelEnum.INFO&&this._log((y=(_=this._optionsService.options.logger)===null||_===void 0?void 0:_.info.bind(this._optionsService.options.logger))!==null&&y!==void 0?y:console.info,m,x)}warn(m,...x){var _,y;this._logLevel<=b.LogLevelEnum.WARN&&this._log((y=(_=this._optionsService.options.logger)===null||_===void 0?void 0:_.warn.bind(this._optionsService.options.logger))!==null&&y!==void 0?y:console.warn,m,x)}error(m,...x){var _,y;this._logLevel<=b.LogLevelEnum.ERROR&&this._log((y=(_=this._optionsService.options.logger)===null||_===void 0?void 0:_.error.bind(this._optionsService.options.logger))!==null&&y!==void 0?y:console.error,m,x)}};o.LogService=C=p([v(0,b.IOptionsService)],C),o.setTraceLogger=function(m){k=m},o.traceCall=function(m,x,_){if(typeof _.value!="function")throw new Error("not supported");const y=_.value;_.value=function(...E){if(k.logLevel!==b.LogLevelEnum.TRACE)return y.apply(this,E);k.trace(`GlyphRenderer#${y.name}(${E.map((N=>JSON.stringify(N))).join(", ")})`);const j=y.apply(this,E);return k.trace(`GlyphRenderer#${y.name} return`,j),j}}},7302:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const p=u(8460),v=u(844),d=u(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:d.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const b=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends v.Disposable{constructor(C){super(),this._onOptionChange=this.register(new p.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m=Object.assign({},o.DEFAULT_OPTIONS);for(const x in C)if(x in m)try{const _=C[x];m[x]=this._sanitizeAndValidateOption(x,_)}catch(_){console.error(_)}this.rawOptions=m,this.options=Object.assign({},m),this._setupOptions()}onSpecificOptionChange(C,m){return this.onOptionChange((x=>{x===C&&m(this.rawOptions[C])}))}onMultipleOptionChange(C,m){return this.onOptionChange((x=>{C.indexOf(x)!==-1&&m()}))}_setupOptions(){const C=x=>{if(!(x in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${x}"`);return this.rawOptions[x]},m=(x,_)=>{if(!(x in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${x}"`);_=this._sanitizeAndValidateOption(x,_),this.rawOptions[x]!==_&&(this.rawOptions[x]=_,this._onOptionChange.fire(x))};for(const x in this.rawOptions){const _={get:C.bind(this,x),set:m.bind(this,x)};Object.defineProperty(this.options,x,_)}}_sanitizeAndValidateOption(C,m){switch(C){case"cursorStyle":if(m||(m=o.DEFAULT_OPTIONS[C]),!(function(x){return x==="block"||x==="underline"||x==="bar"})(m))throw new Error(`"${m}" is not a valid value for ${C}`);break;case"wordSeparator":m||(m=o.DEFAULT_OPTIONS[C]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=b.includes(m)?m:o.DEFAULT_OPTIONS[C];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${C} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${C} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${C} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${C} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}o.OptionsService=w},2660:function(f,o,u){var p=this&&this.__decorate||function(w,k,C,m){var x,_=arguments.length,y=_<3?k:m===null?m=Object.getOwnPropertyDescriptor(k,C):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(w,k,C,m);else for(var E=w.length-1;E>=0;E--)(x=w[E])&&(y=(_<3?x(y):_>3?x(k,C,y):x(k,C))||y);return _>3&&y&&Object.defineProperty(k,C,y),y},v=this&&this.__param||function(w,k){return function(C,m){k(C,m,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const d=u(2585);let b=o.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const k=this._bufferService.buffer;if(w.id===void 0){const E=k.addMarker(k.ybase+k.y),j={data:w,id:this._nextId++,lines:[E]};return E.onDispose((()=>this._removeMarkerFromLink(j,E))),this._dataByLinkId.set(j.id,j),j.id}const C=w,m=this._getEntryIdKey(C),x=this._entriesWithId.get(m);if(x)return this.addLineToLink(x.id,k.ybase+k.y),x.id;const _=k.addMarker(k.ybase+k.y),y={id:this._nextId++,key:this._getEntryIdKey(C),data:C,lines:[_]};return _.onDispose((()=>this._removeMarkerFromLink(y,_))),this._entriesWithId.set(y.key,y),this._dataByLinkId.set(y.id,y),y.id}addLineToLink(w,k){const C=this._dataByLinkId.get(w);if(C&&C.lines.every((m=>m.line!==k))){const m=this._bufferService.buffer.addMarker(k);C.lines.push(m),m.onDispose((()=>this._removeMarkerFromLink(C,m)))}}getLinkData(w){var k;return(k=this._dataByLinkId.get(w))===null||k===void 0?void 0:k.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,k){const C=w.lines.indexOf(k);C!==-1&&(w.lines.splice(C,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};o.OscLinkService=b=p([v(0,d.IBufferService)],b)},8343:(f,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const u="di$target",p="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(v){return v[p]||[]},o.createDecorator=function(v){if(o.serviceRegistry.has(v))return o.serviceRegistry.get(v);const d=function(b,w,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,m,x){m[u]===m?m[p].push({id:C,index:x}):(m[p]=[{id:C,index:x}],m[u]=m)})(d,b,k)};return d.toString=()=>v,o.serviceRegistry.set(v,d),d}},2585:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const p=u(8343);var v;o.IBufferService=(0,p.createDecorator)("BufferService"),o.ICoreMouseService=(0,p.createDecorator)("CoreMouseService"),o.ICoreService=(0,p.createDecorator)("CoreService"),o.ICharsetService=(0,p.createDecorator)("CharsetService"),o.IInstantiationService=(0,p.createDecorator)("InstantiationService"),(function(d){d[d.TRACE=0]="TRACE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.OFF=5]="OFF"})(v||(o.LogLevelEnum=v={})),o.ILogService=(0,p.createDecorator)("LogService"),o.IOptionsService=(0,p.createDecorator)("OptionsService"),o.IOscLinkService=(0,p.createDecorator)("OscLinkService"),o.IUnicodeService=(0,p.createDecorator)("UnicodeService"),o.IDecorationService=(0,p.createDecorator)("DecorationService")},1480:(f,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const p=u(8460),v=u(225);o.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new p.EventEmitter,this.onChange=this._onChange.event;const d=new v.UnicodeV6;this.register(d),this._active=d.version,this._activeProvider=d}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(d){if(!this._providers[d])throw new Error(`unknown Unicode version "${d}"`);this._active=d,this._activeProvider=this._providers[d],this._onChange.fire(d)}register(d){this._providers[d.version]=d}wcwidth(d){return this._activeProvider.wcwidth(d)}getStringCellWidth(d){let b=0;const w=d.length;for(let k=0;k<w;++k){let C=d.charCodeAt(k);if(55296<=C&&C<=56319){if(++k>=w)return b+this.wcwidth(C);const m=d.charCodeAt(k);56320<=m&&m<=57343?C=1024*(C-55296)+m-56320+65536:b+=this.wcwidth(m)}b+=this.wcwidth(C)}return b}}}},s={};function a(f){var o=s[f];if(o!==void 0)return o.exports;var u=s[f]={exports:{}};return n[f].call(u.exports,u,u.exports,a),u.exports}var h={};return(()=>{var f=h;Object.defineProperty(f,"__esModule",{value:!0}),f.Terminal=void 0;const o=a(9042),u=a(3236),p=a(844),v=a(5741),d=a(8285),b=a(7975),w=a(7090),k=["cols","rows"];class C extends p.Disposable{constructor(x){super(),this._core=this.register(new u.Terminal(x)),this._addonManager=this.register(new v.AddonManager),this._publicOptions=Object.assign({},this._core.options);const _=E=>this._core.options[E],y=(E,j)=>{this._checkReadonlyOptions(E),this._core.options[E]=j};for(const E in this._core.options){const j={get:_.bind(this,E),set:y.bind(this,E)};Object.defineProperty(this._publicOptions,E,j)}}_checkReadonlyOptions(x){if(k.includes(x))throw new Error(`Option "${x}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new b.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new d.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const x=this._core.coreService.decPrivateModes;let _="none";switch(this._core.coreMouseService.activeProtocol){case"X10":_="x10";break;case"VT200":_="vt200";break;case"DRAG":_="drag";break;case"ANY":_="any"}return{applicationCursorKeysMode:x.applicationCursorKeys,applicationKeypadMode:x.applicationKeypad,bracketedPasteMode:x.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:_,originMode:x.origin,reverseWraparoundMode:x.reverseWraparound,sendFocusMode:x.sendFocus,wraparoundMode:x.wraparound}}get options(){return this._publicOptions}set options(x){for(const _ in x)this._publicOptions[_]=x[_]}blur(){this._core.blur()}focus(){this._core.focus()}resize(x,_){this._verifyIntegers(x,_),this._core.resize(x,_)}open(x){this._core.open(x)}attachCustomKeyEventHandler(x){this._core.attachCustomKeyEventHandler(x)}registerLinkProvider(x){return this._core.registerLinkProvider(x)}registerCharacterJoiner(x){return this._checkProposedApi(),this._core.registerCharacterJoiner(x)}deregisterCharacterJoiner(x){this._checkProposedApi(),this._core.deregisterCharacterJoiner(x)}registerMarker(x=0){return this._verifyIntegers(x),this._core.registerMarker(x)}registerDecoration(x){var _,y,E;return this._checkProposedApi(),this._verifyPositiveIntegers((_=x.x)!==null&&_!==void 0?_:0,(y=x.width)!==null&&y!==void 0?y:0,(E=x.height)!==null&&E!==void 0?E:0),this._core.registerDecoration(x)}hasSelection(){return this._core.hasSelection()}select(x,_,y){this._verifyIntegers(x,_,y),this._core.select(x,_,y)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(x,_){this._verifyIntegers(x,_),this._core.selectLines(x,_)}dispose(){super.dispose()}scrollLines(x){this._verifyIntegers(x),this._core.scrollLines(x)}scrollPages(x){this._verifyIntegers(x),this._core.scrollPages(x)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(x){this._verifyIntegers(x),this._core.scrollToLine(x)}clear(){this._core.clear()}write(x,_){this._core.write(x,_)}writeln(x,_){this._core.write(x),this._core.write(`\r
`,_)}paste(x){this._core.paste(x)}refresh(x,_){this._verifyIntegers(x,_),this._core.refresh(x,_)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(x){this._addonManager.loadAddon(this,x)}static get strings(){return o}_verifyIntegers(...x){for(const _ of x)if(_===1/0||isNaN(_)||_%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...x){for(const _ of x)if(_&&(_===1/0||isNaN(_)||_%1!=0||_<0))throw new Error("This API only accepts positive integers")}}f.Terminal=C})(),h})()))})(Nl)),Nl.exports}var i2=n2(),jl={exports:{}},Rf;function s2(){return Rf||(Rf=1,(function(e,r){(function(n,s){e.exports=s()})(self,(()=>(()=>{var n={};return(()=>{var s=n;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{activate(a){this._terminal=a}dispose(){}fit(){const a=this.proposeDimensions();if(!a||!this._terminal||isNaN(a.cols)||isNaN(a.rows))return;const h=this._terminal._core;this._terminal.rows===a.rows&&this._terminal.cols===a.cols||(h._renderService.clear(),this._terminal.resize(a.cols,a.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const a=this._terminal._core,h=a._renderService.dimensions;if(h.css.cell.width===0||h.css.cell.height===0)return;const f=this._terminal.options.scrollback===0?0:a.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(o.getPropertyValue("height")),p=Math.max(0,parseInt(o.getPropertyValue("width"))),v=window.getComputedStyle(this._terminal.element),d=u-(parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))),b=p-(parseInt(v.getPropertyValue("padding-right"))+parseInt(v.getPropertyValue("padding-left")))-f;return{cols:Math.max(2,Math.floor(b/h.css.cell.width)),rows:Math.max(1,Math.floor(d/h.css.cell.height))}}}})(),n})()))})(jl)),jl.exports}var o2=s2();function a2({sessionId:e}){const r=J.useRef(null),n=J.useRef(null),s=J.useRef(null),a=J.useRef(null);return J.useEffect(()=>{if(!r.current)return;const h=new i2.Terminal({cursorBlink:!0,fontSize:13,fontFamily:'Menlo, Monaco, "Courier New", monospace',lineHeight:1.2,letterSpacing:0,theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#e5e5e5"}}),f=new o2.FitAddon;h.loadAddon(f),h.open(r.current),f.fit(),n.current=h,a.current=f;const u=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/terminal/${e}`;console.log("Connecting to WebSocket:",u);const p=new WebSocket(u);s.current=p,p.onopen=()=>{console.log("Terminal WebSocket connected"),p.send(JSON.stringify({type:"resize",rows:h.rows,cols:h.cols}))},p.onmessage=d=>{console.log("WebSocket message received:",d.data);try{const b=JSON.parse(d.data);b.type==="output"?h.write(b.data):b.type==="error"&&h.write(`\r
\x1B[31mError: ${b.message}\x1B[0m\r
`)}catch(b){console.error("Failed to parse terminal message:",b)}},p.onerror=d=>{console.error("Terminal WebSocket error:",d),h.write(`\r
\x1B[31mConnection error\x1B[0m\r
`)},p.onclose=d=>{console.log("Terminal WebSocket closed:",d.code,d.reason),h.write(`\r
\x1B[33mConnection closed\x1B[0m\r
`)},h.onData(d=>{p.readyState===WebSocket.OPEN&&p.send(JSON.stringify({type:"input",data:d}))});const v=()=>{f.fit(),p.readyState===WebSocket.OPEN&&p.send(JSON.stringify({type:"resize",rows:h.rows,cols:h.cols}))};return window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v),p.close(),h.dispose()}},[e]),c.jsx("div",{ref:r,className:"h-full w-full",style:{padding:"8px"}})}function l2({sessionId:e,onClose:r}){const[n,s]=J.useState({x:100,y:100}),[a,h]=J.useState({width:800,height:600}),[f,o]=J.useState(!1),[u,p]=J.useState(!1),[v,d]=J.useState(!1),[b,w]=J.useState({x:0,y:0}),[k,C]=J.useState({x:0,y:0,width:0,height:0}),m=J.useRef(null),x=j=>{f||(p(!0),w({x:j.clientX-n.x,y:j.clientY-n.y}))},_=j=>{f||(j.stopPropagation(),d(!0),C({x:j.clientX,y:j.clientY,width:a.width,height:a.height}))};J.useEffect(()=>{const j=D=>{if(u)s({x:D.clientX-b.x,y:D.clientY-b.y});else if(v){const L=Math.max(400,k.width+(D.clientX-k.x)),A=Math.max(300,k.height+(D.clientY-k.y));h({width:L,height:A})}},N=()=>{p(!1),d(!1)};if(u||v)return document.addEventListener("mousemove",j),document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",N)}},[u,v,b,k]);const y=()=>{o(!f)},E=f?{top:0,left:0,width:"100vw",height:"100vh"}:{top:n.y,left:n.x,width:a.width,height:a.height};return c.jsxs("div",{ref:m,className:"fixed bg-[#1e1e1e] border border-[#3e3e3e] shadow-2xl flex flex-col z-50",style:E,children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-[#2d2d2d] border-b border-[#3e3e3e] cursor-move select-none",onMouseDown:x,children:[c.jsxs("span",{className:"text-sm text-[#d4d4d4]",children:["Live PTY - ",e.slice(0,8)]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"p-1 hover:bg-[#3e3e3e] rounded",onClick:y,children:f?c.jsx(H0,{className:"w-4 h-4 text-[#d4d4d4]"}):c.jsx(F0,{className:"w-4 h-4 text-[#d4d4d4]"})}),c.jsx("button",{className:"p-1 hover:bg-[#e81123] rounded",onClick:r,children:c.jsx(fn,{className:"w-4 h-4 text-[#d4d4d4]"})})]})]}),c.jsx("div",{className:"flex-1 overflow-hidden bg-[#1e1e1e]",children:c.jsx(a2,{sessionId:e})}),!f&&c.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize",onMouseDown:_,style:{background:"linear-gradient(135deg, transparent 50%, #666 50%)"}})]})}const c2={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function Xs({size:e="md"}){return c.jsx("div",{className:`spinner ${c2[e]}`})}function u2(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function d2(e){if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;const r=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return`${r}m ${n}s`}function h2(){const{t:e}=Ue(),{taskDetail:r,isLoading:n,switchPage:s,setTaskDetail:a,showToast:h}=Je(),[f,o]=J.useState(!1),[u,p]=J.useState(""),[v,d]=J.useState(!1),b=J.useRef(null),[w,k]=J.useState(!1),[C,m]=J.useState("steps"),[x,_]=J.useState(!1),y=(r==null?void 0:r.status)==="running"||(r==null?void 0:r.status)==="completed"||(r==null?void 0:r.status)==="error";J.useEffect(()=>{if(!r)return;const N=r.status==="running"?3e3:1e4,L=setInterval(async()=>{try{const A=await _a(r.session_id);a(A)}catch(A){console.error("Failed to refresh task detail:",A)}},N);return()=>clearInterval(L)},[r==null?void 0:r.session_id,r==null?void 0:r.status,a]),J.useEffect(()=>{f&&b.current&&b.current.focus()},[f]);const E=async()=>{const N=u.trim();if(!(!N||v||!r)){d(!0);try{const D=await Px(r.session_id,N);if(D.status==="ok"){p(""),o(!1),h("Continue conversation request sent","success");const L=await _a(r.session_id);a(L)}else h(D.error||"Send failed","error")}catch(D){console.error("Failed to continue task:",D),h("Send failed","error")}finally{d(!1)}}},j=N=>{N.key==="Enter"&&(N.ctrlKey||N.metaKey)&&(N.preventDefault(),E())};return n?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx(Xs,{size:"lg"})}):r?r.error?c.jsxs("div",{className:"text-[var(--accent-error)] text-center py-scaled-8",children:[e("tasks.failedToLoad"),": ",r.error]}):c.jsxs("div",{className:"flex flex-col h-full overflow-hidden gap-4 p-scaled-4",children:[c.jsxs("div",{className:"shrink-0 flex flex-col gap-4",children:[c.jsxs("button",{className:"btn btn-ghost self-start",onClick:()=>s("tasks"),children:[" ",e("tasks.backToTaskList")]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex justify-between items-center cursor-pointer select-none",onClick:()=>k(!w),children:[c.jsxs("div",{className:"flex items-center gap-scaled-2 flex-1 min-w-0",children:[w?c.jsx(dn,{className:"icon-scaled-md text-[var(--text-muted)] shrink-0"}):c.jsx(In,{className:"icon-scaled-md text-[var(--text-muted)] shrink-0"}),c.jsx("h2",{className:"text-scaled-lg font-medium text-[var(--text-primary)] truncate",children:r.name}),w&&c.jsx("span",{className:`status-${r.status} text-scaled-sm ml-scaled-2 shrink-0`,children:r.status})]}),y&&!f&&c.jsxs("button",{className:"btn btn-primary flex items-center gap-scaled-2 ml-scaled-4 shrink-0",onClick:N=>{N.stopPropagation(),o(!0)},children:[c.jsx(z0,{className:"icon-scaled-md"}),r.status==="running"?e("tasks.interrupt"):e("tasks.continueConversation")]}),r.status==="running"&&c.jsxs("div",{className:"flex items-center gap-scaled-2 text-scaled-sm text-[var(--accent-warning)] ml-scaled-4 shrink-0",children:[c.jsx(Xs,{size:"sm"}),e("tasks.status.running")]})]}),!w&&c.jsxs("div",{className:"space-y-2 text-scaled-sm mt-scaled-4",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:e("tasks.statusLabel")}),c.jsx("span",{className:`status-${r.status}`,children:r.status})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:e("tasks.startTime")}),c.jsx("span",{children:u2(r.started_at)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:e("tasks.duration")}),c.jsx("span",{children:d2(r.duration_ms)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:e("tasks.stepCount")}),c.jsx("span",{children:r.step_count})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:e("tasks.toolCalls")}),c.jsx("span",{children:r.tool_call_count})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-[var(--text-muted)] shrink-0",children:e("tasks.projectPath")}),c.jsx("span",{className:"font-mono text-scaled-xs text-right break-all ml-scaled-4",children:r.project_path})]}),r.sidechains&&r.sidechains.length>0&&c.jsxs("div",{className:"mt-scaled-4 pt-scaled-4 border-t border-[var(--border-subtle)]",children:[c.jsxs("div",{className:"text-[var(--text-muted)] mb-scaled-2",children:["Sidechains (",r.sidechains.length,")"]}),c.jsx("div",{className:"space-y-1",children:r.sidechains.map(N=>c.jsxs("div",{className:"flex justify-between items-center text-scaled-xs bg-[var(--bg-secondary)] px-scaled-2 py-scaled-1 rounded",children:[c.jsx("span",{className:"font-mono text-[var(--text-muted)]",children:N.file_name}),c.jsxs("span",{className:"text-[var(--text-muted)]",children:[N.step_count," steps"]})]},N.agent_id))})]})]})]}),f&&c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"task-input-wrapper",children:[c.jsx("textarea",{ref:b,className:"task-input",placeholder:e("tasks.enterContinueContent"),value:u,onChange:N=>p(N.target.value),onKeyDown:j}),c.jsx("button",{className:`task-input-btn ${u.trim()?"visible":""}`,onClick:E,disabled:v||!u.trim(),children:v?c.jsx("div",{className:"spinner"}):c.jsx(Ta,{className:"icon-scaled-md"})})]}),c.jsxs("div",{className:"text-scaled-xs text-[var(--text-muted)] mt-scaled-2",children:[e("tasks.ctrlEnterToSend")," ",c.jsx("button",{className:"text-[var(--accent-primary)] hover:underline ml-scaled-1",onClick:()=>o(!1),children:e("common.cancel")})]})]})]}),c.jsxs("div",{className:"card flex-1 min-h-0 flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"flex items-center gap-scaled-2 mb-scaled-3 shrink-0 border-b border-[var(--border-subtle)] pb-scaled-2",children:[c.jsxs("button",{className:`flex items-center gap-scaled-2 px-scaled-3 py-scaled-1 rounded transition-colors ${C==="steps"?"bg-[var(--accent-primary)] text-white":"text-[var(--text-muted)] hover:bg-[var(--bg-secondary)]"}`,onClick:()=>m("steps"),children:[c.jsx(B0,{className:"icon-scaled-sm"}),c.jsx("span",{className:"text-scaled-sm",children:"Steps"})]}),c.jsxs("button",{className:`flex items-center gap-scaled-2 px-scaled-3 py-scaled-1 rounded transition-colors ${C==="terminal"?"bg-[var(--accent-primary)] text-white":"text-[var(--text-muted)] hover:bg-[var(--bg-secondary)]"}`,onClick:()=>m("terminal"),children:[c.jsx(Ds,{className:"icon-scaled-sm"}),c.jsx("span",{className:"text-scaled-sm",children:"Terminal"})]}),c.jsxs("button",{className:`flex items-center gap-scaled-2 px-scaled-3 py-scaled-1 rounded transition-colors ${x?"bg-[var(--accent-primary)] text-white":"text-[var(--text-muted)] hover:bg-[var(--bg-secondary)]"}`,onClick:()=>_(!x),children:[c.jsx($0,{className:"icon-scaled-sm"}),c.jsx("span",{className:"text-scaled-sm",children:"Live PTY"})]})]}),c.jsx("div",{className:"flex-1 min-h-0",children:C==="steps"?c.jsx(t2,{steps:r.steps}):c.jsx(r2,{steps:r.steps,sessionId:r.session_id})})]}),x&&c.jsx(l2,{sessionId:r.session_id,onClose:()=>_(!1)})]}):c.jsx("div",{className:"text-[var(--text-muted)] text-center py-scaled-8",children:e("tasks.taskNotExist")})}function f2({activeTab:e,onTabChange:r,localCount:n,communityCount:s}){const{t:a}=Ue();return c.jsxs("div",{className:"flex border-b border-[var(--border-color)] mb-4",children:[c.jsxs("button",{type:"button",className:`px-4 py-2 text-sm font-medium transition-colors ${e==="local"?"text-[var(--accent-primary)] border-b-2 border-[var(--accent-primary)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)]"}`,onClick:()=>r("local"),children:[a("recipes.localRecipes")," (",n,")"]}),c.jsxs("button",{type:"button",className:`px-4 py-2 text-sm font-medium transition-colors ${e==="community"?"text-[var(--accent-primary)] border-b-2 border-[var(--accent-primary)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)]"}`,onClick:()=>r("community"),children:[a("recipes.communityRecipes")," (",s,")"]})]})}function p2({recipe:e,onInstall:r,onUpdate:n,isInstalling:s}){const{t:a}=Ue();return c.jsxs("div",{className:"card hover:border-[var(--accent-primary)] transition-colors",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium text-[var(--text-primary)] truncate",children:e.name}),e.url&&c.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--text-muted)] hover:text-[var(--accent-primary)] shrink-0",title:"View on GitHub",children:c.jsx(Ts,{size:14})})]}),e.version&&c.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:["v",e.version,e.installed&&e.installed_version&&e.has_update&&c.jsxs("span",{className:"ml-1 text-[var(--accent-warning)]",children:["(local: v",e.installed_version,")"]})]})]}),c.jsx("div",{className:"shrink-0",children:e.installed?e.has_update?c.jsxs("button",{type:"button",className:"btn btn-sm btn-warning flex items-center gap-1",onClick:()=>n(e.name),disabled:s,children:[s?c.jsx(nr,{size:14,className:"animate-spin"}):c.jsx(nr,{size:14}),c.jsx("span",{children:a("recipes.update")})]}):c.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-[var(--accent-success)] px-2 py-1 bg-[var(--status-completed-bg)] rounded",children:[c.jsx(jr,{size:14}),a("recipes.installed")]}):c.jsxs("button",{type:"button",className:"btn btn-sm btn-primary flex items-center gap-1",onClick:()=>r(e.name,!1),disabled:s,children:[s?c.jsx(nr,{size:14,className:"animate-spin"}):c.jsx(bi,{size:14}),c.jsx("span",{children:a("recipes.install")})]})})]}),e.description&&c.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-2 line-clamp-2",children:e.description}),c.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[c.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${e.type==="workflow"?"bg-[var(--status-completed-bg)] text-[var(--accent-success)]":"bg-[var(--status-running-bg)] text-[var(--accent-warning)]"}`,children:e.type}),e.runtime&&c.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:e.runtime})]}),e.tags.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,5).map(h=>c.jsx("span",{className:"text-xs bg-[var(--bg-subtle)] text-[var(--text-muted)] px-2 py-0.5 rounded",children:h},h)),e.tags.length>5&&c.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:["+",e.tags.length-5]})]})]})}function m2(){const{t:e}=Ue(),{communityRecipes:r,loadCommunityRecipes:n,showToast:s}=Je(),[a,h]=J.useState(""),[f,o]=J.useState(null);J.useEffect(()=>{r.length===0&&n()},[r.length,n]);const u=J.useMemo(()=>{if(!a.trim())return r;const d=a.toLowerCase();return r.filter(b=>{var w;return b.name.toLowerCase().includes(d)||((w=b.description)==null?void 0:w.toLowerCase().includes(d))||b.tags.some(k=>k.toLowerCase().includes(d))})},[r,a]),p=async(d,b)=>{o(d);try{const w=await e0(d,b);w.status==="ok"?(s(e("recipes.installSuccess",{name:d}),"success"),await n()):s(w.error||e("recipes.installFailed"),"error")}catch(w){console.error("Failed to install recipe:",w),s(e("recipes.installFailed"),"error")}finally{o(null)}},v=async d=>{o(d);try{const b=await t0(d);b.status==="ok"?(s(e("recipes.updateSuccess",{name:d}),"success"),await n()):s(b.error||e("recipes.updateFailed"),"error")}catch(b){console.error("Failed to update recipe:",b),s(e("recipes.updateFailed"),"error")}finally{o(null)}};return r.length===0?c.jsx(Is,{Icon:R0,title:e("recipes.noCommunityRecipes"),description:e("recipes.noCommunityRecipesDescription")}):c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"search-box mb-4",children:[c.jsx(kd,{size:16,className:"search-icon"}),c.jsx("input",{type:"text",className:"search-input",placeholder:e("recipes.searchCommunity"),value:a,onChange:d=>h(d.target.value),"aria-label":e("recipes.searchCommunity")}),a&&c.jsx("button",{type:"button",className:"search-clear",onClick:()=>h(""),"aria-label":"Clear search",children:c.jsx(fn,{size:14})})]}),c.jsx("div",{className:"page-scroll flex-1",children:u.length===0?c.jsx("div",{className:"text-center py-8 text-[var(--text-muted)]",children:e("recipes.noResults")}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:u.map(d=>c.jsx(p2,{recipe:d,onInstall:p,onUpdate:v,isInstalling:f===d.name},d.name))})})]})}function g2(e){switch(e){case"User":return"bg-[var(--bg-subtle)] text-[var(--accent-primary)]";case"Project":return"bg-[var(--bg-subtle)] text-[var(--accent-success)]";case"System":return"bg-[var(--bg-subtle)] text-[var(--accent-warning)]";default:return"bg-[var(--bg-subtle)] text-[var(--text-muted)]"}}function Tf({recipe:e,onClick:r}){return c.jsx("div",{className:"card cursor-pointer",onClick:r,children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-[var(--text-primary)] truncate",children:e.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs",children:[e.source&&c.jsx("span",{className:`px-2 py-0.5 rounded ${g2(e.source)}`,children:e.source}),e.runtime&&c.jsx("span",{className:"text-[var(--text-muted)]",children:e.runtime})]}),e.description&&c.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:e.description}),e.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map(n=>c.jsx("span",{className:"text-xs bg-[var(--bg-subtle)] text-[var(--text-muted)] px-2 py-0.5 rounded max-w-full truncate",children:n},n))})]})})}function Df({title:e,count:r,expanded:n,onToggle:s,colorClass:a,tip:h,children:f}){return c.jsxs("div",{className:"mb-4",children:[c.jsxs("button",{type:"button",className:"flex flex-col items-start w-full text-left py-2 px-1 hover:bg-[var(--bg-hover)] rounded transition-colors",onClick:s,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[n?c.jsx(In,{size:16,className:"text-[var(--text-muted)]"}):c.jsx(dn,{size:16,className:"text-[var(--text-muted)]"}),c.jsx("span",{className:`font-medium ${a}`,children:e}),c.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:["(",r,")"]})]}),c.jsx("div",{className:"text-xs text-[var(--text-muted)] ml-6 mt-0.5",children:h})]}),n&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 mt-2",children:f})]})}function v2(){const{t:e}=Ue(),{recipes:r,loadRecipes:n,communityRecipes:s,loadCommunityRecipes:a,switchPage:h}=Je(),[f,o]=J.useState(""),[u,p]=J.useState(!0),[v,d]=J.useState(!0),[b,w]=J.useState("local");J.useEffect(()=>{n()},[n]),J.useEffect(()=>{a()},[a]);const{atomicRecipes:k,workflowRecipes:C}=J.useMemo(()=>{let x=r;if(f.trim()){const _=f.toLowerCase();x=r.filter(y=>y.name.toLowerCase().includes(_)||y.tags.some(E=>E.toLowerCase().includes(_)))}return{atomicRecipes:x.filter(_=>_.category==="atomic"),workflowRecipes:x.filter(_=>_.category==="workflow")}},[r,f]),m=k.length===0&&C.length===0;return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx(f2,{activeTab:b,onTabChange:w,localCount:r.length,communityCount:s.length}),b==="community"?c.jsx(m2,{}):c.jsx(c.Fragment,{children:r.length===0?c.jsx(Is,{Icon:Ra,title:e("recipes.noRecipes"),description:e("recipes.noRecipesDescription")}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"search-box",children:[c.jsx(kd,{size:16,className:"search-icon"}),c.jsx("input",{type:"text",className:"search-input",placeholder:e("recipes.searchByNameOrTag"),value:f,onChange:x=>o(x.target.value),"aria-label":e("recipes.searchPlaceholder")}),f&&c.jsx("button",{type:"button",className:"search-clear",onClick:()=>o(""),"aria-label":"Clear search",children:c.jsx(fn,{size:14})})]}),m?c.jsx("div",{className:"flex-1 flex items-center justify-center text-[var(--text-muted)]",children:e("recipes.noResults")}):c.jsxs("div",{className:"page-scroll",children:[C.length>0&&c.jsx(Df,{title:e("recipes.workflow"),count:C.length,expanded:v,onToggle:()=>d(!v),colorClass:"text-[var(--accent-success)]",tip:e("recipes.workflowTip"),children:C.map(x=>c.jsx(Tf,{recipe:x,onClick:()=>h("recipe_detail",x.name)},x.name))}),k.length>0&&c.jsx(Df,{title:e("recipes.atomic"),count:k.length,expanded:u,onToggle:()=>p(!u),colorClass:"text-[var(--accent-warning)]",tip:e("recipes.atomicTip"),children:k.map(x=>c.jsx(Tf,{recipe:x,onClick:()=>h("recipe_detail",x.name)},x.name))})]})]})})]})}function Js({title:e,icon:r,defaultExpanded:n=!0,children:s}){const[a,h]=J.useState(n);return c.jsxs("div",{className:"border border-[var(--border-color)] rounded-lg overflow-hidden",children:[c.jsxs("button",{type:"button",className:"flex items-center gap-2 w-full text-left px-4 py-3 bg-[var(--bg-subtle)] hover:bg-[var(--bg-hover)] transition-colors",onClick:()=>h(!a),children:[a?c.jsx(In,{size:16,className:"text-[var(--text-muted)]"}):c.jsx(dn,{size:16,className:"text-[var(--text-muted)]"}),r,c.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:e})]}),a&&c.jsx("div",{className:"p-4 border-t border-[var(--border-color)]",children:s})]})}function x2(){const{t:e}=Ue(),{currentRecipeName:r,switchPage:n,showToast:s}=Je(),[a,h]=J.useState(null),[f,o]=J.useState(!0),[u,p]=J.useState(!1);J.useEffect(()=>{r&&(o(!0),Ox(r).then(h).catch(k=>{console.error("Failed to load recipe:",k),s(e("recipes.failedToLoad"),"error")}).finally(()=>o(!1)))},[r,s,e]);const v=async()=>{if(!(!r||u)){p(!0);try{const k=await Bx(r);k.status==="ok"?s(e("recipes.executedSuccess"),"success"):s(k.error||e("recipes.executionFailed"),"error")}catch(k){console.error("Failed to run recipe:",k),s(e("recipes.failedToExecute"),"error")}finally{p(!1)}}};if(f)return c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx(Xs,{size:"lg"})});if(!a)return c.jsx("div",{className:"text-[var(--text-muted)] text-center py-scaled-8",children:e("recipes.recipeNotExist")});const d=a.inputs&&Object.keys(a.inputs).length>0,b=a.use_cases&&a.use_cases.length>0,w=a.dependencies&&a.dependencies.length>0;return c.jsxs("div",{className:"flex flex-col gap-4 h-full overflow-hidden p-4",children:[c.jsxs("button",{type:"button",className:"btn btn-ghost self-start shrink-0",onClick:()=>n("recipes"),children:[" ",e("recipes.backToRecipeList")]}),c.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h2",{className:"text-lg font-medium text-[var(--text-primary)] break-words",children:a.name}),a.version&&c.jsxs("span",{className:"text-xs px-2 py-0.5 rounded bg-[var(--bg-subtle)] text-[var(--text-muted)]",children:["v",a.version]})]}),a.description&&c.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-2",children:a.description})]}),c.jsx("button",{type:"button",className:"btn btn-primary shrink-0",onClick:v,disabled:u,children:u?c.jsx(Xs,{size:"sm"}):e("recipes.run")})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-muted)] block text-xs",children:e("recipes.type")}),c.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded text-xs ${a.category==="atomic"?"bg-[var(--status-running-bg)] text-[var(--accent-warning)]":"bg-[var(--status-completed-bg)] text-[var(--accent-success)]"}`,children:a.category==="atomic"?e("recipes.atomic"):e("recipes.workflow")})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-muted)] block text-xs",children:e("recipes.source")}),c.jsx("span",{className:"text-[var(--text-primary)] mt-1 block",children:a.source||"-"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-muted)] block text-xs",children:e("recipes.runtime")}),c.jsx("span",{className:"text-[var(--text-primary)] mt-1 block",children:a.runtime||"-"})]}),a.output_targets&&a.output_targets.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-muted)] block text-xs",children:e("recipes.output")}),c.jsx("span",{className:"text-[var(--text-primary)] mt-1 block",children:a.output_targets.join(", ")})]})]}),a.script_path&&c.jsx("div",{className:"mt-4 pt-4 border-t border-[var(--border-color)]",children:c.jsxs("button",{type:"button",className:"font-mono text-xs break-all text-left text-[var(--accent-primary)] hover:underline inline-flex items-start gap-1",onClick:async()=>{const k=await $x(a.script_path,!0);k.status!=="ok"&&s(k.error||e("recipes.unableToOpenPath"),"error")},title:e("recipes.showInFileManager"),children:[a.script_path,c.jsx(Ts,{size:12,className:"shrink-0 mt-0.5"})]})}),a.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-4",children:a.tags.map(k=>c.jsx("span",{className:"text-xs bg-[var(--bg-subtle)] text-[var(--text-muted)] px-2 py-0.5 rounded",children:k},k))})]}),b&&c.jsx(Js,{title:e("recipes.useCases"),icon:c.jsx(P0,{size:16,className:"text-[var(--accent-warning)]"}),children:c.jsx("ul",{className:"space-y-2",children:a.use_cases.map((k,C)=>c.jsxs("li",{className:"flex items-start gap-2 text-sm text-[var(--text-secondary)]",children:[c.jsx("span",{className:"text-[var(--accent-primary)] mt-0.5",children:""}),c.jsx("span",{children:k})]},C))})}),d&&c.jsx(Js,{title:e("recipes.parameters"),icon:c.jsx(Da,{size:16,className:"text-[var(--accent-primary)]"}),children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-[var(--border-color)]",children:[c.jsx("th",{className:"text-left py-2 pr-4 text-[var(--text-muted)] font-medium",children:e("recipes.name")}),c.jsx("th",{className:"text-left py-2 pr-4 text-[var(--text-muted)] font-medium",children:e("recipes.type")}),c.jsx("th",{className:"text-left py-2 pr-4 text-[var(--text-muted)] font-medium",children:e("recipes.required")}),c.jsx("th",{className:"text-left py-2 pr-4 text-[var(--text-muted)] font-medium",children:e("recipes.default")}),c.jsx("th",{className:"text-left py-2 text-[var(--text-muted)] font-medium",children:e("recipes.description")})]})}),c.jsx("tbody",{children:Object.entries(a.inputs).map(([k,C])=>c.jsxs("tr",{className:"border-b border-[var(--border-color)] last:border-0",children:[c.jsx("td",{className:"py-2 pr-4 font-mono text-[var(--accent-primary)]",children:k}),c.jsx("td",{className:"py-2 pr-4 text-[var(--text-secondary)]",children:C.type}),c.jsx("td",{className:"py-2 pr-4",children:C.required?c.jsx("span",{className:"text-[var(--accent-error)]",children:e("recipes.yes")}):c.jsx("span",{className:"text-[var(--text-muted)]",children:e("recipes.no")})}),c.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-[var(--text-muted)]",children:C.default!==void 0?String(C.default):"-"}),c.jsx("td",{className:"py-2 text-[var(--text-secondary)]",children:C.description||"-"})]},k))})]})})}),w&&c.jsx(Js,{title:e("recipes.dependencies"),icon:c.jsx(M0,{size:16,className:"text-[var(--accent-success)]"}),children:c.jsx("div",{className:"flex flex-wrap gap-2",children:a.dependencies.map(k=>c.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-[var(--bg-subtle)] text-[var(--text-primary)] border border-[var(--border-color)]",children:k},k))})}),a.source_code&&c.jsx(Js,{title:e("recipes.sourceCode"),icon:c.jsx(yd,{size:16,className:"text-[var(--text-muted)]"}),defaultExpanded:!1,children:c.jsx("pre",{className:"bg-[var(--bg-tertiary)] p-4 rounded text-xs font-mono overflow-auto max-h-96 whitespace-pre-wrap break-words",children:a.source_code})})]})]})}function y2(){const{t:e}=Ue(),{skills:r,loadSkills:n}=Je();return J.useEffect(()=>{n()},[n]),r.length===0?c.jsx(Is,{Icon:J0,title:e("skills.noSkills"),description:e("skills.createSkillHint")}):c.jsx("div",{className:"page-scroll grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 content-start",children:r.map(s=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Na,{size:20,className:"text-[var(--text-secondary)] flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-[var(--text-primary)]",children:s.name}),s.description&&c.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-1",children:s.description}),c.jsx("div",{className:"text-xs text-[var(--text-muted)] mt-2 font-mono truncate",children:s.file_path})]})]})},s.name))})}function _2({onComplete:e,onCancel:r}){const[n,s]=J.useState(1),[a,h]=J.useState(!1),[f,o]=J.useState(null),[u,p]=J.useState(!1),[v,d]=J.useState(null),[b,w]=J.useState("task-mind-sync"),[k,C]=J.useState(null),[m,x]=J.useState(""),[_,y]=J.useState(!1),[E,j]=J.useState(null),[N,D]=J.useState(!1),[L,A]=J.useState("create"),[P,U]=J.useState([]),[F,$]=J.useState(null),[W,q]=J.useState(!1);J.useEffect(()=>{n===1&&ee()},[n]);const ee=async()=>{try{y(!0),j(null);const Y=await wa();h(Y.installed),o(Y.version||null),p(Y.authenticated),d(Y.username||null)}catch(Y){j(Y instanceof Error?Y.message:"Failed to detect gh CLI")}finally{y(!1)}},G=async()=>{try{y(!0),j(null);const Y=await Kx();Y.status==="ok"?D(!0):j(Y.error||"Failed to open terminal")}catch(Y){j(Y instanceof Error?Y.message:"Login failed")}finally{y(!1)}},I=async()=>{const Y=await wa();Y.authenticated?(p(!0),d(Y.username||null),D(!1),s(3)):j("Login not completed. Please complete the login in the terminal and try again")},H=async()=>{try{q(!0),j(null);const Y=await Yx(100);Y.status==="ok"&&Y.repos?U(Y.repos):j(Y.error||"Failed to get repository list")}catch(Y){j(Y instanceof Error?Y.message:"Failed to get repository list")}finally{q(!1)}};J.useEffect(()=>{L==="select"&&P.length===0&&n===3&&H()},[L,n]);const T=async()=>{if(!F){j("Please select a repository");return}try{y(!0),j(null);const Y=await Xx(F);Y.status==="ok"&&Y.repo_url?(C(Y.repo_url),s(4)):j(Y.error||"Failed to select repository")}catch(Y){j(Y instanceof Error?Y.message:"Failed to select repository")}finally{y(!1)}},M=async()=>{if(!b.trim()){j("Please enter repository name");return}try{y(!0),j(null);const Y=await qx(b,!0);Y.status==="ok"&&Y.repo_url?(C(Y.repo_url),s(4)):j(Y.error||"Failed to create repository")}catch(Y){j(Y instanceof Error?Y.message:"Failed to create repository")}finally{y(!1)}},K=async()=>{try{y(!0),j(null),x(`Starting sync...
`);const Y=await nd();if(Y.status==="error"){j(Y.error||"Sync failed"),y(!1);return}const ie=setInterval(async()=>{const we=await id();we.status!=="running"&&(clearInterval(ie),y(!1),we.status==="ok"?(x(me=>me+`
 Sync completed
`+(we.output||"")),s(5)):(j(we.error||"Sync failed"),x(me=>me+`
 Sync failed
`+(we.error||""))))},1e3);setTimeout(()=>{clearInterval(ie),_&&(y(!1),j("Sync timeout"))},3e5)}catch(Y){j(Y instanceof Error?Y.message:"Sync failed"),y(!1)}},z=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Ds,{size:24,className:"text-[var(--accent-primary)]"}),c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Step 1: Detect GitHub CLI"})]}),_?c.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-muted)]",children:[c.jsx(mr,{size:16,className:"animate-spin"}),"Detecting..."]}):c.jsx(c.Fragment,{children:a?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[c.jsx(jr,{size:16}),c.jsxs("span",{children:["gh CLI installed (version: ",f,")"]})]}),u?c.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[c.jsx(jr,{size:16}),c.jsxs("span",{children:["Logged in to GitHub (user: ",v,")"]})]}):c.jsxs("div",{className:"flex items-center gap-2 text-yellow-600 dark:text-yellow-400",children:[c.jsx(_i,{size:16}),c.jsx("span",{children:"Not logged in to GitHub"})]})]}):c.jsx("div",{className:"card bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:c.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[c.jsx(_i,{size:16,className:"text-yellow-600 dark:text-yellow-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"gh CLI not installed"}),c.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-3",children:"Please install GitHub CLI based on your operating system:"}),c.jsxs("div",{className:"space-y-2 text-sm font-mono bg-black/10 dark:bg-white/10 rounded p-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:"# macOS"}),c.jsx("br",{}),c.jsx("span",{className:"text-[var(--text-primary)]",children:"brew install gh"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:"# Ubuntu/Debian"}),c.jsx("br",{}),c.jsx("span",{className:"text-[var(--text-primary)]",children:"sudo apt install gh"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:"# Other systems"}),c.jsx("br",{}),c.jsx("span",{className:"text-[var(--text-primary)]",children:"https://cli.github.com/"})]})]})]})]})})}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx("button",{onClick:r,className:"btn btn-ghost",children:"Cancel"}),a&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:ee,className:"btn btn-ghost",disabled:_,children:"Re-detect"}),c.jsx("button",{onClick:()=>s(u?3:2),className:"btn btn-primary",children:"Next"})]})]})]}),oe=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(wi,{size:24,className:"text-[var(--accent-primary)]"}),c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Step 2: Login to GitHub"})]}),N?c.jsx("div",{className:"card bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Please complete GitHub login in the opened terminal window."}),c.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Follow the prompts in the terminal to choose a login method (browser login recommended)."})]})}):c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Clicking the button below will open a new terminal window. Please complete GitHub login in the terminal."}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx("button",{onClick:()=>s(1),className:"btn btn-ghost",children:"Previous"}),N?c.jsx("button",{onClick:I,className:"btn btn-primary",children:"I've Completed Login"}):c.jsx("button",{onClick:G,className:"btn btn-primary",disabled:_,children:_?"Opening terminal...":"Open Terminal to Login"})]})]}),ae=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(L0,{size:24,className:"text-[var(--accent-primary)]"}),c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Step 3: Configure Sync Repository"})]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("button",{onClick:()=>A("create"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${L==="create"?"bg-[var(--accent-primary)] text-white":"bg-[var(--bg-subtle)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)]"}`,children:"Create New Repository"}),c.jsx("button",{onClick:()=>A("select"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${L==="select"?"bg-[var(--accent-primary)] text-white":"bg-[var(--bg-subtle)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)]"}`,children:"Use Existing Repository"})]}),L==="create"?c.jsxs("div",{children:[c.jsx("label",{htmlFor:"repo-name",className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Repository Name"}),c.jsx("input",{id:"repo-name",type:"text",value:b,onChange:Y=>w(Y.target.value),placeholder:"e.g., task-mind-sync",className:"w-full px-3 py-2 bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]"}),c.jsx("p",{className:"mt-2 text-sm text-[var(--text-muted)]",children:"A private repository will be created under your GitHub account to sync task-mind resources"})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)]",children:"Select Repository"}),c.jsx("button",{onClick:H,disabled:W,className:"text-xs text-[var(--accent-primary)] hover:underline disabled:opacity-50",children:W?"Loading...":"Refresh List"})]}),W&&P.length===0?c.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-muted)] py-4",children:[c.jsx(mr,{size:16,className:"animate-spin"}),"Loading repository list..."]}):P.length===0?c.jsx("p",{className:"text-sm text-[var(--text-muted)] py-4",children:"No repositories found. Please create a new repository"}):c.jsx("div",{className:"max-h-60 overflow-y-auto border border-[var(--border-color)] rounded-md",children:P.map(Y=>c.jsxs("div",{onClick:()=>$(Y.ssh_url),className:`px-3 py-2 cursor-pointer flex items-center justify-between hover:bg-[var(--bg-subtle)] ${F===Y.ssh_url?"bg-[var(--accent-primary)]/10 border-l-2 border-[var(--accent-primary)]":""}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wi,{size:16,className:"text-[var(--text-muted)]"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-[var(--text-primary)]",children:Y.name}),Y.description&&c.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate max-w-[300px]",children:Y.description})]})]}),c.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Y.private?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"}`,children:Y.private?"Private":"Public"})]},Y.ssh_url))}),c.jsx("p",{className:"mt-2 text-sm text-[var(--text-muted)]",children:"Select an existing repository to sync task-mind resources (private repository recommended)"})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx("button",{onClick:()=>s(2),className:"btn btn-ghost",children:"Previous"}),L==="create"?c.jsx("button",{onClick:M,className:"btn btn-primary",disabled:_||!b.trim(),children:_?"Creating...":"Create Repository"}):c.jsx("button",{onClick:T,className:"btn btn-primary",disabled:_||!F,children:_?"Configuring...":"Use This Repository"})]})]}),pe=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(nr,{size:24,className:"text-[var(--accent-primary)]"}),c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Step 4: First Sync"})]}),k&&c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Sync Repository"}),c.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-subtle)] rounded-md px-3 py-2",children:[c.jsx(wi,{size:16,className:"text-[var(--text-muted)]"}),c.jsx("span",{className:"text-sm text-[var(--text-secondary)] font-mono flex-1",children:k})]})]}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Now performing the first sync to upload local task-mind resources to the GitHub repository."}),m&&c.jsx("div",{className:"p-3 bg-black/5 dark:bg-white/5 rounded-md",children:c.jsx("pre",{className:"text-xs text-[var(--text-secondary)] whitespace-pre-wrap font-mono",children:m})}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[!_&&n===4&&c.jsx("button",{onClick:K,className:"btn btn-primary",children:"Start Sync"}),_&&c.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-muted)]",children:[c.jsx(mr,{size:16,className:"animate-spin"}),"Syncing..."]})]})]}),B=()=>c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(jr,{size:24,className:"text-green-600 dark:text-green-400"}),c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"Configuration Complete"})]}),c.jsx("div",{className:"card bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"GitHub sync successfully configured!"}),c.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Your task-mind resources (commands, skills, recipes) can now be synced across multiple devices."})]})}),m&&c.jsx("div",{className:"p-3 bg-black/5 dark:bg-white/5 rounded-md",children:c.jsx("pre",{className:"text-xs text-[var(--text-secondary)] whitespace-pre-wrap font-mono",children:m})}),c.jsx("div",{className:"flex gap-2 pt-4",children:c.jsx("button",{onClick:e,className:"btn btn-primary",children:"Complete"})})]}),Z=()=>{switch(n){case 1:return z();case 2:return oe();case 3:return ae();case 4:return pe();case 5:return B();default:return null}};return c.jsxs("div",{className:"max-w-2xl",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(Y=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${Y<n?"bg-green-600 text-white":Y===n?"bg-[var(--accent-primary)] text-white":"bg-[var(--bg-subtle)] text-[var(--text-muted)]"}`,children:Y<n?c.jsx(jr,{size:16}):Y}),Y<5&&c.jsx("div",{className:`w-12 h-0.5 ${Y<n?"bg-green-600":"bg-[var(--border-color)]"}`})]},Y))}),c.jsxs("div",{className:"flex justify-between mt-2 text-xs text-[var(--text-muted)]",children:[c.jsx("span",{children:"Detect"}),c.jsx("span",{children:"Login"}),c.jsx("span",{children:"Configure"}),c.jsx("span",{children:"Sync"}),c.jsx("span",{children:"Complete"})]})]}),E&&c.jsx("div",{className:"card bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 mb-4",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(_i,{size:16,className:"text-red-600 dark:text-red-400 mt-0.5"}),c.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:E})]})}),c.jsx("div",{className:"card",children:Z()})]})}function b2(){const[e,r]=J.useState(null),[n,s]=J.useState(!0),[a,h]=J.useState(!1),[f,o]=J.useState(!1),[u,p]=J.useState(""),[v,d]=J.useState(null),[b,w]=J.useState(!1),[k,C]=J.useState(!1),[m,x]=J.useState(null),[_,y]=J.useState(!1),E=async()=>{try{y(!0);const L=await wa();x(L)}catch(L){console.error("Failed to check gh status:",L)}finally{y(!1)}};J.useEffect(()=>{j(),E()},[]);const j=async()=>{try{s(!0);const L=await td();if(r(L.sync_repo_url||null),L.sync_repo_url)try{const A=await Gx();A.status==="ok"&&(w(A.is_public||!1),C(!0))}catch(A){console.error("Failed to check repository visibility:",A)}}catch(L){console.error("Failed to load configuration:",L)}finally{s(!1)}},N=async()=>{try{o(!0),d(null),p(`Starting sync...
`);const L=await nd();if(L.status==="error"){d(L.error||"Sync failed"),o(!1);return}const A=setInterval(async()=>{const P=await id();P.status!=="running"&&(clearInterval(A),o(!1),P.status==="ok"?p(U=>U+`
 Sync completed
`+(P.output||"")):(d(P.error||"Sync failed"),p(U=>U+`
 Sync failed
`+(P.error||""))))},1e3);setTimeout(()=>{clearInterval(A),f&&(o(!1),d("Sync timeout"))},3e5)}catch(L){d(L instanceof Error?L.message:"Sync failed"),o(!1)}},D=()=>{h(!1),j()};return n?c.jsx("div",{className:"text-[var(--text-muted)] text-center py-8",children:"Loading configuration..."}):a?c.jsx(_2,{onComplete:D,onCancel:()=>h(!1)}):c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--accent-primary)] mb-4",children:"Multi-Device Sync"}),c.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-900 dark:text-blue-200",children:"GitHub CLI Status"}),c.jsx("button",{onClick:E,disabled:_,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50",children:_?"Checking...":"Refresh"})]}),_&&!m?c.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[c.jsx(mr,{size:14,className:"animate-spin"}),"Checking..."]}):m?c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:`flex items-center gap-2 ${m.installed?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[m.installed?c.jsx(jr,{size:14}):c.jsx(fn,{size:14}),c.jsx("span",{children:m.installed?`gh CLI installed (v${m.version})`:"gh CLI not installed"})]}),m.installed&&c.jsxs("div",{className:`flex items-center gap-2 ${m.authenticated?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`,children:[m.authenticated?c.jsx(jr,{size:14}):c.jsx(_i,{size:14}),c.jsx("span",{children:m.authenticated?`Logged in to GitHub (@${m.username})`:"Not logged in to GitHub"})]}),!m.installed&&c.jsxs("p",{className:"mt-2 text-blue-700 dark:text-blue-300",children:["Please install GitHub CLI first:",c.jsx("a",{href:"https://cli.github.com/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 underline",children:"https://cli.github.com/"})]}),m.installed&&!m.authenticated&&c.jsx("p",{className:"mt-2 text-blue-700 dark:text-blue-300",children:'Click "Start Setup" button below to log in to GitHub'})]}):c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"First-time setup requires installing GitHub CLI (gh) and logging in to your GitHub account. The wizard will guide you through the process."})]}),e?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsxs("button",{onClick:N,disabled:f,className:"btn btn-primary flex items-center gap-2",children:[c.jsx(nr,{size:16,className:f?"animate-spin":""}),f?"Syncing...":"Sync Now"]}),c.jsx("button",{onClick:()=>h(!0),className:"btn btn-ghost",children:"Reconfigure"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:"Sync Repository"}),c.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-subtle)] rounded-md px-3 py-2",children:[c.jsx(wi,{size:16,className:"text-[var(--text-muted)]"}),c.jsx("span",{className:"text-sm text-[var(--text-secondary)] font-mono flex-1",children:e})]})]}),k&&b&&c.jsx("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Lr,{size:16,className:"text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Security Warning"}),c.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:["The current sync repository is ",c.jsx("strong",{children:"public"})," and accessible to anyone. We recommend changing it to private to protect your configuration and sensitive information."]}),c.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-2",children:".env files are automatically added to .gitignore and will not be synced."})]})]})}),u&&c.jsx("div",{className:"mt-4 p-3 bg-black/5 dark:bg-white/5 rounded-md",children:c.jsx("pre",{className:"text-xs text-[var(--text-secondary)] whitespace-pre-wrap font-mono",children:u})}),v&&c.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:c.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:v})})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-sm text-[var(--text-muted)] mb-4",children:"Use a GitHub private repository to sync task-mind resources (commands, skills, recipes) across multiple devices."}),c.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary flex items-center gap-2",children:[c.jsx(wi,{size:16}),"Start GitHub Sync Setup"]})]})]})})}function w2(){const{t:e}=Ue();return c.jsx("div",{className:"h-full overflow-auto",children:c.jsxs("div",{className:"page-scroll p-4 max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:e("sync.title")}),c.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:e("sync.pageDesc")})]}),c.jsx("section",{children:c.jsx(b2,{})})]})})}var S2=wu();function Af({isOpen:e,onClose:r,title:n,children:s,footer:a}){return J.useEffect(()=>{if(!e)return;const h=f=>{f.key==="Escape"&&r()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,r]),e?S2.createPortal(c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1100]",onClick:h=>{h.target===h.currentTarget&&r()},children:c.jsxs("div",{className:"bg-[var(--bg-base)] rounded-lg shadow-xl max-w-md w-full mx-4 border border-[var(--border-color)]",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)]",children:n}),c.jsx("button",{onClick:r,className:"text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors","aria-label":"Close modal",children:c.jsx(fn,{size:20})})]}),c.jsx("div",{className:"p-4",children:s}),a&&c.jsx("div",{className:"flex gap-2 p-4 border-t border-[var(--border-color)]",children:a})]})}),document.body):null}function k2(){const{t:e}=Ue(),[r,n]=J.useState({}),[s,a]=J.useState([]),[h,f]=J.useState(!0),[o,u]=J.useState(null),[p,v]=J.useState(!1),[d,b]=J.useState(null),[w,k]=J.useState(""),[C,m]=J.useState(""),[x,_]=J.useState(null),[y,E]=J.useState(new Set);J.useEffect(()=>{j()},[]);const j=async()=>{try{f(!0);const[G,I]=await Promise.all([Vx(),ba()]);n(G.vars||{}),a(I),u(null)}catch(G){u(G instanceof Error?G.message:e("errors.loadFailed"))}finally{f(!1)}},N=(G,I)=>{const H=new Set(I.map(M=>M.var_name)),T={Recipe:[],GitHub:[],"AI APIs":[],Database:[],Other:[]};return Object.entries(G).forEach(([M,K])=>{H.has(M)?T.Recipe.push([M,K]):M.startsWith("GITHUB_")||M.startsWith("GH_")?T.GitHub.push([M,K]):M.includes("API_KEY")||M.includes("TOKEN")||M.includes("KEY")?T["AI APIs"].push([M,K]):M.includes("DB_")||M.includes("DATABASE_")?T.Database.push([M,K]):T.Other.push([M,K])}),Object.fromEntries(Object.entries(T).filter(([M,K])=>K.length>0))},D=(G,I)=>y.has(I)?G:G.length<=8?"":G.slice(0,4)+""+G.slice(-4),L=G=>{E(I=>{const H=new Set(I);return H.has(G)?H.delete(G):H.add(G),H})},A=()=>{b(null),k(""),m(""),_(null),v(!0)},P=(G,I)=>{b(G),k(G),m(I),_(null),v(!0)},U=async G=>{if(confirm(e("secrets.deleteConfirm",{name:G})))try{const I=await rd({[G]:null});if(I.status==="ok"&&I.vars){n(I.vars);const H=await ba();a(H)}else u(I.error||e("secrets.deleteFailed"))}catch(I){u(I instanceof Error?I.message:e("secrets.deleteFailed"))}},F=async()=>{if(!w.trim()){_(e("secrets.varNameEmpty"));return}if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(w)){_(e("secrets.varNameInvalid"));return}if(!C.trim()){_(e("secrets.varValueEmpty"));return}if(!(!d&&w in r&&!confirm(e("secrets.varExistsConfirm",{name:w}))))try{const G=await rd({[w]:C});if(G.status==="ok"&&G.vars){n(G.vars),v(!1),u(null);const I=await ba();a(I)}else _(G.error||e("secrets.saveFailed"))}catch(G){_(G instanceof Error?G.message:e("secrets.saveFailed"))}},$=async G=>{b(null),k(G.var_name),m(""),_(null),v(!0)};if(h)return c.jsx("div",{className:"text-[var(--text-muted)] text-center py-8",children:e("common.loading")});const W=s.reduce((G,I)=>(G[I.var_name]?(G[I.var_name].recipes.push(I.recipe_name),I.required&&(G[I.var_name].required=!0)):G[I.var_name]={var_name:I.var_name,required:I.required,description:I.description,configured:I.configured,recipes:[I.recipe_name]},G),{}),q=Object.values(W).filter(G=>!G.configured),ee=N(r,s);return c.jsxs("div",{className:"space-y-4",children:[o&&c.jsx("div",{className:"card bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:c.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:o})}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--accent-primary)]",children:e("secrets.envVars")}),c.jsxs("button",{onClick:A,className:"btn btn-primary btn-sm flex items-center gap-2",children:[c.jsx(q0,{size:16}),e("secrets.add")]})]}),c.jsxs("div",{className:"space-y-4",children:[q.length>0&&c.jsxs("div",{className:"p-4 bg-[var(--bg-tertiary)] rounded-md border border-[var(--border-color)]",children:[c.jsx("h3",{className:"text-sm font-semibold text-[var(--text-primary)] mb-2",children:e("secrets.recipeEnvRequirements")}),c.jsx("p",{className:"text-xs text-[var(--text-muted)] mb-3",children:e("secrets.envVarsNotConfigured")}),c.jsx("div",{className:"space-y-2",children:q.map(G=>c.jsxs("div",{className:"flex items-start justify-between gap-2 p-3 bg-[var(--bg-base)] rounded-md",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"mb-1",children:c.jsx("code",{className:"text-sm font-mono text-[var(--text-primary)]",children:G.var_name})}),c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-amber-500 text-white rounded",children:e("secrets.notConfiguredBadge")}),G.required&&c.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-red-500 text-white rounded",children:e("secrets.requiredBadge")})]}),c.jsx("p",{className:"text-xs text-[var(--text-secondary)] mb-1",children:G.description}),c.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[e("secrets.usedBy"),": ",G.recipes.join(", ")]})]}),c.jsx("button",{onClick:()=>$({...G,recipe_name:G.recipes[0]}),className:"btn btn-ghost btn-sm text-xs",children:e("secrets.add")})]},G.var_name))})]}),Object.keys(r).length===0?c.jsx("p",{className:"text-sm text-[var(--text-muted)] text-center py-8",children:e("secrets.noEnvVars")}):c.jsx("div",{className:"space-y-4",children:Object.entries(ee).map(([G,I])=>c.jsxs("div",{children:[c.jsxs("h3",{className:"text-sm font-medium text-[var(--text-primary)] mb-2 flex items-center gap-2",children:[c.jsx(Sd,{size:14}),G==="Recipe"?e("secrets.recipeEnvVars"):G]}),c.jsx("div",{className:"space-y-2",children:I.map(([H,T])=>{var z,oe;const M=W[H],K=((oe=(z=M==null?void 0:M.recipes)==null?void 0:z.flatMap(ae=>ae.split(",").map(pe=>pe.trim())))==null?void 0:oe.filter(Boolean))||[];return c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[var(--bg-subtle)] rounded-md",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-mono text-[var(--text-primary)] mb-1",children:H}),c.jsxs("div",{className:"text-sm font-mono text-[var(--text-secondary)] flex items-center gap-2",children:[c.jsx("span",{className:"truncate",children:D(T,H)}),c.jsx("button",{onClick:()=>L(H),className:"text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors",children:y.has(H)?c.jsx(_d,{size:14}):c.jsx(ja,{size:14})})]}),G==="Recipe"&&K.length>0&&c.jsxs("div",{className:"text-xs text-[var(--text-muted)] mt-2 flex items-center gap-1.5 flex-wrap",children:[c.jsx("span",{className:"text-[var(--text-muted)]",children:e("secrets.usedBy")}),K.map((ae,pe)=>c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300 border border-blue-200 dark:border-blue-800",children:ae},pe))]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>P(H,T),className:"btn btn-ghost btn-sm p-2",title:e("common.edit"),children:c.jsx(K0,{size:14})}),c.jsx("button",{onClick:()=>U(H),className:"btn btn-ghost btn-sm p-2 text-red-600 dark:text-red-400",title:e("common.delete"),children:c.jsx(Ed,{size:14})})]})]},H)})})]},G))})]})]}),c.jsxs(Af,{isOpen:p,onClose:()=>v(!1),title:e(d?"secrets.editEnvVar":"secrets.addEnvVar"),footer:c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>v(!1),className:"btn btn-ghost flex-1",children:e("common.cancel")}),c.jsx("button",{onClick:F,className:"btn btn-primary flex-1",children:e("common.save")})]}),children:[x&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:c.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:x})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"env-var-name",className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:e("secrets.variableName")}),c.jsx("input",{id:"env-var-name",type:"text",value:w,onChange:G=>k(G.target.value),placeholder:"e.g., GITHUB_TOKEN",disabled:!!d,className:"w-full px-3 py-2 bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] disabled:opacity-50 font-mono"}),c.jsx("p",{className:"mt-1 text-xs text-[var(--text-muted)]",children:e("secrets.varNameHint")})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"env-var-value",className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:e("secrets.variableValue")}),c.jsx("textarea",{id:"env-var-value",value:C,onChange:G=>m(G.target.value),placeholder:e("secrets.enterVarValue"),rows:3,className:"w-full px-3 py-2 bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] font-mono resize-none"})]})]})]})]})}const C2=()=>c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"flex-shrink-0",children:c.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})});function E2(){const{t:e}=Ue();return c.jsx("div",{className:"h-full overflow-auto",children:c.jsxs("div",{className:"page-scroll p-4 max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:e("secrets.title")}),c.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:e("secrets.pageDesc")})]}),c.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border border-[var(--border-color)] bg-[var(--bg-tertiary)]",children:[c.jsx("div",{className:"text-[var(--accent-primary)] mt-0.5",children:c.jsx(C2,{})}),c.jsx("div",{className:"text-sm text-[var(--text-secondary)] leading-relaxed",children:c.jsx("p",{children:e("secrets.securityNotice")})})]}),c.jsx("section",{children:c.jsx(k2,{})})]})})}function N2(){const{t:e}=Ue(),[r,n]=J.useState(null),[s,a]=J.useState(!0),[h,f]=J.useState(null),[o,u]=J.useState("official"),[p,v]=J.useState("deepseek"),[d,b]=J.useState(""),[w,k]=J.useState(""),[C,m]=J.useState(""),[x,_]=J.useState(""),[y,E]=J.useState(""),[j,N]=J.useState(!1),[D,L]=J.useState(!1),[A,P]=J.useState(!1),[U,F]=J.useState(!1);J.useEffect(()=>{$()},[]);const $=async()=>{try{a(!0);const T=await td();n(T),u(T.auth_method),T.api_endpoint&&(v(T.api_endpoint.type),b(T.api_endpoint.url||""),k(T.api_endpoint.api_key),m(T.api_endpoint.default_model||""),_(T.api_endpoint.sonnet_model||""),E(T.api_endpoint.haiku_model||""));try{const M=await sd();F(M.available)}catch{F(!1)}f(null)}catch(T){f(T instanceof Error?T.message:e("settings.general.failedToLoadConfig"))}finally{a(!1)}},W=T=>T.length<=8?"":T.slice(0,4)+""+T.slice(-4),q=T=>{if(o==="custom"&&T==="official"){P(!0);return}u(T)},ee=()=>{u("official"),P(!1),v("deepseek"),b(""),k(""),m(""),_(""),E("")},G=async()=>{if(r){if(o==="custom"){if(!w.trim()){f(e("errors.apiKeyEmpty"));return}if(p==="custom"){if(!d.trim()){f(e("errors.customEndpointRequired"));return}if(!x.trim()){f(e("errors.customEndpointModelRequired"));return}}}try{L(!0);const T={auth_method:o};o==="custom"&&(T.api_endpoint={type:p,api_key:w,...p==="custom"&&{url:d},...C.trim()&&{default_model:C.trim()},...x.trim()&&{sonnet_model:x.trim()},...y.trim()&&{haiku_model:y.trim()}});const M=await Ux(T);if(M.status==="ok"&&M.config){n(M.config),M.config.api_endpoint&&(k(M.config.api_endpoint.api_key),m(M.config.api_endpoint.default_model||""),_(M.config.api_endpoint.sonnet_model||""),E(M.config.api_endpoint.haiku_model||"")),f(null);try{const K=await sd();F(K.available)}catch{}}else f(M.error||e("errors.saveFailed"))}catch(T){f(T instanceof Error?T.message:e("errors.saveFailed"))}finally{L(!1)}}},I=async()=>{try{const T=await Wx();T.status==="error"&&f(T.error||e("settings.general.failedToOpenDir"))}catch(T){f(T instanceof Error?T.message:e("settings.general.failedToOpenDir"))}},H=async()=>{try{const T=await Jx();T.status==="error"&&f(T.error||e("settings.general.failedToOpenVSCode"))}catch(T){f(T instanceof Error?T.message:e("settings.general.failedToOpenVSCode"))}};return s?c.jsx("div",{className:"text-[var(--text-muted)] text-center py-8",children:e("common.loadingConfiguration")}):r?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--accent-primary)] mb-4",children:e("settings.general.title")}),h&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:c.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:h})}),c.jsxs("div",{className:"border-b border-[var(--border-color)] pb-4 mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-3",children:e("settings.general.apiEndpoint")}),c.jsxs("div",{className:"space-y-2 mb-3",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"auth_method",value:"official",checked:o==="official",onChange:()=>q("official"),className:"w-4 h-4 text-[var(--accent-primary)]"}),c.jsx("span",{className:"text-sm text-[var(--text-primary)]",children:e("settings.general.officialApi")})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"radio",name:"auth_method",value:"custom",checked:o==="custom",onChange:()=>q("custom"),className:"w-4 h-4 text-[var(--accent-primary)]"}),c.jsx("span",{className:"text-sm text-[var(--text-primary)]",children:e("settings.general.customEndpoint")})]})]}),o==="custom"&&c.jsxs("div",{className:"space-y-3 ml-6 pl-4 border-l-2 border-[var(--border-color)]",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"endpoint-type",className:"block text-xs font-medium text-[var(--text-secondary)] mb-1",children:e("settings.general.endpointType")}),c.jsxs("select",{id:"endpoint-type",value:p,onChange:T=>v(T.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]",children:[c.jsx("option",{value:"deepseek",children:"DeepSeek API"}),c.jsx("option",{value:"aliyun",children:"Aliyun API"}),c.jsx("option",{value:"kimi",children:"Kimi API"}),c.jsx("option",{value:"minimax",children:"MiniMax API"}),c.jsx("option",{value:"custom",children:"Custom URL"})]})]}),p==="custom"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"api-url",className:"block text-xs font-medium text-[var(--text-secondary)] mb-1",children:e("settings.general.apiUrl")}),c.jsx("input",{id:"api-url",type:"text",value:d,onChange:T=>b(T.target.value),placeholder:"https://api.example.com/v1/chat",className:"w-full px-3 py-2 text-sm bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] font-mono"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"api-key",className:"block text-xs font-medium text-[var(--text-secondary)] mb-1",children:e("settings.general.apiKey")}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{id:"api-key",type:j?"text":"password",value:w,onChange:T=>k(T.target.value),placeholder:e("settings.general.enterApiKey"),className:"flex-1 px-3 py-2 text-sm bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] font-mono"}),c.jsx("button",{type:"button",onClick:()=>N(!j),className:"btn btn-ghost btn-sm p-2",title:e(j?"settings.general.hide":"settings.general.show"),children:j?c.jsx(_d,{size:16}):c.jsx(ja,{size:16})})]}),w&&!j&&c.jsx("p",{className:"mt-1 text-xs text-[var(--text-muted)] font-mono",children:W(w)})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"default-model",className:"block text-xs font-medium text-[var(--text-secondary)] mb-1",children:[e("settings.general.defaultModel")," ",p!=="custom"&&c.jsxs("span",{className:"text-[var(--text-muted)]",children:["- ",e("settings.general.optionalOverride")]})]}),c.jsx("input",{id:"default-model",type:"text",value:C,onChange:T=>m(T.target.value),placeholder:p==="custom"?"e.g., gpt-4":e("settings.general.leaveEmptyDefault"),className:"w-full px-3 py-2 text-sm bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] font-mono"}),c.jsx("p",{className:"mt-1 text-xs text-[var(--text-muted)]",children:"ANTHROPIC_MODEL"})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"sonnet-model",className:"block text-xs font-medium text-[var(--text-secondary)] mb-1",children:[e("settings.general.sonnetModel")," ",p!=="custom"&&c.jsxs("span",{className:"text-[var(--text-muted)]",children:["- ",e("settings.general.optionalOverride")]})]}),c.jsx("input",{id:"sonnet-model",type:"text",value:x,onChange:T=>_(T.target.value),placeholder:p==="custom"?"e.g., gpt-4":e("settings.general.leaveEmptyDefault"),className:"w-full px-3 py-2 text-sm bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] font-mono"}),c.jsx("p",{className:"mt-1 text-xs text-[var(--text-muted)]",children:"ANTHROPIC_DEFAULT_SONNET_MODEL"})]}),c.jsxs("div",{children:[c.jsxs("label",{htmlFor:"haiku-model",className:"block text-xs font-medium text-[var(--text-secondary)] mb-1",children:[e("settings.general.haikuModel")," ",c.jsxs("span",{className:"text-[var(--text-muted)]",children:["- ",e("settings.general.optional")]})]}),c.jsx("input",{id:"haiku-model",type:"text",value:y,onChange:T=>E(T.target.value),placeholder:e("settings.general.leaveEmptySonnet"),className:"w-full px-3 py-2 text-sm bg-[var(--bg-base)] border border-[var(--border-color)] rounded-md text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)] font-mono"}),c.jsx("p",{className:"mt-1 text-xs text-[var(--text-muted)]",children:"ANTHROPIC_DEFAULT_HAIKU_MODEL"})]})]}),c.jsxs("div",{className:"mt-3 flex gap-2 items-center",children:[c.jsx("button",{type:"button",onClick:G,disabled:D,className:"btn btn-primary btn-sm disabled:opacity-50",children:e(D?"settings.general.saving":"settings.general.saveConfiguration")}),U&&c.jsxs("button",{type:"button",onClick:H,className:"btn btn-ghost btn-sm flex items-center gap-1",title:"Edit ~/.claude/settings.json in VSCode",children:[c.jsx(yd,{size:16}),e("settings.general.edit")]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-[var(--text-primary)] mb-2",children:e("settings.general.workingDirectory")}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx("div",{className:"flex-1 bg-[var(--bg-subtle)] rounded-md px-3 py-2 overflow-x-auto",children:c.jsx("span",{className:"text-[var(--text-secondary)] font-mono text-sm whitespace-nowrap",children:r.working_directory_display||"~/.task-mind/projects"})}),c.jsxs("button",{onClick:I,className:"btn btn-ghost btn-sm flex items-center gap-1 shrink-0",title:"Open in file manager",children:[c.jsx(La,{size:16}),e("settings.general.open")]})]})]})]}),c.jsx(Af,{isOpen:A,onClose:()=>P(!1),title:e("settings.general.confirmSwitch"),footer:c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>P(!1),className:"btn btn-ghost",children:e("settings.general.cancel")}),c.jsx("button",{onClick:ee,className:"btn btn-primary",children:e("settings.general.confirmSwitchBtn")})]}),children:c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:e("settings.general.confirmSwitchFullDesc")})})]}):c.jsx("div",{className:"text-[var(--text-error)] text-center py-8",children:e("settings.general.failedToLoadConfig")})}function j2(){const{t:e}=Ue(),{config:r,updateConfig:n,setLanguage:s}=Je();if(!r)return c.jsx("div",{className:"text-[var(--text-muted)] text-center py-8",children:e("common.loadingConfiguration")});const a=(f,o)=>{n({[f]:o})},h=f=>{s(f.target.value)};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"font-medium mb-4 text-[var(--accent-primary)]",children:e("settings.appearance.language")}),c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[var(--text-primary)]",children:e("settings.appearance.language")}),c.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:e("settings.appearance.languageDesc")})]}),c.jsxs("select",{id:"language-select",value:r.language||"en",onChange:h,className:"px-3 py-1.5 rounded-md bg-[var(--bg-subtle)] border border-[var(--border-color)] text-[var(--text-primary)] text-sm focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]","aria-label":e("settings.appearance.language"),children:[c.jsx("option",{value:"en",children:e("settings.appearance.english")}),c.jsx("option",{value:"zh",children:e("settings.appearance.chinese")})]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"font-medium mb-4 text-[var(--accent-primary)]",children:e("settings.appearance.behavior")}),c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[var(--text-primary)]",children:e("settings.appearance.showSystemStatus")}),c.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:e("settings.appearance.showSystemStatusDesc")})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:r.show_system_status,onChange:f=>a("show_system_status",f.target.checked),className:"sr-only peer","aria-label":e("settings.appearance.showSystemStatus")}),c.jsx("div",{className:"w-11 h-6 bg-[var(--bg-subtle)] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--accent-primary)]"})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-[var(--border-color)]",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[var(--text-primary)]",children:e("settings.appearance.exitConfirmation")}),c.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:e("settings.appearance.exitConfirmationDesc")})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:r.confirm_on_exit,onChange:f=>a("confirm_on_exit",f.target.checked),className:"sr-only peer","aria-label":e("settings.appearance.exitConfirmation")}),c.jsx("div",{className:"w-11 h-6 bg-[var(--bg-subtle)] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--accent-primary)]"})]})]}),c.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-[var(--border-color)]",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[var(--text-primary)]",children:e("settings.appearance.autoScrollOutput")}),c.jsx("div",{className:"text-sm text-[var(--text-muted)]",children:e("settings.appearance.autoScrollOutputDesc")})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:r.auto_scroll_output,onChange:f=>a("auto_scroll_output",f.target.checked),className:"sr-only peer","aria-label":e("settings.appearance.autoScrollOutput")}),c.jsx("div",{className:"w-11 h-6 bg-[var(--bg-subtle)] peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--accent-primary)]"})]})]})]})]})}function L2(){return c.jsxs("div",{className:"card",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--accent-primary)] mb-4",children:"About"}),c.jsxs("div",{className:"space-y-3 text-sm text-[var(--text-muted)]",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:"task-mind"})," is a multi-runtime infrastructure framework for AI Agents."]}),c.jsx("p",{className:"pt-2 border-t border-[var(--border-color)]",children:" 2025 task-mind  AGPL-3.0"})]})]})}function R2({onOpenWizard:e}){const[r,n]=J.useState(null),[s,a]=J.useState(!0),[h,f]=J.useState(!1),[o,u]=J.useState(null);J.useEffect(()=>{p()},[]);const p=async()=>{a(!0),u(null);try{const b=await ya();n(b)}catch(b){u(b instanceof Error?b.message:"Failed to load status")}finally{a(!1)}},v=async()=>{f(!0);try{await bx(),e()}catch(b){u(b instanceof Error?b.message:"Failed to reset")}finally{f(!1)}};if(s)return c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center gap-3 text-[var(--text-muted)]",children:[c.jsx(mr,{className:"w-5 h-5 animate-spin"}),"Loading initialization status..."]})});if(o)return c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3 text-[var(--text-error)]",children:[c.jsx(hn,{className:"w-5 h-5"}),o]}),c.jsx("button",{type:"button",onClick:p,className:"text-[var(--text-muted)] hover:text-[var(--text-secondary)]",children:c.jsx(nr,{className:"w-4 h-4"})})]})});if(!r)return null;const d=r.node.installed&&r.node.version_sufficient&&r.claude_code.installed&&r.claude_code.version_sufficient;return c.jsxs("div",{className:"card space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-[var(--accent-primary)]",children:"Initialization Status"}),c.jsx("button",{type:"button",onClick:p,className:"p-2 text-[var(--text-muted)] hover:text-[var(--text-secondary)] hover:bg-[var(--bg-subtle)] rounded-lg transition-colors","aria-label":"Refresh status",children:c.jsx(nr,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--bg-subtle)] rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(k0,{className:"w-5 h-5 text-[var(--text-muted)]"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:"Dependencies"}),c.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:["Node.js ",r.node.version||"N/A",", Claude Code ",r.claude_code.version||"N/A"]})]})]}),d?c.jsx(Bt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):c.jsx(Lr,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--bg-subtle)] rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Ra,{className:"w-5 h-5 text-[var(--text-muted)]"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:"Resources"}),c.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[r.resources_installed?`v${r.resources_version||"unknown"}`:"Not installed",r.resources_update_available&&c.jsxs("span",{className:"ml-2 text-blue-600 dark:text-blue-400",children:["(update available: v",r.current_task_mind_version,")"]})]})]})]}),r.resources_installed?r.resources_update_available?c.jsx(Lr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):c.jsx(Bt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):c.jsx(hn,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-[var(--bg-subtle)] rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Cd,{className:"w-5 h-5 text-[var(--text-muted)]"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[var(--text-primary)] font-medium",children:"Authentication"}),c.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:r.auth_configured?r.auth_method==="official"?"Official (user-managed)":"Custom API endpoint":"Not configured"})]})]}),r.auth_configured?c.jsx(Bt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):c.jsx(Lr,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-color)]",children:[c.jsx("span",{className:"text-sm text-[var(--text-muted)]",children:r.init_completed?"Setup completed":"Setup not completed"}),c.jsx("button",{type:"button",onClick:v,disabled:h,className:"btn btn-primary btn-sm flex items-center gap-2 disabled:opacity-50",children:h?c.jsxs(c.Fragment,{children:[c.jsx(mr,{className:"w-4 h-4 animate-spin"}),"Opening..."]}):c.jsxs(c.Fragment,{children:[c.jsx(_0,{className:"w-4 h-4"}),"Run Setup Wizard"]})})]})]})}function T2({onOpenInitWizard:e}){return c.jsx("div",{className:"h-full overflow-auto",children:c.jsxs("div",{className:"page-scroll p-4 max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:"Settings"}),c.jsx("p",{className:"text-sm text-[var(--text-muted)] mt-1",children:"Configure task-mind features"})]}),c.jsx("section",{children:c.jsx(R2,{onOpenWizard:e||(()=>{})})}),c.jsx("section",{children:c.jsx(N2,{})}),c.jsx("section",{children:c.jsx(j2,{})}),c.jsx("section",{children:c.jsx(L2,{})})]})})}function D2({sessionId:e,isRunning:r,onNewSession:n,onStop:s}){const{t:a}=Ue();return c.jsx("div",{className:"card",children:c.jsxs("div",{className:"flex items-center justify-between gap-scaled-4",children:[c.jsxs("div",{className:"flex items-center gap-scaled-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-[var(--accent-success)] animate-pulse":"bg-[var(--text-muted)]"}`}),c.jsx("span",{className:"text-scaled-sm text-[var(--text-muted)]",children:e?`${a("console.session")}: ${e.substring(0,8)}...`:a("console.noActiveSession")})]}),c.jsxs("div",{className:"flex items-center gap-scaled-4",children:[c.jsxs("div",{className:"flex items-center gap-scaled-2 opacity-60",children:[c.jsx("input",{id:"auto-approve",type:"checkbox",className:"w-4 h-4 cursor-not-allowed",checked:!0,disabled:!0,"aria-label":a("console.autoApprove")}),c.jsx("label",{htmlFor:"auto-approve",className:"text-scaled-sm text-[var(--text-muted)] cursor-not-allowed",children:a("console.autoApprove")})]}),c.jsx("div",{className:"flex items-center gap-scaled-2",children:r?c.jsxs("button",{type:"button",className:"btn btn-ghost flex items-center gap-scaled-2 text-[var(--accent-error)]",onClick:s,children:[c.jsx(Y0,{className:"icon-scaled-sm fill-current"}),a("console.stop")]}):c.jsxs("button",{type:"button",className:"btn btn-ghost flex items-center gap-scaled-2",onClick:n,disabled:!e,children:[c.jsx(b0,{className:"icon-scaled-sm"}),a("console.newSession")]})})]})]})})}function A2({message:e}){var n,s,a;const r=h=>new Date(h).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});if(e.type==="user")return c.jsxs("div",{className:"flex gap-scaled-3 items-start",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--accent-primary)] flex items-center justify-center text-white shrink-0 text-scaled-sm font-medium",children:"U"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-scaled-2 mb-scaled-1",children:[c.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:"You"}),c.jsx("span",{className:"text-scaled-xs text-[var(--text-muted)]",children:r(e.timestamp)})]}),c.jsx("div",{className:"text-[var(--text-primary)] whitespace-pre-wrap break-words",children:e.content})]})]});if(e.type==="assistant")return c.jsxs("div",{className:"flex gap-scaled-3 items-start",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--accent-success)] flex items-center justify-center text-white shrink-0 text-scaled-sm font-medium",children:"C"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-scaled-2 mb-scaled-1",children:[c.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:"Claude"}),c.jsx("span",{className:"text-scaled-xs text-[var(--text-muted)]",children:r(e.timestamp)}),!e.done&&c.jsx("span",{className:"text-scaled-xs text-[var(--accent-warning)]",children:"typing..."})]}),c.jsxs("div",{className:"text-[var(--text-primary)]",children:[c.jsx(kf,{content:e.content}),!e.done&&c.jsx("span",{className:"inline-block w-2 h-4 bg-[var(--accent-primary)] ml-1 animate-pulse"})]})]})]});if(e.type==="tool_call"){const h=((n=e.metadata)==null?void 0:n.status)==="executing";return c.jsxs("div",{className:"flex gap-scaled-3 items-start",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--accent-warning)] flex items-center justify-center text-white shrink-0 text-scaled-sm font-medium",children:""}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-scaled-2 mb-scaled-1",children:[c.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["Tool: ",e.tool_name]}),c.jsx("span",{className:"text-scaled-xs text-[var(--text-muted)]",children:r(e.timestamp)}),h&&c.jsx("span",{className:"text-scaled-xs text-[var(--accent-warning)]",children:"executing..."})]}),c.jsx("div",{className:"bg-[var(--bg-elevated)] rounded p-scaled-3 border border-[var(--border-subtle)]",children:e.tool_name==="Bash"?c.jsx(Cf,{content:e.content}):c.jsx(Ef,{content:e.content})})]})]})}if(e.type==="tool_result"){const h=((s=e.metadata)==null?void 0:s.status)==="success",f=((a=e.metadata)==null?void 0:a.result)||e.content;return c.jsxs("div",{className:"flex gap-scaled-3 items-start",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white shrink-0 text-scaled-sm font-medium ${h?"bg-[var(--accent-success)]":"bg-[var(--accent-error)]"}`,children:h?"":""}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-scaled-2 mb-scaled-1",children:[c.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["Result: ",e.tool_name]}),c.jsx("span",{className:"text-scaled-xs text-[var(--text-muted)]",children:r(e.timestamp)}),c.jsx("span",{className:`text-scaled-xs ${h?"text-[var(--accent-success)]":"text-[var(--accent-error)]"}`,children:h?"success":"error"})]}),c.jsx("div",{className:"bg-[var(--bg-elevated)] rounded p-scaled-3 border border-[var(--border-subtle)] text-scaled-sm",children:c.jsx("pre",{className:"whitespace-pre-wrap break-words font-mono text-scaled-xs",children:typeof f=="string"?f:JSON.stringify(f,null,2)})})]})]})}return c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"text-scaled-sm text-[var(--text-muted)] italic",children:e.content})})}function I2({messages:e,messagesEndRef:r}){return e.length===0?c.jsx("div",{className:"flex-1 flex items-center justify-center text-[var(--text-muted)] p-scaled-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Ds,{size:48,strokeWidth:1.5,className:"mx-auto mb-scaled-2 opacity-40"}),c.jsx("div",{className:"text-scaled-lg mb-scaled-1",children:"Console"}),c.jsx("div",{className:"text-scaled-sm",children:"Start a conversation with Claude Code"})]})}):c.jsxs("div",{className:"flex-1 overflow-y-auto p-scaled-4 space-y-4",children:[e.map((n,s)=>c.jsx(A2,{message:n},s)),c.jsx("div",{ref:r})]})}function P2({value:e,onChange:r,onSend:n,disabled:s=!1,placeholder:a="Type your message..."}){const h=f=>{f.key==="Enter"&&(f.ctrlKey||f.metaKey)&&(f.preventDefault(),!s&&e.trim()&&n())};return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex gap-scaled-3 items-end",children:[c.jsx("textarea",{className:"flex-1 resize-none bg-transparent border-none outline-none text-[var(--text-primary)] placeholder-[var(--text-muted)] font-sans text-scaled-base p-0",placeholder:a,value:e,onChange:f=>r(f.target.value),onKeyDown:h,disabled:s,rows:3,"aria-label":"Message input"}),c.jsxs("button",{type:"button",className:"btn btn-primary flex items-center gap-scaled-2 shrink-0",onClick:n,disabled:s||!e.trim(),children:[c.jsx(Ta,{className:"icon-scaled-sm"}),"Send"]})]}),c.jsx("div",{className:"text-scaled-xs text-[var(--text-muted)] mt-scaled-2",children:"Ctrl+Enter to send"})]})}function M2(){var F,$;const{t:e}=Ue(),{showToast:r,consoleSessionId:n,consoleMessages:s,consoleIsRunning:a,consoleScrollPosition:h,setConsoleSessionId:f,addConsoleMessage:o,updateLastConsoleMessage:u,updateConsoleMessageByToolCallId:p,setConsoleIsRunning:v,setConsoleScrollPosition:d,clearConsole:b}=Je(),[w,k]=J.useState(""),[C,m]=J.useState(""),[x,_]=J.useState("agent"),y=J.useRef(null),E=J.useRef(null),j=J.useRef(null);J.useEffect(()=>{h>0&&E.current&&(E.current.scrollTop=h)},[]),J.useEffect(()=>()=>{const W=E.current;W&&d(W.scrollTop)},[]),J.useEffect(()=>{var W;(W=y.current)==null||W.scrollIntoView({behavior:"smooth"})},[s]),J.useEffect(()=>{const q=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,ee=new WebSocket(q);return j.current=ee,ee.onopen=()=>{console.log("WebSocket connected")},ee.onmessage=G=>{try{const I=JSON.parse(G.data);D(I)}catch(I){console.error("Failed to parse WebSocket message:",I)}},ee.onerror=G=>{console.error("WebSocket error:",G)},ee.onclose=()=>{console.log("WebSocket disconnected")},()=>{ee.close()}},[]);const N=J.useRef(null);J.useEffect(()=>{N.current=n},[n]);const D=J.useCallback(W=>{const q=N.current,ee=W.session_id;if(ee&&q&&ee!==q)return;ee&&!q&&f(ee);const G=Je.getState().consoleMessages;switch(W.type){case"console_user_message":break;case"console_assistant_thinking":{const I=G[G.length-1];(I==null?void 0:I.type)==="assistant"&&!I.done?u({content:I.content+W.content,done:W.done}):W.done||o({type:"assistant",content:W.content,timestamp:new Date().toISOString(),done:!1});break}case"console_tool_executing":o({type:"tool_call",content:JSON.stringify(W.parameters,null,2),timestamp:new Date().toISOString(),tool_name:W.tool_name,tool_call_id:W.tool_call_id,metadata:{status:"executing"}});break;case"console_tool_result":p(W.tool_call_id,{type:"tool_result",metadata:{status:W.success?"success":"error",result:W.content}});break;case"console_session_status":W.status==="completed"&&v(!1);break}},[f,o,u,p,v]),L=async()=>{if(!w.trim())return;let W=w;x==="do"?W=`/task-mind.do ${w}`:x==="run"&&(W=`/task-mind.run ${w}`);const q={type:"user",content:W,timestamp:new Date().toISOString()};o(q),k("");try{if(n){if(!(await fetch(`/api/console/${n}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:w})})).ok)throw new Error("Failed to send message")}else{console.log("[Console] Starting session with project_path:",C);const ee=await fetch("/api/console/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:W,auto_approve:!0,project_path:C||null})});if(!ee.ok)throw new Error("Failed to start console session");const G=await ee.json();f(G.session_id),v(!0),r("Console session started","success")}}catch(ee){console.error("Failed to send message:",ee),r("Failed to send message","error")}},A=async()=>{if(n)try{if(!(await fetch(`/api/console/${n}/stop`,{method:"POST"})).ok)throw new Error("Failed to stop session");v(!1),f(null),r("Session stopped","success")}catch(W){console.error("Failed to stop session:",W),r("Failed to stop session","error")}},P=()=>{b(),k("")},U=async()=>{try{console.log("[Console] Selecting directory...");const W=await ad();console.log("[Console] Select directory result:",W),W.status==="ok"&&W.path?(console.log("[Console] Setting project path to:",W.path),m(W.path)):W.status==="error"&&r(W.error||"Failed to select directory","error")}catch(W){console.error("Directory selection failed:",W),r("Failed to select directory","error")}};return c.jsxs("div",{className:"flex flex-col h-full overflow-hidden gap-4 p-scaled-4",children:[c.jsx("div",{className:"shrink-0",children:c.jsx(D2,{sessionId:n,isRunning:a,onNewSession:P,onStop:A})}),c.jsxs("div",{ref:E,className:"flex-1 min-h-0 card overflow-hidden flex flex-col overflow-y-auto",children:[!n&&s.length===0&&c.jsxs("div",{className:"p-scaled-4 flex flex-col gap-scaled-4",children:[c.jsxs("div",{className:"flex gap-scaled-3 p-scaled-3 rounded-lg bg-[var(--bg-subtle)] border border-[var(--border-color)]",children:[c.jsx(I0,{className:"icon-scaled-base text-[var(--accent-primary)] shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-scaled-sm text-[var(--text-secondary)]",children:[c.jsx("p",{className:"font-medium text-[var(--text-primary)] mb-1",children:e("console.devConsoleTitle")}),c.jsx("p",{children:e("console.devConsoleDesc")})]})]}),c.jsxs("div",{className:"flex gap-scaled-3 p-scaled-3 rounded-lg bg-[color-mix(in_srgb,var(--accent-warning)_10%,transparent)] border border-[color-mix(in_srgb,var(--accent-warning)_30%,var(--border-color))]",children:[c.jsx(Lr,{className:"icon-scaled-base text-[var(--accent-warning)] shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-scaled-sm text-[var(--text-secondary)]",children:[c.jsx("p",{className:"font-medium text-[var(--accent-warning)] mb-1",children:e("console.autoApproveWarningTitle")}),c.jsx("p",{className:"mb-2",children:e("console.autoApproveWarningDesc")}),c.jsxs("p",{children:[e("console.interactiveMode")," ",c.jsx("code",{className:"inline px-scaled-2 py-0.5 rounded bg-[var(--bg-tertiary)] text-[var(--text-primary)] font-mono text-scaled-xs",children:"claude"})]})]})]})]}),c.jsx(I2,{messages:s,messagesEndRef:y})]}),c.jsxs("div",{className:"shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border-b border-gray-200 dark:border-gray-700 mb-2",children:[c.jsxs("select",{value:x,onChange:W=>_(W.target.value),disabled:!!n,className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("option",{value:"agent",children:"Agent (default)"}),c.jsx("option",{value:"do",children:"/task-mind.do (task executor)"}),c.jsx("option",{value:"run",children:"/task-mind.run (explorer)"})]}),c.jsxs("button",{onClick:U,disabled:!!n,className:"flex items-center gap-1.5 px-2 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Pn,{size:16}),c.jsx("span",{children:C||e("console.selectProjectPath")||"Select project"})]}),C&&!n&&c.jsx("button",{onClick:()=>m(""),className:"text-xs text-gray-500 hover:text-red-600",children:""})]}),c.jsx(P2,{value:w,onChange:k,onSend:L,disabled:a&&((F=s[s.length-1])==null?void 0:F.type)==="assistant"&&!(($=s[s.length-1])!=null&&$.done),placeholder:e(n?"console.continueConversation":"console.startConversation")})]})]})}function O2({projects:e,loading:r,selectedProjectId:n,onSelectProject:s,onOpenInFileManager:a}){const{t:h}=Ue();return r?c.jsx("div",{className:"p-4 space-y-3",children:[...Array(5)].map((f,o)=>c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-16 bg-muted rounded-lg"})},o))}):e.length===0?c.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[c.jsx(Pn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:h("workspace.noProjects","No projects found")})]}):c.jsx("div",{className:"p-2 space-y-1",children:e.map(f=>c.jsx(B2,{project:f,isSelected:n===f.run_id,onSelect:()=>s(f.run_id),onOpenInFileManager:()=>a(f.run_id)},f.run_id))})}function B2({project:e,isSelected:r,onSelect:n,onOpenInFileManager:s}){const{t:a}=Ue();function h(o){if(!o)return"";try{const u=new Date(o),v=new Date().getTime()-u.getTime(),d=Math.floor(v/(1e3*60*60*24));return d===0?a("time.today","Today"):d===1?a("time.yesterday","Yesterday"):d<7?a("time.daysAgo","{{count}} days ago",{count:d}):u.toLocaleDateString()}catch{return o}}function f(o){const u=o.match(/^\d{4}-?\d{2}-?\d{2}-(.+)$/);return u?u[1].replace(/-/g," "):o.replace(/-/g," ")}return c.jsx("div",{className:`
        group p-3 rounded-lg cursor-pointer transition-colors
        ${r?"bg-primary/10 border border-primary/30":"hover:bg-muted border border-transparent"}
      `,onClick:n,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Pn,{className:`w-5 h-5 mt-0.5 ${r?"text-primary":"text-muted-foreground"}`}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm truncate",title:e.run_id,children:f(e.run_id)}),e.theme_description&&c.jsx("div",{className:"text-xs text-muted-foreground truncate mt-0.5",title:e.theme_description,children:e.theme_description}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[c.jsx(Rs,{className:"w-3 h-3"}),c.jsx("span",{children:h(e.last_accessed)}),c.jsx("span",{className:`
              px-1.5 py-0.5 rounded text-[10px]
              ${e.status==="active"?"bg-green-500/20 text-green-400":"bg-muted text-muted-foreground"}
            `,children:e.status})]})]}),c.jsx("button",{type:"button",onClick:o=>{o.stopPropagation(),s()},className:"p-1.5 rounded opacity-0 group-hover:opacity-100 hover:bg-muted-foreground/20 transition-all",title:a("workspace.openInFileManager","Open in file manager"),children:c.jsx(Ts,{className:"w-4 h-4"})})]})})}function F2({projectId:e}){const{t:r}=Ue(),{showToast:n}=Je(),[s,a]=J.useState(null),[h,f]=J.useState([]),[o,u]=J.useState(""),[p,v]=J.useState(!0);J.useEffect(()=>{d(),b("")},[e]);async function d(){try{const N=await n0(e);a(N)}catch{n("Failed to load project details","error")}}async function b(N){try{v(!0);const D=await i0(e,N);f(D),u(N)}catch{n("Failed to load files","error")}finally{v(!1)}}function w(N){N.is_directory&&b(N.path)}function k(N){b(N)}async function C(){try{const N=await od(e,o);N.success?n(N.message,"success"):n(N.message,"error")}catch{n("Failed to open in file manager","error")}}async function m(N){try{const D=await o0(e,N.path);D.success&&D.url?window.open(D.url,"_blank"):n(D.message,"error")}catch{n("Failed to open file viewer","error")}}function x(N){const D=s0(e,N.path),L=document.createElement("a");L.href=D,L.download=N.name,L.click()}function _(){const N=[{name:"Root",path:""}];if(o){const D=o.split("/");let L="";for(const A of D)L=L?`${L}/${A}`:A,N.push({name:A,path:L})}return N}function y(N){if(N===0)return"-";const D=["B","KB","MB","GB"];let L=N,A=0;for(;L>=1024&&A<D.length-1;)L/=1024,A++;return`${L.toFixed(A===0?0:1)} ${D[A]}`}function E(N){var L;if(N.is_directory)return c.jsx(Pn,{className:"w-5 h-5 text-blue-400"});const D=((L=N.name.split(".").pop())==null?void 0:L.toLowerCase())||"";return["png","jpg","jpeg","gif","svg","webp","ico"].includes(D)?c.jsx(D0,{className:"w-5 h-5 text-green-400"}):["mp4","webm","mov","avi","mkv"].includes(D)?c.jsx(Z0,{className:"w-5 h-5 text-purple-400"}):["mp3","wav","ogg","m4a","flac"].includes(D)?c.jsx(W0,{className:"w-5 h-5 text-pink-400"}):["gltf","glb","obj"].includes(D)?c.jsx(y0,{className:"w-5 h-5 text-orange-400"}):D==="json"?c.jsx(C0,{className:"w-5 h-5 text-yellow-400"}):["js","ts","jsx","tsx","py","sh","bash","css","html","md"].includes(D)?c.jsx(E0,{className:"w-5 h-5 text-cyan-400"}):["txt","log","pdf"].includes(D)?c.jsx(bd,{className:"w-5 h-5 text-gray-400"}):c.jsx(wd,{className:"w-5 h-5 text-muted-foreground"})}const j=_();return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"p-3 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-1 text-sm overflow-x-auto",children:j.map((N,D)=>c.jsxs("span",{className:"flex items-center",children:[D>0&&c.jsx(dn,{className:"w-4 h-4 text-muted-foreground mx-1"}),c.jsx("button",{type:"button",onClick:()=>k(N.path),className:`
                    px-2 py-1 rounded hover:bg-muted transition-colors whitespace-nowrap
                    ${D===j.length-1?"font-medium":"text-muted-foreground"}
                  `,children:D===0?c.jsx(T0,{className:"w-4 h-4"}):N.name})]},N.path))}),c.jsx("button",{type:"button",onClick:C,className:"p-2 rounded-lg hover:bg-muted transition-colors",title:r("workspace.openInFileManager","Open in file manager"),children:c.jsx(Ts,{className:"w-4 h-4"})})]}),s&&c.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:[c.jsxs("span",{children:[s.file_count," files"]}),c.jsx("span",{children:y(s.total_size)})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:p?c.jsx("div",{className:"p-4 space-y-2",children:[...Array(5)].map((N,D)=>c.jsx("div",{className:"animate-pulse h-10 bg-muted rounded"},D))}):h.length===0?c.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[c.jsx(Pn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:r("workspace.emptyDirectory","This directory is empty")})]}):c.jsx("div",{className:"divide-y divide-border",children:h.map(N=>c.jsx(z2,{file:N,onNavigate:()=>w(N),onView:()=>m(N),onDownload:()=>x(N),formatSize:y,getIcon:()=>E(N)},N.path))})})]})}function z2({file:e,onNavigate:r,onView:n,onDownload:s,formatSize:a,getIcon:h}){const{t:f}=Ue();return c.jsxs("div",{className:"group flex items-center gap-3 px-4 py-2 hover:bg-muted/50 cursor-pointer",onClick:r,children:[c.jsx("div",{className:"flex-shrink-0",children:h()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm truncate",title:e.name,children:e.name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:e.is_directory?f("workspace.directory","Directory"):c.jsxs(c.Fragment,{children:[a(e.size),e.mime_type&&c.jsx("span",{className:"ml-2",children:e.mime_type})]})})]}),!e.is_directory&&c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{type:"button",onClick:o=>{o.stopPropagation(),n()},className:"p-1.5 rounded hover:bg-muted-foreground/20",title:f("workspace.view","View"),children:c.jsx(ja,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:o=>{o.stopPropagation(),s()},className:"p-1.5 rounded hover:bg-muted-foreground/20",title:f("workspace.download","Download"),children:c.jsx(bi,{className:"w-4 h-4"})})]})]})}function H2(){const{t:e}=Ue(),{currentProjectId:r,switchPage:n,showToast:s}=Je(),[a,h]=J.useState([]),[f,o]=J.useState(!0),[u,p]=J.useState(!1);J.useEffect(()=>{v()},[]);async function v(){try{o(!0);const k=await r0();h(k)}catch{s("Failed to load projects","error")}finally{o(!1)}}async function d(){p(!0),await v(),p(!1)}function b(k){n("project_detail",k)}async function w(k){try{const C=await od(k);C.success?s(C.message,"success"):s(C.message,"error")}catch{s("Failed to open in file manager","error")}}return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(La,{className:"w-5 h-5 text-muted-foreground"}),c.jsx("h1",{className:"text-lg font-semibold",children:e("workspace.title","Workspace")}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",a.length," ",e("workspace.projects","projects"),")"]})]}),c.jsx("button",{type:"button",onClick:d,disabled:u,className:"p-2 rounded-lg hover:bg-muted transition-colors disabled:opacity-50",title:e("common.refresh","Refresh"),children:c.jsx(nr,{className:`w-4 h-4 ${u?"animate-spin":""}`})})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsx("div",{className:"w-80 border-r border-border overflow-y-auto",children:c.jsx(O2,{projects:a,loading:f,selectedProjectId:r,onSelectProject:b,onOpenInFileManager:w})}),c.jsx("div",{className:"flex-1 overflow-hidden",children:r?c.jsx(F2,{projectId:r}):c.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx(La,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:e("workspace.selectProject","Select a project to browse files")})]})})})]})]})}function $2({id:e,message:r,type:n}){const{dismissToast:s}=Je();return c.jsx("div",{className:`toast toast-${n}`,onClick:()=>s(e),children:c.jsx("span",{children:r})})}function If({dep:e,onInstall:r,installing:n,t:s}){const[a,h]=J.useState(!1),[f,o]=J.useState(null),u=e.installed&&e.version_sufficient,p=e.installed&&!e.version_sufficient,v=async()=>{o(null);try{await r()}catch(d){o(d instanceof Error?d.message:"Installation failed")}};return c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[u?c.jsx(Bt,{className:"w-5 h-5 text-green-400"}):p?c.jsx(Lr,{className:"w-5 h-5 text-yellow-400"}):c.jsx(hn,{className:"w-5 h-5 text-red-400"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-white capitalize",children:e.name==="claude-code"?"Claude Code":"Node.js"}),c.jsxs("p",{className:"text-sm text-gray-400",children:[e.installed?s("init.versionCurrent",{version:e.version}):s("init.notInstalled"),e.installed&&!e.version_sufficient&&c.jsxs("span",{className:"text-yellow-400 ml-2",children:["(",s("init.versionRequired",{version:e.required_version}),")"]})]})]})]}),!u&&c.jsx("button",{type:"button",onClick:v,disabled:n,className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm",children:n?c.jsxs(c.Fragment,{children:[c.jsx(mr,{className:"w-4 h-4 animate-spin"}),s("init.installing")]}):c.jsxs(c.Fragment,{children:[c.jsx(bi,{className:"w-4 h-4"}),s("init.install")]})})]}),f&&c.jsx("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-800 rounded text-red-300 text-sm",children:f}),!u&&e.install_guide&&c.jsxs("div",{className:"mt-3",children:[c.jsxs("button",{type:"button",onClick:()=>h(!a),className:"flex items-center gap-1 text-sm text-gray-400 hover:text-gray-300",children:[a?c.jsx(vd,{className:"w-4 h-4"}):c.jsx(In,{className:"w-4 h-4"}),s("init.manualGuide")]}),a&&c.jsx("pre",{className:"mt-2 p-3 bg-gray-900 rounded text-sm text-gray-300 overflow-x-auto whitespace-pre-wrap",children:e.install_guide})]})]})}function U2({initStatus:e,onComplete:r,onSkip:n,onRefresh:s}){const{t:a}=Ue(),[h,f]=J.useState(!1),[o,u]=J.useState(!1),[p,v]=J.useState(!1),d=e.node.installed&&e.node.version_sufficient,b=e.claude_code.installed&&e.claude_code.version_sufficient,w=d&&b,k=async()=>{f(!0);try{await xx(),s()}finally{f(!1)}},C=async()=>{u(!0);try{const x=await Zu("node");if(x.status==="ok")s();else throw new Error(x.message)}finally{u(!1)}},m=async()=>{v(!0);try{const x=await Zu("claude-code");if(x.status==="ok")s();else throw new Error(x.message)}finally{v(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:a("init.systemDeps")}),c.jsx("p",{className:"text-gray-400",children:a("init.systemDepsDesc")})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(If,{dep:e.node,onInstall:C,installing:o,t:a}),c.jsx(If,{dep:e.claude_code,onInstall:m,installing:p,t:a})]}),c.jsxs("button",{type:"button",onClick:k,disabled:h,className:"flex items-center gap-2 text-sm text-gray-400 hover:text-gray-300",children:[c.jsx(nr,{className:`w-4 h-4 ${h?"animate-spin":""}`}),a(h?"init.checking":"init.refreshStatus")]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-800",children:[c.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-gray-300 text-sm",children:a("init.skipForNow")}),c.jsxs("button",{type:"button",onClick:r,disabled:!w,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a("init.continue"),c.jsx(yi,{className:"w-4 h-4"})]})]}),!w&&c.jsxs("p",{className:"text-sm text-yellow-400 flex items-center gap-2",children:[c.jsx(Lr,{className:"w-4 h-4"}),a("init.skipWarning")]})]})}function W2({initStatus:e,onComplete:r,onSkip:n,onBack:s,onRefresh:a}){var x,_,y,E;const{t:h}=Ue(),[f,o]=J.useState(!1),[u,p]=J.useState(null),[v,d]=J.useState(null),[b,w]=J.useState(!1),k=e.resources_installed,C=e.resources_update_available,m=async()=>{o(!0),d(null),p(null);try{const j=await yx(b);p(j),(j.status==="ok"||j.status==="partial")&&a()}catch(j){d(j instanceof Error?j.message:"Installation failed")}finally{o(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:h("init.resTitle")}),c.jsx("p",{className:"text-gray-400",children:h("init.resDesc")})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[k?c.jsx(Bt,{className:"w-5 h-5 text-green-400"}):c.jsx(hn,{className:"w-5 h-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-white",children:h("init.resourcesStatus")}),c.jsxs("p",{className:"text-sm text-gray-400",children:[k?h("init.resourcesInstalled",{version:e.resources_version||"unknown"}):h("init.resourcesNotInstalled"),C&&c.jsx("span",{className:"ml-2 text-blue-400",children:h("init.updateAvailable",{version:e.current_task_mind_version})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(Ra,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-sm",children:[((_=(x=e.resources_info)==null?void 0:x.commands)==null?void 0:_.installed)||0," ",h("init.commands")]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(Aa,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:h("skills.title")})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(Na,{className:"w-4 h-4"}),c.jsxs("span",{className:"text-sm",children:[((E=(y=e.resources_info)==null?void 0:y.recipes)==null?void 0:E.installed)||0," ",h("recipes.title")]})]})]})]}),k&&c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:b,onChange:j=>w(j.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"text-sm text-gray-400",children:h("init.forceUpdate")})]}),c.jsx("button",{type:"button",onClick:m,disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors w-full justify-center",children:f?c.jsxs(c.Fragment,{children:[c.jsx(mr,{className:"w-5 h-5 animate-spin"}),h("init.installingResources")]}):k&&!C?c.jsxs(c.Fragment,{children:[c.jsx(nr,{className:"w-5 h-5"}),h("init.reinstallResources")]}):C?c.jsxs(c.Fragment,{children:[c.jsx(bi,{className:"w-5 h-5"}),h("init.updateResources")]}):c.jsxs(c.Fragment,{children:[c.jsx(bi,{className:"w-5 h-5"}),h("init.installResources")]})}),u&&c.jsxs("div",{className:`p-4 rounded-lg ${u.status==="ok"?"bg-green-900/30 border border-green-800":u.status==="partial"?"bg-yellow-900/30 border border-yellow-800":"bg-red-900/30 border border-red-800"}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.status==="ok"?c.jsx(Bt,{className:"w-5 h-5 text-green-400"}):u.status==="partial"?c.jsx(nr,{className:"w-5 h-5 text-yellow-400"}):c.jsx(hn,{className:"w-5 h-5 text-red-400"}),c.jsx("span",{className:`font-medium ${u.status==="ok"?"text-green-300":u.status==="partial"?"text-yellow-300":"text-red-300"}`,children:u.status==="ok"?h("init.installComplete"):u.status==="partial"?h("init.installPartial"):h("init.installFailed")})]}),c.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[c.jsx("p",{children:h("init.filesInstalled",{count:u.total_installed})}),u.total_skipped>0&&c.jsx("p",{children:h("init.filesSkipped",{count:u.total_skipped})}),u.errors.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:"text-red-400",children:h("init.errorsLabel")}),c.jsx("ul",{className:"list-disc list-inside text-red-300",children:u.errors.map((j,N)=>c.jsx("li",{children:j},N))})]})]})]}),v&&c.jsx("div",{className:"p-4 bg-red-900/30 border border-red-800 rounded-lg text-red-300",children:v}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-800",children:[c.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-gray-300",children:[c.jsx(Ea,{className:"w-4 h-4"}),h("init.back")]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-gray-300 text-sm",children:h("init.skip")}),c.jsxs("button",{type:"button",onClick:r,disabled:!k&&!u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[h("init.continue"),c.jsx(yi,{className:"w-4 h-4"})]})]})]})]})}function V2({initStatus:e,onComplete:r,onSkip:n,onBack:s}){const{t:a}=Ue(),[h,f]=J.useState(!1),o=e.auth_configured,u=e.auth_method;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:a("init.authTitle")}),c.jsx("p",{className:"text-gray-400",children:a("init.authDesc")})]}),c.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[o?c.jsx(Bt,{className:"w-5 h-5 text-green-400"}):c.jsx(Cd,{className:"w-5 h-5 text-gray-500"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-white",children:a("init.authStatus")}),c.jsx("p",{className:"text-sm text-gray-400",children:o?a("init.authConfigured",{method:a(u==="official"?"init.officialUserManaged":"init.customEndpoint")}):a("init.authNotConfigured")})]})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Sd,{className:"w-5 h-5 text-blue-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-white",children:a("init.officialAuth")}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:a("init.officialAuthDesc")})]})]})}),c.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Da,{className:"w-5 h-5 text-purple-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-white",children:a("init.customEndpoint")}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:a("init.customEndpointDesc")})]})]})})]}),!o&&c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:h,onChange:p=>f(p.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"text-sm text-gray-400",children:a("init.skipAuthCheckbox")})]}),c.jsx("div",{className:"bg-blue-900/20 border border-blue-800/50 rounded-lg p-4 text-sm text-blue-300",children:c.jsxs("p",{children:[c.jsxs("strong",{children:[a("common.note"),":"]})," ",a("init.authNote")]})}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-800",children:[c.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-gray-300",children:[c.jsx(Ea,{className:"w-4 h-4"}),a("init.back")]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-gray-300 text-sm",children:a("init.skip")}),c.jsxs("button",{type:"button",onClick:r,disabled:!o&&!h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a("init.continue"),c.jsx(yi,{className:"w-4 h-4"})]})]})]})]})}function K2({initStatus:e,stepsCompleted:r,onComplete:n,onBack:s}){const{t:a}=Ue(),[h,f]=J.useState(!1),[o,u]=J.useState(null),p=r.dependencies&&r.resources&&r.auth,v=async()=>{f(!0),u(null);try{const d=await _x();d.status==="ok"?n():u(d.message||"Failed to complete initialization")}catch(d){u(d instanceof Error?d.message:"Failed to complete initialization")}finally{f(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(V0,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:a(p?"init.allSet":"init.almostThere")}),c.jsx("p",{className:"text-gray-400",children:a(p?"init.readyToUse":"init.reviewSummary")})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[c.jsx("h4",{className:"font-medium text-white mb-3",children:a("init.compSummary")}),c.jsxs("div",{className:"flex items-center gap-3",children:[r.dependencies?c.jsx(Bt,{className:"w-5 h-5 text-green-400 flex-shrink-0"}):c.jsx(hn,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-white",children:a("settings.init.dependencies")}),c.jsx("span",{className:"text-gray-400 text-sm ml-2",children:r.dependencies?`Node.js ${e.node.version}, Claude Code ${e.claude_code.version}`:a("init.notFullyConfigured")})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[r.resources?c.jsx(Bt,{className:"w-5 h-5 text-green-400 flex-shrink-0"}):c.jsx(hn,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-white",children:a("settings.init.resources")}),c.jsx("span",{className:"text-gray-400 text-sm ml-2",children:r.resources?`v${e.resources_version||e.current_task_mind_version}`:a("init.notInstalled")})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[r.auth?c.jsx(Bt,{className:"w-5 h-5 text-green-400 flex-shrink-0"}):c.jsx(Lr,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-white",children:a("settings.init.auth")}),c.jsx("span",{className:"text-gray-400 text-sm ml-2",children:r.auth?e.auth_method==="official"?a("init.officialUserManaged"):a("init.customEndpoint"):a("init.configureInSettings")})]})]})]}),!p&&c.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-800/50 rounded-lg p-4 text-sm text-yellow-300 flex items-start gap-3",children:[c.jsx(Lr,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium mb-1",children:a("init.stepsSkippedTitle")}),c.jsx("p",{children:a("init.stepsSkippedDesc")})]})]}),o&&c.jsx("div",{className:"p-4 bg-red-900/30 border border-red-800 rounded-lg text-red-300",children:o}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-800",children:[c.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-2 text-gray-400 hover:text-gray-300",children:[c.jsx(Ea,{className:"w-4 h-4"}),a("init.back")]}),c.jsx("button",{type:"button",onClick:v,disabled:h,className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:h?c.jsxs(c.Fragment,{children:[c.jsx(mr,{className:"w-5 h-5 animate-spin"}),a("init.finishing")]}):c.jsxs(c.Fragment,{children:[c.jsx(Bt,{className:"w-5 h-5"}),a("init.finishSetup")]})})]})]})}const sr=[{id:"dependencies",labelKey:"settings.init.dependencies"},{id:"resources",labelKey:"settings.init.resources"},{id:"auth",labelKey:"settings.init.auth"},{id:"complete",labelKey:"settings.init.complete"}];function q2({isOpen:e,onClose:r,onComplete:n}){const{t:s}=Ue(),[a,h]=J.useState("dependencies"),[f,o]=J.useState(null),[u,p]=J.useState(!0),[v,d]=J.useState(null),[b,w]=J.useState({dependencies:!1,resources:!1,auth:!1,complete:!1});J.useEffect(()=>{e&&k()},[e]);const k=async()=>{p(!0),d(null);try{const y=await ya();o(y);const E=y.node.installed&&y.node.version_sufficient&&y.claude_code.installed&&y.claude_code.version_sufficient;w(j=>({...j,dependencies:E,resources:y.resources_installed,auth:y.auth_configured})),E&&!y.resources_installed?h("resources"):E&&y.resources_installed&&!y.auth_configured?h("auth"):E&&y.resources_installed&&h("complete")}catch(y){d(y instanceof Error?y.message:"Failed to load init status")}finally{p(!1)}},C=y=>{w(j=>({...j,[y]:!0}));const E=sr.findIndex(j=>j.id===y);E<sr.length-1&&h(sr[E+1].id)},m=()=>{const y=sr.findIndex(E=>E.id===a);y<sr.length-1&&h(sr[y+1].id)},x=()=>{const y=sr.findIndex(E=>E.id===a);y>0&&h(sr[y-1].id)},_=()=>{n(),r()};return e?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-gray-900 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-800 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:s("init.welcome")}),c.jsx("button",{type:"button",onClick:r,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors","aria-label":s("init.closeWizard"),children:c.jsx(fn,{className:"w-5 h-5 text-gray-400"})})]}),c.jsx("div",{className:"px-6 py-4 border-b border-gray-800",children:c.jsx("div",{className:"flex items-center justify-between",children:sr.map((y,E)=>{const j=y.id===a,N=b[y.id],D=sr.findIndex(L=>L.id===a)>E;return c.jsxs("div",{className:"flex items-center",children:[c.jsxs("button",{type:"button",onClick:()=>h(y.id),className:`flex items-center gap-2 px-3 py-1 rounded-full transition-colors ${j?"bg-blue-600 text-white":N||D?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-800 text-gray-500"}`,children:[N?c.jsx(Bt,{className:"w-4 h-4 text-green-400"}):c.jsx(xd,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:s(y.labelKey)})]}),E<sr.length-1&&c.jsx("div",{className:`w-8 h-0.5 mx-2 ${D||N?"bg-blue-600":"bg-gray-700"}`})]},y.id)})})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(mr,{className:"w-8 h-8 text-blue-500 animate-spin mb-4"}),c.jsx("p",{className:"text-gray-400",children:s("init.loadingStatus")})]}):v?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-red-400 mb-4",children:v}),c.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s("init.retry")})]}):f?c.jsxs(c.Fragment,{children:[a==="dependencies"&&c.jsx(U2,{initStatus:f,onComplete:()=>C("dependencies"),onSkip:m,onRefresh:k}),a==="resources"&&c.jsx(W2,{initStatus:f,onComplete:()=>C("resources"),onSkip:m,onBack:x,onRefresh:k}),a==="auth"&&c.jsx(V2,{initStatus:f,onComplete:()=>C("auth"),onSkip:m,onBack:x}),a==="complete"&&c.jsx(K2,{initStatus:f,stepsCompleted:b,onComplete:_,onBack:x})]}):null})]})}):null}function G2(){const{currentPage:e,loadConfig:r,toasts:n,switchPage:s}=Je(),[a,h]=J.useState(ed()),[f,o]=J.useState(!1);h0(),J.useEffect(()=>{const d=()=>{const b=window.location.hash.slice(1);if(!b){s("tasks");return}const[w,k]=b.split("/");s(w,k)};return window.addEventListener("popstate",d),()=>window.removeEventListener("popstate",d)},[s]),J.useEffect(()=>{(async()=>{const b=Dn();if(console.log("API mode:",b),b==="http")try{await Tx(),h(!0),r();try{(await ya()).init_completed||o(!0)}catch(w){console.warn("Failed to check init status:",w)}}catch(w){console.error("Failed to connect to web service:",w)}else{if(ed()){h(!0),r();return}const w=()=>{console.log("pywebview ready"),h(!0),r()};return window.addEventListener("pywebviewready",w),()=>window.removeEventListener("pywebviewready",w)}})()},[r]);const u=()=>{o(!1)},p=()=>{o(!0)};J.useEffect(()=>{console.log("App mounted, apiReady:",a)},[a]);const v=()=>{switch(e){case"dashboard":return c.jsx(_y,{});case"tasks":return c.jsx(Ld,{});case"task_detail":return c.jsx(h2,{});case"recipes":return c.jsx(v2,{});case"recipe_detail":return c.jsx(x2,{});case"skills":return c.jsx(y2,{});case"sync":return c.jsx(w2,{});case"secrets":return c.jsx(E2,{});case"settings":return c.jsx(T2,{onOpenInitWizard:p});case"console":return c.jsx(M2,{});case"workspace":case"project_detail":return c.jsx(H2,{});default:return c.jsx(Ld,{})}};return c.jsxs(c.Fragment,{children:[c.jsx(vy,{children:v()}),c.jsx(q2,{isOpen:f,onClose:()=>o(!1),onComplete:u}),n.length>0&&c.jsx("div",{className:"toast-container",children:n.map(d=>c.jsx($2,{...d},d.id))})]})}Eg.createRoot(document.getElementById("root")).render(c.jsx(J.StrictMode,{children:c.jsx(G2,{})}))})();
